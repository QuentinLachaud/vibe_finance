const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/CompoundInterestPage-BriK-YQs.js","assets/CartesianChart-j-4oSbR5.js","assets/BarChart-CkSdoRrb.js","assets/NetWorthPage-CrcIKgaD.js","assets/AreaChart-D6E_dPEO.js","assets/PortfolioSimulatorPage-MDoTRi-m.js","assets/simulationEngine-DmQAKyWZ.js","assets/ReportsPage-DyY_iHaK.js"])))=>i.map(i=>d[i]);
var E6=Object.defineProperty;var A6=(n,e,t)=>e in n?E6(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var vr=(n,e,t)=>A6(n,typeof e!="symbol"?e+"":e,t);function S6(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in n)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(n,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();var WP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function x6(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var R1={exports:{}},Ff={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M5;function T6(){if(M5)return Ff;M5=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,s,o){var u=null;if(o!==void 0&&(u=""+o),s.key!==void 0&&(u=""+s.key),"key"in s){o={};for(var c in s)c!=="key"&&(o[c]=s[c])}else o=s;return s=o.ref,{$$typeof:n,type:r,key:u,ref:s!==void 0?s:null,props:o}}return Ff.Fragment=e,Ff.jsx=t,Ff.jsxs=t,Ff}var j5;function N6(){return j5||(j5=1,R1.exports=T6()),R1.exports}var B=N6(),L1={exports:{}},_n={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U5;function C6(){if(U5)return _n;U5=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),A=Symbol.iterator;function b(Q){return Q===null||typeof Q!="object"?null:(Q=A&&Q[A]||Q["@@iterator"],typeof Q=="function"?Q:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,U={};function F(Q,I,K){this.props=Q,this.context=I,this.refs=U,this.updater=K||M}F.prototype.isReactComponent={},F.prototype.setState=function(Q,I){if(typeof Q!="object"&&typeof Q!="function"&&Q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Q,I,"setState")},F.prototype.forceUpdate=function(Q){this.updater.enqueueForceUpdate(this,Q,"forceUpdate")};function $(){}$.prototype=F.prototype;function ee(Q,I,K){this.props=Q,this.context=I,this.refs=U,this.updater=K||M}var te=ee.prototype=new $;te.constructor=ee,P(te,F.prototype),te.isPureReactComponent=!0;var ce=Array.isArray;function Ee(){}var O={H:null,A:null,T:null,S:null},k=Object.prototype.hasOwnProperty;function R(Q,I,K){var J=K.ref;return{$$typeof:n,type:Q,key:I,ref:J!==void 0?J:null,props:K}}function q(Q,I){return R(Q.type,I,Q.props)}function T(Q){return typeof Q=="object"&&Q!==null&&Q.$$typeof===n}function D(Q){var I={"=":"=0",":":"=2"};return"$"+Q.replace(/[=:]/g,function(K){return I[K]})}var j=/\/+/g;function le(Q,I){return typeof Q=="object"&&Q!==null&&Q.key!=null?D(""+Q.key):I.toString(36)}function xe(Q){switch(Q.status){case"fulfilled":return Q.value;case"rejected":throw Q.reason;default:switch(typeof Q.status=="string"?Q.then(Ee,Ee):(Q.status="pending",Q.then(function(I){Q.status==="pending"&&(Q.status="fulfilled",Q.value=I)},function(I){Q.status==="pending"&&(Q.status="rejected",Q.reason=I)})),Q.status){case"fulfilled":return Q.value;case"rejected":throw Q.reason}}throw Q}function re(Q,I,K,J,oe){var he=typeof Q;(he==="undefined"||he==="boolean")&&(Q=null);var be=!1;if(Q===null)be=!0;else switch(he){case"bigint":case"string":case"number":be=!0;break;case"object":switch(Q.$$typeof){case n:case e:be=!0;break;case g:return be=Q._init,re(be(Q._payload),I,K,J,oe)}}if(be)return oe=oe(Q),be=J===""?"."+le(Q,0):J,ce(oe)?(K="",be!=null&&(K=be.replace(j,"$&/")+"/"),re(oe,I,K,"",function(ze){return ze})):oe!=null&&(T(oe)&&(oe=q(oe,K+(oe.key==null||Q&&Q.key===oe.key?"":(""+oe.key).replace(j,"$&/")+"/")+be)),I.push(oe)),1;be=0;var Ie=J===""?".":J+":";if(ce(Q))for(var De=0;De<Q.length;De++)J=Q[De],he=Ie+le(J,De),be+=re(J,I,K,he,oe);else if(De=b(Q),typeof De=="function")for(Q=De.call(Q),De=0;!(J=Q.next()).done;)J=J.value,he=Ie+le(J,De++),be+=re(J,I,K,he,oe);else if(he==="object"){if(typeof Q.then=="function")return re(xe(Q),I,K,J,oe);throw I=String(Q),Error("Objects are not valid as a React child (found: "+(I==="[object Object]"?"object with keys {"+Object.keys(Q).join(", ")+"}":I)+"). If you meant to render a collection of children, use an array instead.")}return be}function me(Q,I,K){if(Q==null)return Q;var J=[],oe=0;return re(Q,J,"","",function(he){return I.call(K,he,oe++)}),J}function fe(Q){if(Q._status===-1){var I=Q._result;I=I(),I.then(function(K){(Q._status===0||Q._status===-1)&&(Q._status=1,Q._result=K)},function(K){(Q._status===0||Q._status===-1)&&(Q._status=2,Q._result=K)}),Q._status===-1&&(Q._status=0,Q._result=I)}if(Q._status===1)return Q._result.default;throw Q._result}var Ne=typeof reportError=="function"?reportError:function(Q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var I=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Q=="object"&&Q!==null&&typeof Q.message=="string"?String(Q.message):String(Q),error:Q});if(!window.dispatchEvent(I))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Q);return}console.error(Q)},Fe={map:me,forEach:function(Q,I,K){me(Q,function(){I.apply(this,arguments)},K)},count:function(Q){var I=0;return me(Q,function(){I++}),I},toArray:function(Q){return me(Q,function(I){return I})||[]},only:function(Q){if(!T(Q))throw Error("React.Children.only expected to receive a single React element child.");return Q}};return _n.Activity=w,_n.Children=Fe,_n.Component=F,_n.Fragment=t,_n.Profiler=s,_n.PureComponent=ee,_n.StrictMode=r,_n.Suspense=f,_n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,_n.__COMPILER_RUNTIME={__proto__:null,c:function(Q){return O.H.useMemoCache(Q)}},_n.cache=function(Q){return function(){return Q.apply(null,arguments)}},_n.cacheSignal=function(){return null},_n.cloneElement=function(Q,I,K){if(Q==null)throw Error("The argument must be a React element, but you passed "+Q+".");var J=P({},Q.props),oe=Q.key;if(I!=null)for(he in I.key!==void 0&&(oe=""+I.key),I)!k.call(I,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&I.ref===void 0||(J[he]=I[he]);var he=arguments.length-2;if(he===1)J.children=K;else if(1<he){for(var be=Array(he),Ie=0;Ie<he;Ie++)be[Ie]=arguments[Ie+2];J.children=be}return R(Q.type,oe,J)},_n.createContext=function(Q){return Q={$$typeof:u,_currentValue:Q,_currentValue2:Q,_threadCount:0,Provider:null,Consumer:null},Q.Provider=Q,Q.Consumer={$$typeof:o,_context:Q},Q},_n.createElement=function(Q,I,K){var J,oe={},he=null;if(I!=null)for(J in I.key!==void 0&&(he=""+I.key),I)k.call(I,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(oe[J]=I[J]);var be=arguments.length-2;if(be===1)oe.children=K;else if(1<be){for(var Ie=Array(be),De=0;De<be;De++)Ie[De]=arguments[De+2];oe.children=Ie}if(Q&&Q.defaultProps)for(J in be=Q.defaultProps,be)oe[J]===void 0&&(oe[J]=be[J]);return R(Q,he,oe)},_n.createRef=function(){return{current:null}},_n.forwardRef=function(Q){return{$$typeof:c,render:Q}},_n.isValidElement=T,_n.lazy=function(Q){return{$$typeof:g,_payload:{_status:-1,_result:Q},_init:fe}},_n.memo=function(Q,I){return{$$typeof:d,type:Q,compare:I===void 0?null:I}},_n.startTransition=function(Q){var I=O.T,K={};O.T=K;try{var J=Q(),oe=O.S;oe!==null&&oe(K,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(Ee,Ne)}catch(he){Ne(he)}finally{I!==null&&K.types!==null&&(I.types=K.types),O.T=I}},_n.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},_n.use=function(Q){return O.H.use(Q)},_n.useActionState=function(Q,I,K){return O.H.useActionState(Q,I,K)},_n.useCallback=function(Q,I){return O.H.useCallback(Q,I)},_n.useContext=function(Q){return O.H.useContext(Q)},_n.useDebugValue=function(){},_n.useDeferredValue=function(Q,I){return O.H.useDeferredValue(Q,I)},_n.useEffect=function(Q,I){return O.H.useEffect(Q,I)},_n.useEffectEvent=function(Q){return O.H.useEffectEvent(Q)},_n.useId=function(){return O.H.useId()},_n.useImperativeHandle=function(Q,I,K){return O.H.useImperativeHandle(Q,I,K)},_n.useInsertionEffect=function(Q,I){return O.H.useInsertionEffect(Q,I)},_n.useLayoutEffect=function(Q,I){return O.H.useLayoutEffect(Q,I)},_n.useMemo=function(Q,I){return O.H.useMemo(Q,I)},_n.useOptimistic=function(Q,I){return O.H.useOptimistic(Q,I)},_n.useReducer=function(Q,I,K){return O.H.useReducer(Q,I,K)},_n.useRef=function(Q){return O.H.useRef(Q)},_n.useState=function(Q){return O.H.useState(Q)},_n.useSyncExternalStore=function(Q,I,K){return O.H.useSyncExternalStore(Q,I,K)},_n.useTransition=function(){return O.H.useTransition()},_n.version="19.2.4",_n}var F5;function f2(){return F5||(F5=1,L1.exports=C6()),L1.exports}var de=f2();const R6=x6(de),L6=S6({__proto__:null,default:R6},[de]);var I1={exports:{}},Vf={},k1={exports:{}},O1={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V5;function I6(){return V5||(V5=1,(function(n){function e(re,me){var fe=re.length;re.push(me);e:for(;0<fe;){var Ne=fe-1>>>1,Fe=re[Ne];if(0<s(Fe,me))re[Ne]=me,re[fe]=Fe,fe=Ne;else break e}}function t(re){return re.length===0?null:re[0]}function r(re){if(re.length===0)return null;var me=re[0],fe=re.pop();if(fe!==me){re[0]=fe;e:for(var Ne=0,Fe=re.length,Q=Fe>>>1;Ne<Q;){var I=2*(Ne+1)-1,K=re[I],J=I+1,oe=re[J];if(0>s(K,fe))J<Fe&&0>s(oe,K)?(re[Ne]=oe,re[J]=fe,Ne=J):(re[Ne]=K,re[I]=fe,Ne=I);else if(J<Fe&&0>s(oe,fe))re[Ne]=oe,re[J]=fe,Ne=J;else break e}}return me}function s(re,me){var fe=re.sortIndex-me.sortIndex;return fe!==0?fe:re.id-me.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var u=Date,c=u.now();n.unstable_now=function(){return u.now()-c}}var f=[],d=[],g=1,w=null,A=3,b=!1,M=!1,P=!1,U=!1,F=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,ee=typeof setImmediate<"u"?setImmediate:null;function te(re){for(var me=t(d);me!==null;){if(me.callback===null)r(d);else if(me.startTime<=re)r(d),me.sortIndex=me.expirationTime,e(f,me);else break;me=t(d)}}function ce(re){if(P=!1,te(re),!M)if(t(f)!==null)M=!0,Ee||(Ee=!0,D());else{var me=t(d);me!==null&&xe(ce,me.startTime-re)}}var Ee=!1,O=-1,k=5,R=-1;function q(){return U?!0:!(n.unstable_now()-R<k)}function T(){if(U=!1,Ee){var re=n.unstable_now();R=re;var me=!0;try{e:{M=!1,P&&(P=!1,$(O),O=-1),b=!0;var fe=A;try{t:{for(te(re),w=t(f);w!==null&&!(w.expirationTime>re&&q());){var Ne=w.callback;if(typeof Ne=="function"){w.callback=null,A=w.priorityLevel;var Fe=Ne(w.expirationTime<=re);if(re=n.unstable_now(),typeof Fe=="function"){w.callback=Fe,te(re),me=!0;break t}w===t(f)&&r(f),te(re)}else r(f);w=t(f)}if(w!==null)me=!0;else{var Q=t(d);Q!==null&&xe(ce,Q.startTime-re),me=!1}}break e}finally{w=null,A=fe,b=!1}me=void 0}}finally{me?D():Ee=!1}}}var D;if(typeof ee=="function")D=function(){ee(T)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,le=j.port2;j.port1.onmessage=T,D=function(){le.postMessage(null)}}else D=function(){F(T,0)};function xe(re,me){O=F(function(){re(n.unstable_now())},me)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(re){re.callback=null},n.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<re?Math.floor(1e3/re):5},n.unstable_getCurrentPriorityLevel=function(){return A},n.unstable_next=function(re){switch(A){case 1:case 2:case 3:var me=3;break;default:me=A}var fe=A;A=me;try{return re()}finally{A=fe}},n.unstable_requestPaint=function(){U=!0},n.unstable_runWithPriority=function(re,me){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var fe=A;A=re;try{return me()}finally{A=fe}},n.unstable_scheduleCallback=function(re,me,fe){var Ne=n.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?Ne+fe:Ne):fe=Ne,re){case 1:var Fe=-1;break;case 2:Fe=250;break;case 5:Fe=1073741823;break;case 4:Fe=1e4;break;default:Fe=5e3}return Fe=fe+Fe,re={id:g++,callback:me,priorityLevel:re,startTime:fe,expirationTime:Fe,sortIndex:-1},fe>Ne?(re.sortIndex=fe,e(d,re),t(f)===null&&re===t(d)&&(P?($(O),O=-1):P=!0,xe(ce,fe-Ne))):(re.sortIndex=Fe,e(f,re),M||b||(M=!0,Ee||(Ee=!0,D()))),re},n.unstable_shouldYield=q,n.unstable_wrapCallback=function(re){var me=A;return function(){var fe=A;A=me;try{return re.apply(this,arguments)}finally{A=fe}}}})(O1)),O1}var B5;function k6(){return B5||(B5=1,k1.exports=I6()),k1.exports}var D1={exports:{}},wa={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z5;function O6(){if(z5)return wa;z5=1;var n=f2();function e(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)d+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(f,d,g){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:w==null?null:""+w,children:f,containerInfo:d,implementation:g}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return wa.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,wa.createPortal=function(f,d){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return o(f,d,null,g)},wa.flushSync=function(f){var d=u.T,g=r.p;try{if(u.T=null,r.p=2,f)return f()}finally{u.T=d,r.p=g,r.d.f()}},wa.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(f,d))},wa.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},wa.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var g=d.as,w=c(g,d.crossOrigin),A=typeof d.integrity=="string"?d.integrity:void 0,b=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;g==="style"?r.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:w,integrity:A,fetchPriority:b}):g==="script"&&r.d.X(f,{crossOrigin:w,integrity:A,fetchPriority:b,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},wa.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var g=c(d.as,d.crossOrigin);r.d.M(f,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(f)},wa.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var g=d.as,w=c(g,d.crossOrigin);r.d.L(f,g,{crossOrigin:w,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},wa.preloadModule=function(f,d){if(typeof f=="string")if(d){var g=c(d.as,d.crossOrigin);r.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(f)},wa.requestFormReset=function(f){r.d.r(f)},wa.unstable_batchedUpdates=function(f,d){return f(d)},wa.useFormState=function(f,d,g){return u.H.useFormState(f,d,g)},wa.useFormStatus=function(){return u.H.useHostTransitionStatus()},wa.version="19.2.4",wa}var q5;function u4(){if(q5)return D1.exports;q5=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),D1.exports=O6(),D1.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H5;function D6(){if(H5)return Vf;H5=1;var n=k6(),e=f2(),t=u4();function r(i){var a="https://react.dev/errors/"+i;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var a=i,l=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(l=a.return),i=a.return;while(i)}return a.tag===3?l:null}function u(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function c(i){if(i.tag===31){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function f(i){if(o(i)!==i)throw Error(r(188))}function d(i){var a=i.alternate;if(!a){if(a=o(i),a===null)throw Error(r(188));return a!==i?null:i}for(var l=i,h=a;;){var y=l.return;if(y===null)break;var _=y.alternate;if(_===null){if(h=y.return,h!==null){l=h;continue}break}if(y.child===_.child){for(_=y.child;_;){if(_===l)return f(y),i;if(_===h)return f(y),a;_=_.sibling}throw Error(r(188))}if(l.return!==h.return)l=y,h=_;else{for(var C=!1,Y=y.child;Y;){if(Y===l){C=!0,l=y,h=_;break}if(Y===h){C=!0,h=y,l=_;break}Y=Y.sibling}if(!C){for(Y=_.child;Y;){if(Y===l){C=!0,l=_,h=y;break}if(Y===h){C=!0,h=_,l=y;break}Y=Y.sibling}if(!C)throw Error(r(189))}}if(l.alternate!==h)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?i:a}function g(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i;for(i=i.child;i!==null;){if(a=g(i),a!==null)return a;i=i.sibling}return null}var w=Object.assign,A=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),$=Symbol.for("react.consumer"),ee=Symbol.for("react.context"),te=Symbol.for("react.forward_ref"),ce=Symbol.for("react.suspense"),Ee=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),q=Symbol.for("react.memo_cache_sentinel"),T=Symbol.iterator;function D(i){return i===null||typeof i!="object"?null:(i=T&&i[T]||i["@@iterator"],typeof i=="function"?i:null)}var j=Symbol.for("react.client.reference");function le(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===j?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case P:return"Fragment";case F:return"Profiler";case U:return"StrictMode";case ce:return"Suspense";case Ee:return"SuspenseList";case R:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case M:return"Portal";case ee:return i.displayName||"Context";case $:return(i._context.displayName||"Context")+".Consumer";case te:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case O:return a=i.displayName||null,a!==null?a:le(i.type)||"Memo";case k:a=i._payload,i=i._init;try{return le(i(a))}catch{}}return null}var xe=Array.isArray,re=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},Ne=[],Fe=-1;function Q(i){return{current:i}}function I(i){0>Fe||(i.current=Ne[Fe],Ne[Fe]=null,Fe--)}function K(i,a){Fe++,Ne[Fe]=i.current,i.current=a}var J=Q(null),oe=Q(null),he=Q(null),be=Q(null);function Ie(i,a){switch(K(he,a),K(oe,i),K(J,null),a.nodeType){case 9:case 11:i=(i=a.documentElement)&&(i=i.namespaceURI)?a5(i):0;break;default:if(i=a.tagName,a=a.namespaceURI)a=a5(a),i=s5(a,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}I(J),K(J,i)}function De(){I(J),I(oe),I(he)}function ze(i){i.memoizedState!==null&&K(be,i);var a=J.current,l=s5(a,i.type);a!==l&&(K(oe,i),K(J,l))}function tt(i){oe.current===i&&(I(J),I(oe)),be.current===i&&(I(be),Pf._currentValue=fe)}var it,lt;function bt(i){if(it===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);it=a&&a[1]||"",lt=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+it+i+lt}var ne=!1;function ot(i,a){if(!i||ne)return"";ne=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(a){var We=function(){throw Error()};if(Object.defineProperty(We.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(We,[])}catch(Ue){var je=Ue}Reflect.construct(i,[],We)}else{try{We.call()}catch(Ue){je=Ue}i.call(We.prototype)}}else{try{throw Error()}catch(Ue){je=Ue}(We=i())&&typeof We.catch=="function"&&We.catch(function(){})}}catch(Ue){if(Ue&&je&&typeof Ue.stack=="string")return[Ue.stack,je.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=h.DetermineComponentFrameRoot(),C=_[0],Y=_[1];if(C&&Y){var pe=C.split(`
`),Pe=Y.split(`
`);for(y=h=0;h<pe.length&&!pe[h].includes("DetermineComponentFrameRoot");)h++;for(;y<Pe.length&&!Pe[y].includes("DetermineComponentFrameRoot");)y++;if(h===pe.length||y===Pe.length)for(h=pe.length-1,y=Pe.length-1;1<=h&&0<=y&&pe[h]!==Pe[y];)y--;for(;1<=h&&0<=y;h--,y--)if(pe[h]!==Pe[y]){if(h!==1||y!==1)do if(h--,y--,0>y||pe[h]!==Pe[y]){var Ge=`
`+pe[h].replace(" at new "," at ");return i.displayName&&Ge.includes("<anonymous>")&&(Ge=Ge.replace("<anonymous>",i.displayName)),Ge}while(1<=h&&0<=y);break}}}finally{ne=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?bt(l):""}function un(i,a){switch(i.tag){case 26:case 27:case 5:return bt(i.type);case 16:return bt("Lazy");case 13:return i.child!==a&&a!==null?bt("Suspense Fallback"):bt("Suspense");case 19:return bt("SuspenseList");case 0:case 15:return ot(i.type,!1);case 11:return ot(i.type.render,!1);case 1:return ot(i.type,!0);case 31:return bt("Activity");default:return""}}function Ut(i){try{var a="",l=null;do a+=un(i,l),l=i,i=i.return;while(i);return a}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var $e=Object.prototype.hasOwnProperty,pt=n.unstable_scheduleCallback,ft=n.unstable_cancelCallback,Vt=n.unstable_shouldYield,kt=n.unstable_requestPaint,Qt=n.unstable_now,rn=n.unstable_getCurrentPriorityLevel,en=n.unstable_ImmediatePriority,gn=n.unstable_UserBlockingPriority,$t=n.unstable_NormalPriority,mt=n.unstable_LowPriority,an=n.unstable_IdlePriority,xt=n.log,ur=n.unstable_setDisableYieldValue,fn=null,Et=null;function Yt(i){if(typeof xt=="function"&&ur(i),Et&&typeof Et.setStrictMode=="function")try{Et.setStrictMode(fn,i)}catch{}}var on=Math.clz32?Math.clz32:qt,Ot=Math.log,Bn=Math.LN2;function qt(i){return i>>>=0,i===0?32:31-(Ot(i)/Bn|0)|0}var Ft=256,zn=262144,Rt=4194304;function Lt(i){var a=i&42;if(a!==0)return a;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function vn(i,a,l){var h=i.pendingLanes;if(h===0)return 0;var y=0,_=i.suspendedLanes,C=i.pingedLanes;i=i.warmLanes;var Y=h&134217727;return Y!==0?(h=Y&~_,h!==0?y=Lt(h):(C&=Y,C!==0?y=Lt(C):l||(l=Y&~i,l!==0&&(y=Lt(l))))):(Y=h&~_,Y!==0?y=Lt(Y):C!==0?y=Lt(C):l||(l=h&~i,l!==0&&(y=Lt(l)))),y===0?0:a!==0&&a!==y&&(a&_)===0&&(_=y&-y,l=a&-a,_>=l||_===32&&(l&4194048)!==0)?a:y}function hi(i,a){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&a)===0}function Wr(i,a){switch(i){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Li(){var i=Rt;return Rt<<=1,(Rt&62914560)===0&&(Rt=4194304),i}function Dr(i){for(var a=[],l=0;31>l;l++)a.push(i);return a}function Dt(i,a){i.pendingLanes|=a,a!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function ka(i,a,l,h,y,_){var C=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var Y=i.entanglements,pe=i.expirationTimes,Pe=i.hiddenUpdates;for(l=C&~l;0<l;){var Ge=31-on(l),We=1<<Ge;Y[Ge]=0,pe[Ge]=-1;var je=Pe[Ge];if(je!==null)for(Pe[Ge]=null,Ge=0;Ge<je.length;Ge++){var Ue=je[Ge];Ue!==null&&(Ue.lane&=-536870913)}l&=~We}h!==0&&Ii(i,h,0),_!==0&&y===0&&i.tag!==0&&(i.suspendedLanes|=_&~(C&~a))}function Ii(i,a,l){i.pendingLanes|=a,i.suspendedLanes&=~a;var h=31-on(a);i.entangledLanes|=a,i.entanglements[h]=i.entanglements[h]|1073741824|l&261930}function ue(i,a){var l=i.entangledLanes|=a;for(i=i.entanglements;l;){var h=31-on(l),y=1<<h;y&a|i[h]&a&&(i[h]|=a),l&=~y}}function _e(i,a){var l=a&-a;return l=(l&42)!==0?1:Te(l),(l&(i.suspendedLanes|a))!==0?0:l}function Te(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function qe(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Ze(){var i=me.p;return i!==0?i:(i=window.event,i===void 0?32:R5(i.type))}function ht(i,a){var l=me.p;try{return me.p=i,a()}finally{me.p=l}}var dt=Math.random().toString(36).slice(2),rt="__reactFiber$"+dt,st="__reactProps$"+dt,ct="__reactContainer$"+dt,Pt="__reactEvents$"+dt,gt="__reactListeners$"+dt,Jt="__reactHandles$"+dt,sn="__reactResources$"+dt,Pn="__reactMarker$"+dt;function Zn(i){delete i[rt],delete i[st],delete i[Pt],delete i[gt],delete i[Jt]}function Xn(i){var a=i[rt];if(a)return a;for(var l=i.parentNode;l;){if(a=l[ct]||l[rt]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(i=d5(i);i!==null;){if(l=i[rt])return l;i=d5(i)}return a}i=l,l=i.parentNode}return null}function cn(i){if(i=i[rt]||i[ct]){var a=i.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return i}return null}function cr(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i.stateNode;throw Error(r(33))}function zr(i){var a=i[sn];return a||(a=i[sn]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function ar(i){i[Pn]=!0}var ki=new Set,dr={};function Ei(i,a){fi(i,a),fi(i+"Capture",a)}function fi(i,a){for(dr[i]=a,i=0;i<a.length;i++)ki.add(a[i])}var Oi=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Oa={},Da={};function An(i){return $e.call(Da,i)?!0:$e.call(Oa,i)?!1:Oi.test(i)?Da[i]=!0:(Oa[i]=!0,!1)}function Gn(i,a,l){if(An(a))if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(a);return;case"boolean":var h=a.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){i.removeAttribute(a);return}}i.setAttribute(a,""+l)}}function Cr(i,a,l){if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttribute(a,""+l)}}function er(i,a,l,h){if(h===null)i.removeAttribute(l);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(a,l,""+h)}}function It(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ki(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Di(i,a,l){var h=Object.getOwnPropertyDescriptor(i.constructor.prototype,a);if(!i.hasOwnProperty(a)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var y=h.get,_=h.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return y.call(this)},set:function(C){l=""+C,_.call(this,C)}}),Object.defineProperty(i,a,{enumerable:h.enumerable}),{getValue:function(){return l},setValue:function(C){l=""+C},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function Rn(i){if(!i._valueTracker){var a=Ki(i)?"checked":"value";i._valueTracker=Di(i,a,""+i[a])}}function Ns(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var l=a.getValue(),h="";return i&&(h=Ki(i)?i.checked?"true":"false":i.value),i=h,i!==l?(a.setValue(i),!0):!1}function Xr(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Rr=/[\n"\\]/g;function qr(i){return i.replace(Rr,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Qs(i,a,l,h,y,_,C,Y){i.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?i.type=C:i.removeAttribute("type"),a!=null?C==="number"?(a===0&&i.value===""||i.value!=a)&&(i.value=""+It(a)):i.value!==""+It(a)&&(i.value=""+It(a)):C!=="submit"&&C!=="reset"||i.removeAttribute("value"),a!=null?cl(i,C,It(a)):l!=null?cl(i,C,It(l)):h!=null&&i.removeAttribute("value"),y==null&&_!=null&&(i.defaultChecked=!!_),y!=null&&(i.checked=y&&typeof y!="function"&&typeof y!="symbol"),Y!=null&&typeof Y!="function"&&typeof Y!="symbol"&&typeof Y!="boolean"?i.name=""+It(Y):i.removeAttribute("name")}function Kl(i,a,l,h,y,_,C,Y){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(i.type=_),a!=null||l!=null){if(!(_!=="submit"&&_!=="reset"||a!=null)){Rn(i);return}l=l!=null?""+It(l):"",a=a!=null?""+It(a):l,Y||a===i.value||(i.value=a),i.defaultValue=a}h=h??y,h=typeof h!="function"&&typeof h!="symbol"&&!!h,i.checked=Y?i.checked:!!h,i.defaultChecked=!!h,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(i.name=C),Rn(i)}function cl(i,a,l){a==="number"&&Xr(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function Pi(i,a,l,h){if(i=i.options,a){a={};for(var y=0;y<l.length;y++)a["$"+l[y]]=!0;for(l=0;l<i.length;l++)y=a.hasOwnProperty("$"+i[l].value),i[l].selected!==y&&(i[l].selected=y),y&&h&&(i[l].defaultSelected=!0)}else{for(l=""+It(l),a=null,y=0;y<i.length;y++){if(i[y].value===l){i[y].selected=!0,h&&(i[y].defaultSelected=!0);return}a!==null||i[y].disabled||(a=i[y])}a!==null&&(a.selected=!0)}}function hl(i,a,l){if(a!=null&&(a=""+It(a),a!==i.value&&(i.value=a),l==null)){i.defaultValue!==a&&(i.defaultValue=a);return}i.defaultValue=l!=null?""+It(l):""}function hs(i,a,l,h){if(a==null){if(h!=null){if(l!=null)throw Error(r(92));if(xe(h)){if(1<h.length)throw Error(r(93));h=h[0]}l=h}l==null&&(l=""),a=l}l=It(a),i.defaultValue=l,h=i.textContent,h===l&&h!==""&&h!==null&&(i.value=h),Rn(i)}function di(i,a){if(a){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=a;return}}i.textContent=a}var Cs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function fl(i,a,l){var h=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?h?i.setProperty(a,""):a==="float"?i.cssFloat="":i[a]="":h?i.setProperty(a,l):typeof l!="number"||l===0||Cs.has(a)?a==="float"?i.cssFloat=l:i[a]=(""+l).trim():i[a]=l+"px"}function dl(i,a,l){if(a!=null&&typeof a!="object")throw Error(r(62));if(i=i.style,l!=null){for(var h in l)!l.hasOwnProperty(h)||a!=null&&a.hasOwnProperty(h)||(h.indexOf("--")===0?i.setProperty(h,""):h==="float"?i.cssFloat="":i[h]="");for(var y in a)h=a[y],a.hasOwnProperty(y)&&l[y]!==h&&fl(i,y,h)}else for(var _ in a)a.hasOwnProperty(_)&&fl(i,_,a[_])}function Ro(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),fs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Wi(i){return fs.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Pa(){}var ds=null;function Xi(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Rs=null,Ht=null;function Js(i){var a=cn(i);if(a&&(i=a.stateNode)){var l=i[st]||null;e:switch(i=a.stateNode,a.type){case"input":if(Qs(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+qr(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var h=l[a];if(h!==i&&h.form===i.form){var y=h[st]||null;if(!y)throw Error(r(90));Qs(h,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(a=0;a<l.length;a++)h=l[a],h.form===i.form&&Ns(h)}break e;case"textarea":hl(i,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&Pi(i,!!l.multiple,a,!1)}}}var Io=!1;function Ls(i,a,l){if(Io)return i(a,l);Io=!0;try{var h=i(a);return h}finally{if(Io=!1,(Rs!==null||Ht!==null)&&(pp(),Rs&&(a=Rs,i=Ht,Ht=Rs=null,Js(a),i)))for(a=0;a<i.length;a++)Js(i[a])}}function pi(i,a){var l=i.stateNode;if(l===null)return null;var h=l[st]||null;if(h===null)return null;l=h[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(r(231,a,typeof l));return l}var ri=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zs=!1;if(ri)try{var tr={};Object.defineProperty(tr,"passive",{get:function(){Zs=!0}}),window.addEventListener("test",tr,tr),window.removeEventListener("test",tr,tr)}catch{Zs=!1}var aa=null,eo=null,Ma=null;function pl(){if(Ma)return Ma;var i,a=eo,l=a.length,h,y="value"in aa?aa.value:aa.textContent,_=y.length;for(i=0;i<l&&a[i]===y[i];i++);var C=l-i;for(h=1;h<=C&&a[l-h]===y[_-h];h++);return Ma=y.slice(i,1<h?1-h:void 0)}function sa(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function ps(){return!0}function oa(){return!1}function Qr(i){function a(l,h,y,_,C){this._reactName=l,this._targetInst=y,this.type=h,this.nativeEvent=_,this.target=C,this.currentTarget=null;for(var Y in i)i.hasOwnProperty(Y)&&(l=i[Y],this[Y]=l?l(_):_[Y]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?ps:oa,this.isPropagationStopped=oa,this}return w(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=ps)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=ps)},persist:function(){},isPersistent:ps}),a}var qa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ai=Qr(qa),Ha=w({},qa,{view:0,detail:0}),Is=Qr(Ha),Ga,$a,va,to=w({},Ha,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Kt,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==va&&(va&&i.type==="mousemove"?(Ga=i.screenX-va.screenX,$a=i.screenY-va.screenY):$a=Ga=0,va=i),Ga)},movementY:function(i){return"movementY"in i?i.movementY:$a}}),ko=Qr(to),la=w({},to,{dataTransfer:0}),Ya=Qr(la),ml=w({},Ha,{relatedTarget:0}),ja=Qr(ml),Oo=w({},qa,{animationName:0,elapsedTime:0,pseudoElement:0}),E=Qr(Oo),V=w({},qa,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),ae=Qr(V),ge=w({},qa,{data:0}),Ae=Qr(ge),He={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_t={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tt(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=_t[i])?!!a[i]:!1}function Kt(){return Tt}var Bt=w({},Ha,{key:function(i){if(i.key){var a=He[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=sa(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Qe[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Kt,charCode:function(i){return i.type==="keypress"?sa(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?sa(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Ln=Qr(Bt),wr=w({},to,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hr=Qr(wr),m=w({},Ha,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Kt}),x=Qr(m),L=w({},qa,{propertyName:0,elapsedTime:0,pseudoElement:0}),X=Qr(L),Ce=w({},to,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Me=Qr(Ce),at=w({},qa,{newState:0,oldState:0}),hn=Qr(at),Er=[9,13,27,32],Tn=ri&&"CompositionEvent"in window,nr=null;ri&&"documentMode"in document&&(nr=document.documentMode);var Si=ri&&"TextEvent"in window&&!nr,Mi=ri&&(!Tn||nr&&8<nr&&11>=nr),pr=" ",ji=!1;function Ua(i,a){switch(i){case"keyup":return Er.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ks(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Os=!1;function ua(i,a){switch(i){case"compositionend":return ks(a);case"keypress":return a.which!==32?null:(ji=!0,pr);case"textInput":return i=a.data,i===pr&&ji?null:i;default:return null}}function no(i,a){if(Os)return i==="compositionend"||!Tn&&Ua(i,a)?(i=pl(),Ma=eo=aa=null,Os=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Mi&&a.locale!=="ko"?null:a.data;default:return null}}var Wl={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wu(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!Wl[i.type]:a==="textarea"}function Fa(i,a,l,h){Rs?Ht?Ht.push(h):Ht=[h]:Rs=h,a=wp(a,"onChange"),0<a.length&&(l=new Ai("onChange","change",null,l,h),i.push({event:l,listeners:a}))}var ms=null,ro=null;function Xu(i){Zv(i,0)}function gs(i){var a=cr(i);if(Ns(a))return i}function Do(i,a){if(i==="change")return a}var ba=!1;if(ri){var ca;if(ri){var Ds="oninput"in document;if(!Ds){var Ps=document.createElement("div");Ps.setAttribute("oninput","return;"),Ds=typeof Ps.oninput=="function"}ca=Ds}else ca=!1;ba=ca&&(!document.documentMode||9<document.documentMode)}function io(){ms&&(ms.detachEvent("onpropertychange",Xl),ro=ms=null)}function Xl(i){if(i.propertyName==="value"&&gs(ro)){var a=[];Fa(a,ro,i,Xi(i)),Ls(Xu,a)}}function Ql(i,a,l){i==="focusin"?(io(),ms=a,ro=l,ms.attachEvent("onpropertychange",Xl)):i==="focusout"&&io()}function Jr(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return gs(ro)}function Uc(i,a){if(i==="click")return gs(a)}function Ms(i,a){if(i==="input"||i==="change")return gs(a)}function js(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var Ui=typeof Object.is=="function"?Object.is:js;function ao(i,a){if(Ui(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var l=Object.keys(i),h=Object.keys(a);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var y=l[h];if(!$e.call(a,y)||!Ui(i[y],a[y]))return!1}return!0}function Jl(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Zl(i,a){var l=Jl(i);i=0;for(var h;l;){if(l.nodeType===3){if(h=i+l.textContent.length,i<=a&&h>=a)return{node:l,offset:a-i};i=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Jl(l)}}function so(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?so(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function oo(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var a=Xr(i.document);a instanceof i.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)i=a.contentWindow;else break;a=Xr(i.document)}return a}function Us(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}var gl=ri&&"documentMode"in document&&11>=document.documentMode,Va=null,lo=null,Qi=null,Ka=!1;function Qn(i,a,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Ka||Va==null||Va!==Xr(h)||(h=Va,"selectionStart"in h&&Us(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Qi&&ao(Qi,h)||(Qi=h,h=wp(lo,"onSelect"),0<h.length&&(a=new Ai("onSelect","select",null,a,l),i.push({event:a,listeners:h}),a.target=Va)))}function qn(i,a){var l={};return l[i.toLowerCase()]=a.toLowerCase(),l["Webkit"+i]="webkit"+a,l["Moz"+i]="moz"+a,l}var Ar={animationend:qn("Animation","AnimationEnd"),animationiteration:qn("Animation","AnimationIteration"),animationstart:qn("Animation","AnimationStart"),transitionrun:qn("Transition","TransitionRun"),transitionstart:qn("Transition","TransitionStart"),transitioncancel:qn("Transition","TransitionCancel"),transitionend:qn("Transition","TransitionEnd")},Zr={},Fs={};ri&&(Fs=document.createElement("div").style,"AnimationEvent"in window||(delete Ar.animationend.animation,delete Ar.animationiteration.animation,delete Ar.animationstart.animation),"TransitionEvent"in window||delete Ar.transitionend.transition);function ys(i){if(Zr[i])return Zr[i];if(!Ar[i])return i;var a=Ar[i],l;for(l in a)if(a.hasOwnProperty(l)&&l in Fs)return Zr[i]=a[l];return i}var yl=ys("animationend"),Qu=ys("animationiteration"),rf=ys("animationstart"),Hd=ys("transitionrun"),Gd=ys("transitionstart"),$d=ys("transitioncancel"),af=ys("transitionend"),sf=new Map,vl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");vl.push("scrollEnd");function Wa(i,a){sf.set(i,a),Ei(a,[i])}var Ju=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Ba=[],bl=0,Fc=0;function Zu(){for(var i=bl,a=Fc=bl=0;a<i;){var l=Ba[a];Ba[a++]=null;var h=Ba[a];Ba[a++]=null;var y=Ba[a];Ba[a++]=null;var _=Ba[a];if(Ba[a++]=null,h!==null&&y!==null){var C=h.pending;C===null?y.next=y:(y.next=C.next,C.next=y),h.pending=y}_!==0&&tc(l,y,_)}}function ec(i,a,l,h){Ba[bl++]=i,Ba[bl++]=a,Ba[bl++]=l,Ba[bl++]=h,Fc|=h,i.lanes|=h,i=i.alternate,i!==null&&(i.lanes|=h)}function Vc(i,a,l,h){return ec(i,a,l,h),Ji(i)}function uo(i,a){return ec(i,null,null,a),Ji(i)}function tc(i,a,l){i.lanes|=l;var h=i.alternate;h!==null&&(h.lanes|=l);for(var y=!1,_=i.return;_!==null;)_.childLanes|=l,h=_.alternate,h!==null&&(h.childLanes|=l),_.tag===22&&(i=_.stateNode,i===null||i._visibility&1||(y=!0)),i=_,_=_.return;return i.tag===3?(_=i.stateNode,y&&a!==null&&(y=31-on(l),i=_.hiddenUpdates,h=i[y],h===null?i[y]=[a]:h.push(a),a.lane=l|536870912),_):null}function Ji(i){if(50<Cf)throw Cf=0,Zg=null,Error(r(185));for(var a=i.return;a!==null;)i=a,a=i.return;return i.tag===3?i.stateNode:null}var Fi={};function Bc(i,a,l,h){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zi(i,a,l,h){return new Bc(i,a,l,h)}function zc(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Xa(i,a){var l=i.alternate;return l===null?(l=Zi(i.tag,a,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=a,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,a=i.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function nc(i,a){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=a,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,a=l.dependencies,i.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),i}function eu(i,a,l,h,y,_){var C=0;if(h=i,typeof i=="function")zc(i)&&(C=1);else if(typeof i=="string")C=c6(i,l,J.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case R:return i=Zi(31,l,a,y),i.elementType=R,i.lanes=_,i;case P:return Po(l.children,y,_,a);case U:C=8,y|=24;break;case F:return i=Zi(12,l,a,y|2),i.elementType=F,i.lanes=_,i;case ce:return i=Zi(13,l,a,y),i.elementType=ce,i.lanes=_,i;case Ee:return i=Zi(19,l,a,y),i.elementType=Ee,i.lanes=_,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case ee:C=10;break e;case $:C=9;break e;case te:C=11;break e;case O:C=14;break e;case k:C=16,h=null;break e}C=29,l=Error(r(130,i===null?"null":typeof i,"")),h=null}return a=Zi(C,l,a,y),a.elementType=i,a.type=h,a.lanes=_,a}function Po(i,a,l,h){return i=Zi(7,i,h,a),i.lanes=l,i}function rc(i,a,l){return i=Zi(6,i,null,a),i.lanes=l,i}function qc(i){var a=Zi(18,null,null,0);return a.stateNode=i,a}function tu(i,a,l){return a=Zi(4,i.children!==null?i.children:[],i.key,a),a.lanes=l,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}var Hc=new WeakMap;function Qa(i,a){if(typeof i=="object"&&i!==null){var l=Hc.get(i);return l!==void 0?l:(a={value:i,source:a,stack:Ut(a)},Hc.set(i,a),a)}return{value:i,source:a,stack:Ut(a)}}var nu=[],_l=0,Gc=null,ic=0,Ja=[],Za=0,Mo=null,es=1,ts="";function za(i,a){nu[_l++]=ic,nu[_l++]=Gc,Gc=i,ic=a}function Yd(i,a,l){Ja[Za++]=es,Ja[Za++]=ts,Ja[Za++]=Mo,Mo=i;var h=es;i=ts;var y=32-on(h)-1;h&=~(1<<y),l+=1;var _=32-on(a)+y;if(30<_){var C=y-y%5;_=(h&(1<<C)-1).toString(32),h>>=C,y-=C,es=1<<32-on(a)+y|l<<y|h,ts=_+i}else es=1<<_|l<<y|h,ts=i}function of(i){i.return!==null&&(za(i,1),Yd(i,1,0))}function $c(i){for(;i===Gc;)Gc=nu[--_l],nu[_l]=null,ic=nu[--_l],nu[_l]=null;for(;i===Mo;)Mo=Ja[--Za],Ja[Za]=null,ts=Ja[--Za],Ja[Za]=null,es=Ja[--Za],Ja[Za]=null}function Kd(i,a){Ja[Za++]=es,Ja[Za++]=ts,Ja[Za++]=Mo,es=a.id,ts=a.overflow,Mo=i}var Vi=null,Lr=null,kn=!1,ha=null,Hr=!1,vs=Error(r(519));function jo(i){var a=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ru(Qa(a,i)),vs}function lf(i){var a=i.stateNode,l=i.type,h=i.memoizedProps;switch(a[rt]=i,a[st]=h,l){case"dialog":Dn("cancel",a),Dn("close",a);break;case"iframe":case"object":case"embed":Dn("load",a);break;case"video":case"audio":for(l=0;l<Lf.length;l++)Dn(Lf[l],a);break;case"source":Dn("error",a);break;case"img":case"image":case"link":Dn("error",a),Dn("load",a);break;case"details":Dn("toggle",a);break;case"input":Dn("invalid",a),Kl(a,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":Dn("invalid",a);break;case"textarea":Dn("invalid",a),hs(a,h.value,h.defaultValue,h.children)}l=h.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||h.suppressHydrationWarning===!0||r5(a.textContent,l)?(h.popover!=null&&(Dn("beforetoggle",a),Dn("toggle",a)),h.onScroll!=null&&Dn("scroll",a),h.onScrollEnd!=null&&Dn("scrollend",a),h.onClick!=null&&(a.onclick=Pa),a=!0):a=!1,a||jo(i,!0)}function co(i){for(Vi=i.return;Vi;)switch(Vi.tag){case 5:case 31:case 13:Hr=!1;return;case 27:case 3:Hr=!0;return;default:Vi=Vi.return}}function Bi(i){if(i!==Vi)return!1;if(!kn)return co(i),kn=!0,!1;var a=i.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||p1(i.type,i.memoizedProps)),l=!l),l&&Lr&&jo(i),co(i),a===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));Lr=f5(i)}else if(a===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));Lr=f5(i)}else a===27?(a=Lr,yu(i.type)?(i=b1,b1=null,Lr=i):Lr=a):Lr=Vi?qs(i.stateNode.nextSibling):null;return!0}function wl(){Lr=Vi=null,kn=!1}function uf(){var i=ha;return i!==null&&(os===null?os=i:os.push.apply(os,i),ha=null),i}function ru(i){ha===null?ha=[i]:ha.push(i)}var Yc=Q(null),Uo=null,Vs=null;function Fo(i,a,l){K(Yc,a._currentValue),a._currentValue=l}function ns(i){i._currentValue=Yc.current,I(Yc)}function iu(i,a,l){for(;i!==null;){var h=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,h!==null&&(h.childLanes|=a)):h!==null&&(h.childLanes&a)!==a&&(h.childLanes|=a),i===l)break;i=i.return}}function El(i,a,l,h){var y=i.child;for(y!==null&&(y.return=i);y!==null;){var _=y.dependencies;if(_!==null){var C=y.child;_=_.firstContext;e:for(;_!==null;){var Y=_;_=y;for(var pe=0;pe<a.length;pe++)if(Y.context===a[pe]){_.lanes|=l,Y=_.alternate,Y!==null&&(Y.lanes|=l),iu(_.return,l,i),h||(C=null);break e}_=Y.next}}else if(y.tag===18){if(C=y.return,C===null)throw Error(r(341));C.lanes|=l,_=C.alternate,_!==null&&(_.lanes|=l),iu(C,l,i),C=null}else C=y.child;if(C!==null)C.return=y;else for(C=y;C!==null;){if(C===i){C=null;break}if(y=C.sibling,y!==null){y.return=C.return,C=y;break}C=C.return}y=C}}function Vo(i,a,l,h){i=null;for(var y=a,_=!1;y!==null;){if(!_){if((y.flags&524288)!==0)_=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var C=y.alternate;if(C===null)throw Error(r(387));if(C=C.memoizedProps,C!==null){var Y=y.type;Ui(y.pendingProps.value,C.value)||(i!==null?i.push(Y):i=[Y])}}else if(y===be.current){if(C=y.alternate,C===null)throw Error(r(387));C.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(i!==null?i.push(Pf):i=[Pf])}y=y.return}i!==null&&El(a,i,l,h),a.flags|=262144}function Kc(i){for(i=i.firstContext;i!==null;){if(!Ui(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Bo(i){Uo=i,Vs=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function zi(i){return Wd(Uo,i)}function Wc(i,a){return Uo===null&&Bo(i),Wd(i,a)}function Wd(i,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},Vs===null){if(i===null)throw Error(r(308));Vs=a,i.dependencies={lanes:0,firstContext:a},i.flags|=524288}else Vs=Vs.next=a;return l}var vg=typeof AbortController<"u"?AbortController:function(){var i=[],a=this.signal={aborted:!1,addEventListener:function(l,h){i.push(h)}};this.abort=function(){a.aborted=!0,i.forEach(function(l){return l()})}},bg=n.unstable_scheduleCallback,_g=n.unstable_NormalPriority,ei={$$typeof:ee,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function au(){return{controller:new vg,data:new Map,refCount:0}}function ac(i){i.refCount--,i.refCount===0&&bg(_g,function(){i.controller.abort()})}var sc=null,Xc=0,p=0,v=null;function S(i,a){if(sc===null){var l=sc=[];Xc=0,p=a1(),v={status:"pending",value:void 0,then:function(h){l.push(h)}}}return Xc++,a.then(N,N),a}function N(){if(--Xc===0&&sc!==null){v!==null&&(v.status="fulfilled");var i=sc;sc=null,p=0,v=null;for(var a=0;a<i.length;a++)(0,i[a])()}}function z(i,a){var l=[],h={status:"pending",value:null,reason:null,then:function(y){l.push(y)}};return i.then(function(){h.status="fulfilled",h.value=a;for(var y=0;y<l.length;y++)(0,l[y])(a)},function(y){for(h.status="rejected",h.reason=y,y=0;y<l.length;y++)(0,l[y])(void 0)}),h}var H=re.S;re.S=function(i,a){Nv=Qt(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&S(i,a),H!==null&&H(i,a)};var G=Q(null);function W(){var i=G.current;return i!==null?i:kr.pooledCache}function Z(i,a){a===null?K(G,G.current):K(G,a.pool)}function se(){var i=W();return i===null?null:{parent:ei._currentValue,pool:i}}var ye=Error(r(460)),ke=Error(r(474)),ie=Error(r(542)),we={then:function(){}};function Re(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Be(i,a,l){switch(l=i[l],l===void 0?i.push(a):l!==a&&(a.then(Pa,Pa),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,nt(i),i;default:if(typeof a.status=="string")a.then(Pa,Pa);else{if(i=kr,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=a,i.status="pending",i.then(function(h){if(a.status==="pending"){var y=a;y.status="fulfilled",y.value=h}},function(h){if(a.status==="pending"){var y=a;y.status="rejected",y.reason=h}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,nt(i),i}throw Ve=a,ye}}function Le(i){try{var a=i._init;return a(i._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Ve=l,ye):l}}var Ve=null;function Ye(){if(Ve===null)throw Error(r(459));var i=Ve;return Ve=null,i}function nt(i){if(i===ye||i===ie)throw Error(r(483))}var Xe=null,Nt=0;function yt(i){var a=Nt;return Nt+=1,Xe===null&&(Xe=[]),Be(Xe,i,a)}function dn(i,a){a=a.props.ref,i.ref=a!==void 0?a:null}function At(i,a){throw a.$$typeof===A?Error(r(525)):(i=Object.prototype.toString.call(a),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i)))}function In(i){function a(Se,ve){if(i){var Oe=Se.deletions;Oe===null?(Se.deletions=[ve],Se.flags|=16):Oe.push(ve)}}function l(Se,ve){if(!i)return null;for(;ve!==null;)a(Se,ve),ve=ve.sibling;return null}function h(Se){for(var ve=new Map;Se!==null;)Se.key!==null?ve.set(Se.key,Se):ve.set(Se.index,Se),Se=Se.sibling;return ve}function y(Se,ve){return Se=Xa(Se,ve),Se.index=0,Se.sibling=null,Se}function _(Se,ve,Oe){return Se.index=Oe,i?(Oe=Se.alternate,Oe!==null?(Oe=Oe.index,Oe<ve?(Se.flags|=67108866,ve):Oe):(Se.flags|=67108866,ve)):(Se.flags|=1048576,ve)}function C(Se){return i&&Se.alternate===null&&(Se.flags|=67108866),Se}function Y(Se,ve,Oe,Ke){return ve===null||ve.tag!==6?(ve=rc(Oe,Se.mode,Ke),ve.return=Se,ve):(ve=y(ve,Oe),ve.return=Se,ve)}function pe(Se,ve,Oe,Ke){var Xt=Oe.type;return Xt===P?Ge(Se,ve,Oe.props.children,Ke,Oe.key):ve!==null&&(ve.elementType===Xt||typeof Xt=="object"&&Xt!==null&&Xt.$$typeof===k&&Le(Xt)===ve.type)?(ve=y(ve,Oe.props),dn(ve,Oe),ve.return=Se,ve):(ve=eu(Oe.type,Oe.key,Oe.props,null,Se.mode,Ke),dn(ve,Oe),ve.return=Se,ve)}function Pe(Se,ve,Oe,Ke){return ve===null||ve.tag!==4||ve.stateNode.containerInfo!==Oe.containerInfo||ve.stateNode.implementation!==Oe.implementation?(ve=tu(Oe,Se.mode,Ke),ve.return=Se,ve):(ve=y(ve,Oe.children||[]),ve.return=Se,ve)}function Ge(Se,ve,Oe,Ke,Xt){return ve===null||ve.tag!==7?(ve=Po(Oe,Se.mode,Ke,Xt),ve.return=Se,ve):(ve=y(ve,Oe),ve.return=Se,ve)}function We(Se,ve,Oe){if(typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint")return ve=rc(""+ve,Se.mode,Oe),ve.return=Se,ve;if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case b:return Oe=eu(ve.type,ve.key,ve.props,null,Se.mode,Oe),dn(Oe,ve),Oe.return=Se,Oe;case M:return ve=tu(ve,Se.mode,Oe),ve.return=Se,ve;case k:return ve=Le(ve),We(Se,ve,Oe)}if(xe(ve)||D(ve))return ve=Po(ve,Se.mode,Oe,null),ve.return=Se,ve;if(typeof ve.then=="function")return We(Se,yt(ve),Oe);if(ve.$$typeof===ee)return We(Se,Wc(Se,ve),Oe);At(Se,ve)}return null}function je(Se,ve,Oe,Ke){var Xt=ve!==null?ve.key:null;if(typeof Oe=="string"&&Oe!==""||typeof Oe=="number"||typeof Oe=="bigint")return Xt!==null?null:Y(Se,ve,""+Oe,Ke);if(typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case b:return Oe.key===Xt?pe(Se,ve,Oe,Ke):null;case M:return Oe.key===Xt?Pe(Se,ve,Oe,Ke):null;case k:return Oe=Le(Oe),je(Se,ve,Oe,Ke)}if(xe(Oe)||D(Oe))return Xt!==null?null:Ge(Se,ve,Oe,Ke,null);if(typeof Oe.then=="function")return je(Se,ve,yt(Oe),Ke);if(Oe.$$typeof===ee)return je(Se,ve,Wc(Se,Oe),Ke);At(Se,Oe)}return null}function Ue(Se,ve,Oe,Ke,Xt){if(typeof Ke=="string"&&Ke!==""||typeof Ke=="number"||typeof Ke=="bigint")return Se=Se.get(Oe)||null,Y(ve,Se,""+Ke,Xt);if(typeof Ke=="object"&&Ke!==null){switch(Ke.$$typeof){case b:return Se=Se.get(Ke.key===null?Oe:Ke.key)||null,pe(ve,Se,Ke,Xt);case M:return Se=Se.get(Ke.key===null?Oe:Ke.key)||null,Pe(ve,Se,Ke,Xt);case k:return Ke=Le(Ke),Ue(Se,ve,Oe,Ke,Xt)}if(xe(Ke)||D(Ke))return Se=Se.get(Oe)||null,Ge(ve,Se,Ke,Xt,null);if(typeof Ke.then=="function")return Ue(Se,ve,Oe,yt(Ke),Xt);if(Ke.$$typeof===ee)return Ue(Se,ve,Oe,Wc(ve,Ke),Xt);At(ve,Ke)}return null}function St(Se,ve,Oe,Ke){for(var Xt=null,rr=null,Mt=ve,xn=ve=0,jn=null;Mt!==null&&xn<Oe.length;xn++){Mt.index>xn?(jn=Mt,Mt=null):jn=Mt.sibling;var ir=je(Se,Mt,Oe[xn],Ke);if(ir===null){Mt===null&&(Mt=jn);break}i&&Mt&&ir.alternate===null&&a(Se,Mt),ve=_(ir,ve,xn),rr===null?Xt=ir:rr.sibling=ir,rr=ir,Mt=jn}if(xn===Oe.length)return l(Se,Mt),kn&&za(Se,xn),Xt;if(Mt===null){for(;xn<Oe.length;xn++)Mt=We(Se,Oe[xn],Ke),Mt!==null&&(ve=_(Mt,ve,xn),rr===null?Xt=Mt:rr.sibling=Mt,rr=Mt);return kn&&za(Se,xn),Xt}for(Mt=h(Mt);xn<Oe.length;xn++)jn=Ue(Mt,Se,xn,Oe[xn],Ke),jn!==null&&(i&&jn.alternate!==null&&Mt.delete(jn.key===null?xn:jn.key),ve=_(jn,ve,xn),rr===null?Xt=jn:rr.sibling=jn,rr=jn);return i&&Mt.forEach(function(Eu){return a(Se,Eu)}),kn&&za(Se,xn),Xt}function nn(Se,ve,Oe,Ke){if(Oe==null)throw Error(r(151));for(var Xt=null,rr=null,Mt=ve,xn=ve=0,jn=null,ir=Oe.next();Mt!==null&&!ir.done;xn++,ir=Oe.next()){Mt.index>xn?(jn=Mt,Mt=null):jn=Mt.sibling;var Eu=je(Se,Mt,ir.value,Ke);if(Eu===null){Mt===null&&(Mt=jn);break}i&&Mt&&Eu.alternate===null&&a(Se,Mt),ve=_(Eu,ve,xn),rr===null?Xt=Eu:rr.sibling=Eu,rr=Eu,Mt=jn}if(ir.done)return l(Se,Mt),kn&&za(Se,xn),Xt;if(Mt===null){for(;!ir.done;xn++,ir=Oe.next())ir=We(Se,ir.value,Ke),ir!==null&&(ve=_(ir,ve,xn),rr===null?Xt=ir:rr.sibling=ir,rr=ir);return kn&&za(Se,xn),Xt}for(Mt=h(Mt);!ir.done;xn++,ir=Oe.next())ir=Ue(Mt,Se,xn,ir.value,Ke),ir!==null&&(i&&ir.alternate!==null&&Mt.delete(ir.key===null?xn:ir.key),ve=_(ir,ve,xn),rr===null?Xt=ir:rr.sibling=ir,rr=ir);return i&&Mt.forEach(function(w6){return a(Se,w6)}),kn&&za(Se,xn),Xt}function Nr(Se,ve,Oe,Ke){if(typeof Oe=="object"&&Oe!==null&&Oe.type===P&&Oe.key===null&&(Oe=Oe.props.children),typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case b:e:{for(var Xt=Oe.key;ve!==null;){if(ve.key===Xt){if(Xt=Oe.type,Xt===P){if(ve.tag===7){l(Se,ve.sibling),Ke=y(ve,Oe.props.children),Ke.return=Se,Se=Ke;break e}}else if(ve.elementType===Xt||typeof Xt=="object"&&Xt!==null&&Xt.$$typeof===k&&Le(Xt)===ve.type){l(Se,ve.sibling),Ke=y(ve,Oe.props),dn(Ke,Oe),Ke.return=Se,Se=Ke;break e}l(Se,ve);break}else a(Se,ve);ve=ve.sibling}Oe.type===P?(Ke=Po(Oe.props.children,Se.mode,Ke,Oe.key),Ke.return=Se,Se=Ke):(Ke=eu(Oe.type,Oe.key,Oe.props,null,Se.mode,Ke),dn(Ke,Oe),Ke.return=Se,Se=Ke)}return C(Se);case M:e:{for(Xt=Oe.key;ve!==null;){if(ve.key===Xt)if(ve.tag===4&&ve.stateNode.containerInfo===Oe.containerInfo&&ve.stateNode.implementation===Oe.implementation){l(Se,ve.sibling),Ke=y(ve,Oe.children||[]),Ke.return=Se,Se=Ke;break e}else{l(Se,ve);break}else a(Se,ve);ve=ve.sibling}Ke=tu(Oe,Se.mode,Ke),Ke.return=Se,Se=Ke}return C(Se);case k:return Oe=Le(Oe),Nr(Se,ve,Oe,Ke)}if(xe(Oe))return St(Se,ve,Oe,Ke);if(D(Oe)){if(Xt=D(Oe),typeof Xt!="function")throw Error(r(150));return Oe=Xt.call(Oe),nn(Se,ve,Oe,Ke)}if(typeof Oe.then=="function")return Nr(Se,ve,yt(Oe),Ke);if(Oe.$$typeof===ee)return Nr(Se,ve,Wc(Se,Oe),Ke);At(Se,Oe)}return typeof Oe=="string"&&Oe!==""||typeof Oe=="number"||typeof Oe=="bigint"?(Oe=""+Oe,ve!==null&&ve.tag===6?(l(Se,ve.sibling),Ke=y(ve,Oe),Ke.return=Se,Se=Ke):(l(Se,ve),Ke=rc(Oe,Se.mode,Ke),Ke.return=Se,Se=Ke),C(Se)):l(Se,ve)}return function(Se,ve,Oe,Ke){try{Nt=0;var Xt=Nr(Se,ve,Oe,Ke);return Xe=null,Xt}catch(Mt){if(Mt===ye||Mt===ie)throw Mt;var rr=Zi(29,Mt,null,Se.mode);return rr.lanes=Ke,rr.return=Se,rr}finally{}}}var Ir=In(!0),bn=In(!1),vt=!1;function ut(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Pr(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function tn(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Sn(i,a,l){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(lr&2)!==0){var y=h.pending;return y===null?a.next=a:(a.next=y.next,y.next=a),h.pending=a,a=Ji(i),tc(i,null,l),a}return ec(i,h,a,l),Ji(i)}function sr(i,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var h=a.lanes;h&=i.pendingLanes,l|=h,a.lanes=l,ue(i,l)}}function mi(i,a){var l=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var y=null,_=null;if(l=l.firstBaseUpdate,l!==null){do{var C={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};_===null?y=_=C:_=_.next=C,l=l.next}while(l!==null);_===null?y=_=a:_=_.next=a}else y=_=a;l={baseState:h.baseState,firstBaseUpdate:y,lastBaseUpdate:_,shared:h.shared,callbacks:h.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=a:i.next=a,l.lastBaseUpdate=a}var qi=!1;function Sr(){if(qi){var i=v;if(i!==null)throw i}}function ii(i,a,l,h){qi=!1;var y=i.updateQueue;vt=!1;var _=y.firstBaseUpdate,C=y.lastBaseUpdate,Y=y.shared.pending;if(Y!==null){y.shared.pending=null;var pe=Y,Pe=pe.next;pe.next=null,C===null?_=Pe:C.next=Pe,C=pe;var Ge=i.alternate;Ge!==null&&(Ge=Ge.updateQueue,Y=Ge.lastBaseUpdate,Y!==C&&(Y===null?Ge.firstBaseUpdate=Pe:Y.next=Pe,Ge.lastBaseUpdate=pe))}if(_!==null){var We=y.baseState;C=0,Ge=Pe=pe=null,Y=_;do{var je=Y.lane&-536870913,Ue=je!==Y.lane;if(Ue?(Mn&je)===je:(h&je)===je){je!==0&&je===p&&(qi=!0),Ge!==null&&(Ge=Ge.next={lane:0,tag:Y.tag,payload:Y.payload,callback:null,next:null});e:{var St=i,nn=Y;je=a;var Nr=l;switch(nn.tag){case 1:if(St=nn.payload,typeof St=="function"){We=St.call(Nr,We,je);break e}We=St;break e;case 3:St.flags=St.flags&-65537|128;case 0:if(St=nn.payload,je=typeof St=="function"?St.call(Nr,We,je):St,je==null)break e;We=w({},We,je);break e;case 2:vt=!0}}je=Y.callback,je!==null&&(i.flags|=64,Ue&&(i.flags|=8192),Ue=y.callbacks,Ue===null?y.callbacks=[je]:Ue.push(je))}else Ue={lane:je,tag:Y.tag,payload:Y.payload,callback:Y.callback,next:null},Ge===null?(Pe=Ge=Ue,pe=We):Ge=Ge.next=Ue,C|=je;if(Y=Y.next,Y===null){if(Y=y.shared.pending,Y===null)break;Ue=Y,Y=Ue.next,Ue.next=null,y.lastBaseUpdate=Ue,y.shared.pending=null}}while(!0);Ge===null&&(pe=We),y.baseState=pe,y.firstBaseUpdate=Pe,y.lastBaseUpdate=Ge,_===null&&(y.shared.lanes=0),fu|=C,i.lanes=C,i.memoizedState=We}}function ea(i,a){if(typeof i!="function")throw Error(r(191,i));i.call(a)}function ai(i,a){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)ea(l[i],a)}var Nn=Q(null),$n=Q(0);function Mr(i,a){i=kl,K($n,i),K(Nn,a),kl=i|a.baseLanes}function Jn(){K($n,kl),K(Nn,Nn.current)}function gi(){kl=$n.current,I(Nn),I($n)}var jr=Q(null),Yn=null;function ti(i){var a=i.alternate;K(Hn,Hn.current&1),K(jr,i),Yn===null&&(a===null||Nn.current!==null||a.memoizedState!==null)&&(Yn=i)}function or(i){K(Hn,Hn.current),K(jr,i),Yn===null&&(Yn=i)}function si(i){i.tag===22?(K(Hn,Hn.current),K(jr,i),Yn===null&&(Yn=i)):oi()}function oi(){K(Hn,Hn.current),K(jr,jr.current)}function mr(i){I(jr),Yn===i&&(Yn=null),I(Hn)}var Hn=Q(0);function ta(i){for(var a=i;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||y1(l)||v1(l)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Gr=0,Gt=null,Wt=null,Kn=null,_a=!1,rs=!1,fa=!1,li=0,zo=0,qo=null,Qc=0;function xr(){throw Error(r(321))}function cf(i,a){if(a===null)return!1;for(var l=0;l<a.length&&l<i.length;l++)if(!Ui(i[l],a[l]))return!1;return!0}function hf(i,a,l,h,y,_){return Gr=_,Gt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,re.H=i===null||i.memoizedState===null?Uy:Cg,fa=!1,_=l(h,y),fa=!1,rs&&(_=ho(a,l,h,y)),Jc(i),_}function Jc(i){re.H=bf;var a=Wt!==null&&Wt.next!==null;if(Gr=0,Kn=Wt=Gt=null,_a=!1,zo=0,qo=null,a)throw Error(r(300));i===null||Ti||(i=i.dependencies,i!==null&&Kc(i)&&(Ti=!0))}function ho(i,a,l,h){Gt=i;var y=0;do{if(rs&&(qo=null),zo=0,rs=!1,25<=y)throw Error(r(301));if(y+=1,Kn=Wt=null,i.updateQueue!=null){var _=i.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}re.H=Fy,_=a(l,h)}while(rs);return _}function wg(){var i=re.H,a=i.useState()[0];return a=typeof a.then=="function"?Ho(a):a,i=i.useState()[0],(Wt!==null?Wt.memoizedState:null)!==i&&(Gt.flags|=1024),a}function ff(){var i=li!==0;return li=0,i}function df(i,a,l){a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~l}function Zc(i){if(_a){for(i=i.memoizedState;i!==null;){var a=i.queue;a!==null&&(a.pending=null),i=i.next}_a=!1}Gr=0,Kn=Wt=Gt=null,rs=!1,zo=li=0,qo=null}function xi(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kn===null?Gt.memoizedState=Kn=i:Kn=Kn.next=i,Kn}function $r(){if(Wt===null){var i=Gt.alternate;i=i!==null?i.memoizedState:null}else i=Wt.next;var a=Kn===null?Gt.memoizedState:Kn.next;if(a!==null)Kn=a,Wt=i;else{if(i===null)throw Gt.alternate===null?Error(r(467)):Error(r(310));Wt=i,i={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},Kn===null?Gt.memoizedState=Kn=i:Kn=Kn.next=i}return Kn}function oc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ho(i){var a=zo;return zo+=1,qo===null&&(qo=[]),i=Be(qo,i,a),a=Gt,(Kn===null?a.memoizedState:Kn.next)===null&&(a=a.alternate,re.H=a===null||a.memoizedState===null?Uy:Cg),i}function su(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Ho(i);if(i.$$typeof===ee)return zi(i)}throw Error(r(438,String(i)))}function Al(i){var a=null,l=Gt.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var h=Gt.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(a={data:h.data.map(function(y){return y.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=oc(),Gt.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(i),h=0;h<i;h++)l[h]=q;return a.index++,l}function Bs(i,a){return typeof a=="function"?a(i):a}function eh(i){var a=$r();return ou(a,Wt,i)}function ou(i,a,l){var h=i.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=l;var y=i.baseQueue,_=h.pending;if(_!==null){if(y!==null){var C=y.next;y.next=_.next,_.next=C}a.baseQueue=y=_,h.pending=null}if(_=i.baseState,y===null)i.memoizedState=_;else{a=y.next;var Y=C=null,pe=null,Pe=a,Ge=!1;do{var We=Pe.lane&-536870913;if(We!==Pe.lane?(Mn&We)===We:(Gr&We)===We){var je=Pe.revertLane;if(je===0)pe!==null&&(pe=pe.next={lane:0,revertLane:0,gesture:null,action:Pe.action,hasEagerState:Pe.hasEagerState,eagerState:Pe.eagerState,next:null}),We===p&&(Ge=!0);else if((Gr&je)===je){Pe=Pe.next,je===p&&(Ge=!0);continue}else We={lane:0,revertLane:Pe.revertLane,gesture:null,action:Pe.action,hasEagerState:Pe.hasEagerState,eagerState:Pe.eagerState,next:null},pe===null?(Y=pe=We,C=_):pe=pe.next=We,Gt.lanes|=je,fu|=je;We=Pe.action,fa&&l(_,We),_=Pe.hasEagerState?Pe.eagerState:l(_,We)}else je={lane:We,revertLane:Pe.revertLane,gesture:Pe.gesture,action:Pe.action,hasEagerState:Pe.hasEagerState,eagerState:Pe.eagerState,next:null},pe===null?(Y=pe=je,C=_):pe=pe.next=je,Gt.lanes|=We,fu|=We;Pe=Pe.next}while(Pe!==null&&Pe!==a);if(pe===null?C=_:pe.next=Y,!Ui(_,i.memoizedState)&&(Ti=!0,Ge&&(l=v,l!==null)))throw l;i.memoizedState=_,i.baseState=C,i.baseQueue=pe,h.lastRenderedState=_}return y===null&&(h.lanes=0),[i.memoizedState,h.dispatch]}function th(i){var a=$r(),l=a.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var h=l.dispatch,y=l.pending,_=a.memoizedState;if(y!==null){l.pending=null;var C=y=y.next;do _=i(_,C.action),C=C.next;while(C!==y);Ui(_,a.memoizedState)||(Ti=!0),a.memoizedState=_,a.baseQueue===null&&(a.baseState=_),l.lastRenderedState=_}return[_,h]}function nh(i,a,l){var h=Gt,y=$r(),_=kn;if(_){if(l===void 0)throw Error(r(407));l=l()}else l=a();var C=!Ui((Wt||y).memoizedState,l);if(C&&(y.memoizedState=l,Ti=!0),y=y.queue,Eg(mf.bind(null,h,y,i),[i]),y.getSnapshot!==a||C||Kn!==null&&Kn.memoizedState.tag&1){if(h.flags|=2048,xl(9,{destroy:void 0},pf.bind(null,h,y,l,a),null),kr===null)throw Error(r(349));_||(Gr&127)!==0||fo(h,a,l)}return l}function fo(i,a,l){i.flags|=16384,i={getSnapshot:a,value:l},a=Gt.updateQueue,a===null?(a=oc(),Gt.updateQueue=a,a.stores=[i]):(l=a.stores,l===null?a.stores=[i]:l.push(i))}function pf(i,a,l,h){a.value=l,a.getSnapshot=h,Xd(a)&&gf(i)}function mf(i,a,l){return l(function(){Xd(a)&&gf(i)})}function Xd(i){var a=i.getSnapshot;i=i.value;try{var l=a();return!Ui(i,l)}catch{return!0}}function gf(i){var a=uo(i,2);a!==null&&ls(a,i,2)}function Go(i){var a=xi();if(typeof i=="function"){var l=i;if(i=l(),fa){Yt(!0);try{l()}finally{Yt(!1)}}}return a.memoizedState=a.baseState=i,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bs,lastRenderedState:i},a}function Qd(i,a,l,h){return i.baseState=l,ou(i,Wt,typeof h=="function"?h:Bs)}function Jd(i,a,l,h,y){if(np(i))throw Error(r(485));if(i=a.action,i!==null){var _={payload:y,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){_.listeners.push(C)}};re.T!==null?l(!0):_.isTransition=!1,h(_),l=a.pending,l===null?(_.next=a.pending=_,Zd(a,_)):(_.next=l.next,a.pending=l.next=_)}}function Zd(i,a){var l=a.action,h=a.payload,y=i.state;if(a.isTransition){var _=re.T,C={};re.T=C;try{var Y=l(y,h),pe=re.S;pe!==null&&pe(C,Y),yf(i,a,Y)}catch(Pe){Sl(i,a,Pe)}finally{_!==null&&C.types!==null&&(_.types=C.types),re.T=_}}else try{_=l(y,h),yf(i,a,_)}catch(Pe){Sl(i,a,Pe)}}function yf(i,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(h){ep(i,a,h)},function(h){return Sl(i,a,h)}):ep(i,a,l)}function ep(i,a,l){a.status="fulfilled",a.value=l,rh(a),i.state=l,a=i.pending,a!==null&&(l=a.next,l===a?i.pending=null:(l=l.next,a.next=l,Zd(i,l)))}function Sl(i,a,l){var h=i.pending;if(i.pending=null,h!==null){h=h.next;do a.status="rejected",a.reason=l,rh(a),a=a.next;while(a!==h)}i.action=null}function rh(i){i=i.listeners;for(var a=0;a<i.length;a++)(0,i[a])()}function lc(i,a){return a}function zs(i,a){if(kn){var l=kr.formState;if(l!==null){e:{var h=Gt;if(kn){if(Lr){t:{for(var y=Lr,_=Hr;y.nodeType!==8;){if(!_){y=null;break t}if(y=qs(y.nextSibling),y===null){y=null;break t}}_=y.data,y=_==="F!"||_==="F"?y:null}if(y){Lr=qs(y.nextSibling),h=y.data==="F!";break e}}jo(h)}h=!1}h&&(a=l[0])}}return l=xi(),l.memoizedState=l.baseState=a,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lc,lastRenderedState:a},l.queue=h,l=Py.bind(null,Gt,h),h.dispatch=l,h=Go(!1),_=Ng.bind(null,Gt,!1,h.queue),h=xi(),y={state:a,dispatch:null,action:i,pending:null},h.queue=y,l=Jd.bind(null,Gt,y,_,l),y.dispatch=l,h.memoizedState=i,[a,l,!1]}function po(i){var a=$r();return mo(a,Wt,i)}function mo(i,a,l){if(a=ou(i,a,lc)[0],i=eh(Bs)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var h=Ho(a)}catch(C){throw C===ye?ie:C}else h=a;a=$r();var y=a.queue,_=y.dispatch;return l!==a.memoizedState&&(Gt.flags|=2048,xl(9,{destroy:void 0},ih.bind(null,y,l),null)),[h,_,i]}function ih(i,a){i.action=a}function ah(i){var a=$r(),l=Wt;if(l!==null)return mo(a,l,i);$r(),a=a.memoizedState,l=$r();var h=l.queue.dispatch;return l.memoizedState=i,[a,h,!1]}function xl(i,a,l,h){return i={tag:i,create:l,deps:h,inst:a,next:null},a=Gt.updateQueue,a===null&&(a=oc(),Gt.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=i.next=i:(h=l.next,l.next=i,i.next=h,a.lastEffect=i),i}function tp(){return $r().memoizedState}function lu(i,a,l,h){var y=xi();Gt.flags|=i,y.memoizedState=xl(1|a,{destroy:void 0},l,h===void 0?null:h)}function uu(i,a,l,h){var y=$r();h=h===void 0?null:h;var _=y.memoizedState.inst;Wt!==null&&h!==null&&cf(h,Wt.memoizedState.deps)?y.memoizedState=xl(a,_,l,h):(Gt.flags|=i,y.memoizedState=xl(1|a,_,l,h))}function wy(i,a){lu(8390656,8,i,a)}function Eg(i,a){uu(2048,8,i,a)}function mS(i){Gt.flags|=4;var a=Gt.updateQueue;if(a===null)a=oc(),Gt.updateQueue=a,a.events=[i];else{var l=a.events;l===null?a.events=[i]:l.push(i)}}function Ey(i){var a=$r().memoizedState;return mS({ref:a,nextImpl:i}),function(){if((lr&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}function Ay(i,a){return uu(4,2,i,a)}function Sy(i,a){return uu(4,4,i,a)}function xy(i,a){if(typeof a=="function"){i=i();var l=a(i);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function Ty(i,a,l){l=l!=null?l.concat([i]):null,uu(4,4,xy.bind(null,a,i),l)}function Ag(){}function Ny(i,a){var l=$r();a=a===void 0?null:a;var h=l.memoizedState;return a!==null&&cf(a,h[1])?h[0]:(l.memoizedState=[i,a],i)}function Cy(i,a){var l=$r();a=a===void 0?null:a;var h=l.memoizedState;if(a!==null&&cf(a,h[1]))return h[0];if(h=i(),fa){Yt(!0);try{i()}finally{Yt(!1)}}return l.memoizedState=[h,a],h}function Sg(i,a,l){return l===void 0||(Gr&1073741824)!==0&&(Mn&261930)===0?i.memoizedState=a:(i.memoizedState=l,i=Rv(),Gt.lanes|=i,fu|=i,l)}function Ry(i,a,l,h){return Ui(l,a)?l:Nn.current!==null?(i=Sg(i,l,h),Ui(i,a)||(Ti=!0),i):(Gr&42)===0||(Gr&1073741824)!==0&&(Mn&261930)===0?(Ti=!0,i.memoizedState=l):(i=Rv(),Gt.lanes|=i,fu|=i,a)}function Ly(i,a,l,h,y){var _=me.p;me.p=_!==0&&8>_?_:8;var C=re.T,Y={};re.T=Y,Ng(i,!1,a,l);try{var pe=y(),Pe=re.S;if(Pe!==null&&Pe(Y,pe),pe!==null&&typeof pe=="object"&&typeof pe.then=="function"){var Ge=z(pe,h);vf(i,a,Ge,ws(i))}else vf(i,a,h,ws(i))}catch(We){vf(i,a,{then:function(){},status:"rejected",reason:We},ws())}finally{me.p=_,C!==null&&Y.types!==null&&(C.types=Y.types),re.T=C}}function gS(){}function xg(i,a,l,h){if(i.tag!==5)throw Error(r(476));var y=Iy(i).queue;Ly(i,y,a,fe,l===null?gS:function(){return ky(i),l(h)})}function Iy(i){var a=i.memoizedState;if(a!==null)return a;a={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bs,lastRenderedState:fe},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bs,lastRenderedState:l},next:null},i.memoizedState=a,i=i.alternate,i!==null&&(i.memoizedState=a),a}function ky(i){var a=Iy(i);a.next===null&&(a=i.alternate.memoizedState),vf(i,a.next.queue,{},ws())}function Tg(){return zi(Pf)}function Oy(){return $r().memoizedState}function Dy(){return $r().memoizedState}function yS(i){for(var a=i.return;a!==null;){switch(a.tag){case 24:case 3:var l=ws();i=tn(l);var h=Sn(a,i,l);h!==null&&(ls(h,a,l),sr(h,a,l)),a={cache:au()},i.payload=a;return}a=a.return}}function vS(i,a,l){var h=ws();l={lane:h,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},np(i)?My(a,l):(l=Vc(i,a,l,h),l!==null&&(ls(l,i,h),jy(l,a,h)))}function Py(i,a,l){var h=ws();vf(i,a,l,h)}function vf(i,a,l,h){var y={lane:h,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(np(i))My(a,y);else{var _=i.alternate;if(i.lanes===0&&(_===null||_.lanes===0)&&(_=a.lastRenderedReducer,_!==null))try{var C=a.lastRenderedState,Y=_(C,l);if(y.hasEagerState=!0,y.eagerState=Y,Ui(Y,C))return ec(i,a,y,0),kr===null&&Zu(),!1}catch{}finally{}if(l=Vc(i,a,y,h),l!==null)return ls(l,i,h),jy(l,a,h),!0}return!1}function Ng(i,a,l,h){if(h={lane:2,revertLane:a1(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},np(i)){if(a)throw Error(r(479))}else a=Vc(i,l,h,2),a!==null&&ls(a,i,2)}function np(i){var a=i.alternate;return i===Gt||a!==null&&a===Gt}function My(i,a){rs=_a=!0;var l=i.pending;l===null?a.next=a:(a.next=l.next,l.next=a),i.pending=a}function jy(i,a,l){if((l&4194048)!==0){var h=a.lanes;h&=i.pendingLanes,l|=h,a.lanes=l,ue(i,l)}}var bf={readContext:zi,use:su,useCallback:xr,useContext:xr,useEffect:xr,useImperativeHandle:xr,useLayoutEffect:xr,useInsertionEffect:xr,useMemo:xr,useReducer:xr,useRef:xr,useState:xr,useDebugValue:xr,useDeferredValue:xr,useTransition:xr,useSyncExternalStore:xr,useId:xr,useHostTransitionStatus:xr,useFormState:xr,useActionState:xr,useOptimistic:xr,useMemoCache:xr,useCacheRefresh:xr};bf.useEffectEvent=xr;var Uy={readContext:zi,use:su,useCallback:function(i,a){return xi().memoizedState=[i,a===void 0?null:a],i},useContext:zi,useEffect:wy,useImperativeHandle:function(i,a,l){l=l!=null?l.concat([i]):null,lu(4194308,4,xy.bind(null,a,i),l)},useLayoutEffect:function(i,a){return lu(4194308,4,i,a)},useInsertionEffect:function(i,a){lu(4,2,i,a)},useMemo:function(i,a){var l=xi();a=a===void 0?null:a;var h=i();if(fa){Yt(!0);try{i()}finally{Yt(!1)}}return l.memoizedState=[h,a],h},useReducer:function(i,a,l){var h=xi();if(l!==void 0){var y=l(a);if(fa){Yt(!0);try{l(a)}finally{Yt(!1)}}}else y=a;return h.memoizedState=h.baseState=y,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:y},h.queue=i,i=i.dispatch=vS.bind(null,Gt,i),[h.memoizedState,i]},useRef:function(i){var a=xi();return i={current:i},a.memoizedState=i},useState:function(i){i=Go(i);var a=i.queue,l=Py.bind(null,Gt,a);return a.dispatch=l,[i.memoizedState,l]},useDebugValue:Ag,useDeferredValue:function(i,a){var l=xi();return Sg(l,i,a)},useTransition:function(){var i=Go(!1);return i=Ly.bind(null,Gt,i.queue,!0,!1),xi().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,a,l){var h=Gt,y=xi();if(kn){if(l===void 0)throw Error(r(407));l=l()}else{if(l=a(),kr===null)throw Error(r(349));(Mn&127)!==0||fo(h,a,l)}y.memoizedState=l;var _={value:l,getSnapshot:a};return y.queue=_,wy(mf.bind(null,h,_,i),[i]),h.flags|=2048,xl(9,{destroy:void 0},pf.bind(null,h,_,l,a),null),l},useId:function(){var i=xi(),a=kr.identifierPrefix;if(kn){var l=ts,h=es;l=(h&~(1<<32-on(h)-1)).toString(32)+l,a="_"+a+"R_"+l,l=li++,0<l&&(a+="H"+l.toString(32)),a+="_"}else l=Qc++,a="_"+a+"r_"+l.toString(32)+"_";return i.memoizedState=a},useHostTransitionStatus:Tg,useFormState:zs,useActionState:zs,useOptimistic:function(i){var a=xi();a.memoizedState=a.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=Ng.bind(null,Gt,!0,l),l.dispatch=a,[i,a]},useMemoCache:Al,useCacheRefresh:function(){return xi().memoizedState=yS.bind(null,Gt)},useEffectEvent:function(i){var a=xi(),l={impl:i};return a.memoizedState=l,function(){if((lr&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}},Cg={readContext:zi,use:su,useCallback:Ny,useContext:zi,useEffect:Eg,useImperativeHandle:Ty,useInsertionEffect:Ay,useLayoutEffect:Sy,useMemo:Cy,useReducer:eh,useRef:tp,useState:function(){return eh(Bs)},useDebugValue:Ag,useDeferredValue:function(i,a){var l=$r();return Ry(l,Wt.memoizedState,i,a)},useTransition:function(){var i=eh(Bs)[0],a=$r().memoizedState;return[typeof i=="boolean"?i:Ho(i),a]},useSyncExternalStore:nh,useId:Oy,useHostTransitionStatus:Tg,useFormState:po,useActionState:po,useOptimistic:function(i,a){var l=$r();return Qd(l,Wt,i,a)},useMemoCache:Al,useCacheRefresh:Dy};Cg.useEffectEvent=Ey;var Fy={readContext:zi,use:su,useCallback:Ny,useContext:zi,useEffect:Eg,useImperativeHandle:Ty,useInsertionEffect:Ay,useLayoutEffect:Sy,useMemo:Cy,useReducer:th,useRef:tp,useState:function(){return th(Bs)},useDebugValue:Ag,useDeferredValue:function(i,a){var l=$r();return Wt===null?Sg(l,i,a):Ry(l,Wt.memoizedState,i,a)},useTransition:function(){var i=th(Bs)[0],a=$r().memoizedState;return[typeof i=="boolean"?i:Ho(i),a]},useSyncExternalStore:nh,useId:Oy,useHostTransitionStatus:Tg,useFormState:ah,useActionState:ah,useOptimistic:function(i,a){var l=$r();return Wt!==null?Qd(l,Wt,i,a):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:Al,useCacheRefresh:Dy};Fy.useEffectEvent=Ey;function Rg(i,a,l,h){a=i.memoizedState,l=l(h,a),l=l==null?a:w({},a,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var Lg={enqueueSetState:function(i,a,l){i=i._reactInternals;var h=ws(),y=tn(h);y.payload=a,l!=null&&(y.callback=l),a=Sn(i,y,h),a!==null&&(ls(a,i,h),sr(a,i,h))},enqueueReplaceState:function(i,a,l){i=i._reactInternals;var h=ws(),y=tn(h);y.tag=1,y.payload=a,l!=null&&(y.callback=l),a=Sn(i,y,h),a!==null&&(ls(a,i,h),sr(a,i,h))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var l=ws(),h=tn(l);h.tag=2,a!=null&&(h.callback=a),a=Sn(i,h,l),a!==null&&(ls(a,i,l),sr(a,i,l))}};function Vy(i,a,l,h,y,_,C){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,_,C):a.prototype&&a.prototype.isPureReactComponent?!ao(l,h)||!ao(y,_):!0}function By(i,a,l,h){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,h),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,h),a.state!==i&&Lg.enqueueReplaceState(a,a.state,null)}function uc(i,a){var l=a;if("ref"in a){l={};for(var h in a)h!=="ref"&&(l[h]=a[h])}if(i=i.defaultProps){l===a&&(l=w({},l));for(var y in i)l[y]===void 0&&(l[y]=i[y])}return l}function zy(i){Ju(i)}function qy(i){console.error(i)}function Hy(i){Ju(i)}function rp(i,a){try{var l=i.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(h){setTimeout(function(){throw h})}}function Gy(i,a,l){try{var h=i.onCaughtError;h(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function Ig(i,a,l){return l=tn(l),l.tag=3,l.payload={element:null},l.callback=function(){rp(i,a)},l}function $y(i){return i=tn(i),i.tag=3,i}function Yy(i,a,l,h){var y=l.type.getDerivedStateFromError;if(typeof y=="function"){var _=h.value;i.payload=function(){return y(_)},i.callback=function(){Gy(a,l,h)}}var C=l.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(i.callback=function(){Gy(a,l,h),typeof y!="function"&&(du===null?du=new Set([this]):du.add(this));var Y=h.stack;this.componentDidCatch(h.value,{componentStack:Y!==null?Y:""})})}function bS(i,a,l,h,y){if(l.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(a=l.alternate,a!==null&&Vo(a,l,y,!0),l=jr.current,l!==null){switch(l.tag){case 31:case 13:return Yn===null?mp():l.alternate===null&&ui===0&&(ui=3),l.flags&=-257,l.flags|=65536,l.lanes=y,h===we?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([h]):a.add(h),n1(i,h,y)),!1;case 22:return l.flags|=65536,h===we?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([h])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([h]):l.add(h)),n1(i,h,y)),!1}throw Error(r(435,l.tag))}return n1(i,h,y),mp(),!1}if(kn)return a=jr.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=y,h!==vs&&(i=Error(r(422),{cause:h}),ru(Qa(i,l)))):(h!==vs&&(a=Error(r(423),{cause:h}),ru(Qa(a,l))),i=i.current.alternate,i.flags|=65536,y&=-y,i.lanes|=y,h=Qa(h,l),y=Ig(i.stateNode,h,y),mi(i,y),ui!==4&&(ui=2)),!1;var _=Error(r(520),{cause:h});if(_=Qa(_,l),Nf===null?Nf=[_]:Nf.push(_),ui!==4&&(ui=2),a===null)return!0;h=Qa(h,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,i=y&-y,l.lanes|=i,i=Ig(l.stateNode,h,i),mi(l,i),!1;case 1:if(a=l.type,_=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(du===null||!du.has(_))))return l.flags|=65536,y&=-y,l.lanes|=y,y=$y(y),Yy(y,i,l,h),mi(l,y),!1}l=l.return}while(l!==null);return!1}var kg=Error(r(461)),Ti=!1;function da(i,a,l,h){a.child=i===null?bn(a,null,l,h):Ir(a,i.child,l,h)}function Ky(i,a,l,h,y){l=l.render;var _=a.ref;if("ref"in h){var C={};for(var Y in h)Y!=="ref"&&(C[Y]=h[Y])}else C=h;return Bo(a),h=hf(i,a,l,C,_,y),Y=ff(),i!==null&&!Ti?(df(i,a,y),Tl(i,a,y)):(kn&&Y&&of(a),a.flags|=1,da(i,a,h,y),a.child)}function Wy(i,a,l,h,y){if(i===null){var _=l.type;return typeof _=="function"&&!zc(_)&&_.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=_,Xy(i,a,_,h,y)):(i=eu(l.type,null,h,a,a.mode,y),i.ref=a.ref,i.return=a,a.child=i)}if(_=i.child,!Vg(i,y)){var C=_.memoizedProps;if(l=l.compare,l=l!==null?l:ao,l(C,h)&&i.ref===a.ref)return Tl(i,a,y)}return a.flags|=1,i=Xa(_,h),i.ref=a.ref,i.return=a,a.child=i}function Xy(i,a,l,h,y){if(i!==null){var _=i.memoizedProps;if(ao(_,h)&&i.ref===a.ref)if(Ti=!1,a.pendingProps=h=_,Vg(i,y))(i.flags&131072)!==0&&(Ti=!0);else return a.lanes=i.lanes,Tl(i,a,y)}return Og(i,a,l,h,y)}function Qy(i,a,l,h){var y=h.children,_=i!==null?i.memoizedState:null;if(i===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((a.flags&128)!==0){if(_=_!==null?_.baseLanes|l:l,i!==null){for(h=a.child=i.child,y=0;h!==null;)y=y|h.lanes|h.childLanes,h=h.sibling;h=y&~_}else h=0,a.child=null;return Jy(i,a,_,l,h)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},i!==null&&Z(a,_!==null?_.cachePool:null),_!==null?Mr(a,_):Jn(),si(a);else return h=a.lanes=536870912,Jy(i,a,_!==null?_.baseLanes|l:l,l,h)}else _!==null?(Z(a,_.cachePool),Mr(a,_),oi(),a.memoizedState=null):(i!==null&&Z(a,null),Jn(),oi());return da(i,a,y,l),a.child}function _f(i,a){return i!==null&&i.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function Jy(i,a,l,h,y){var _=W();return _=_===null?null:{parent:ei._currentValue,pool:_},a.memoizedState={baseLanes:l,cachePool:_},i!==null&&Z(a,null),Jn(),si(a),i!==null&&Vo(i,a,h,!0),a.childLanes=y,null}function ip(i,a){return a=sp({mode:a.mode,children:a.children},i.mode),a.ref=i.ref,i.child=a,a.return=i,a}function Zy(i,a,l){return Ir(a,i.child,null,l),i=ip(a,a.pendingProps),i.flags|=2,mr(a),a.memoizedState=null,i}function _S(i,a,l){var h=a.pendingProps,y=(a.flags&128)!==0;if(a.flags&=-129,i===null){if(kn){if(h.mode==="hidden")return i=ip(a,h),a.lanes=536870912,_f(null,i);if(or(a),(i=Lr)?(i=h5(i,Hr),i=i!==null&&i.data==="&"?i:null,i!==null&&(a.memoizedState={dehydrated:i,treeContext:Mo!==null?{id:es,overflow:ts}:null,retryLane:536870912,hydrationErrors:null},l=qc(i),l.return=a,a.child=l,Vi=a,Lr=null)):i=null,i===null)throw jo(a);return a.lanes=536870912,null}return ip(a,h)}var _=i.memoizedState;if(_!==null){var C=_.dehydrated;if(or(a),y)if(a.flags&256)a.flags&=-257,a=Zy(i,a,l);else if(a.memoizedState!==null)a.child=i.child,a.flags|=128,a=null;else throw Error(r(558));else if(Ti||Vo(i,a,l,!1),y=(l&i.childLanes)!==0,Ti||y){if(h=kr,h!==null&&(C=_e(h,l),C!==0&&C!==_.retryLane))throw _.retryLane=C,uo(i,C),ls(h,i,C),kg;mp(),a=Zy(i,a,l)}else i=_.treeContext,Lr=qs(C.nextSibling),Vi=a,kn=!0,ha=null,Hr=!1,i!==null&&Kd(a,i),a=ip(a,h),a.flags|=4096;return a}return i=Xa(i.child,{mode:h.mode,children:h.children}),i.ref=a.ref,a.child=i,i.return=a,i}function ap(i,a){var l=a.ref;if(l===null)i!==null&&i.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(i===null||i.ref!==l)&&(a.flags|=4194816)}}function Og(i,a,l,h,y){return Bo(a),l=hf(i,a,l,h,void 0,y),h=ff(),i!==null&&!Ti?(df(i,a,y),Tl(i,a,y)):(kn&&h&&of(a),a.flags|=1,da(i,a,l,y),a.child)}function ev(i,a,l,h,y,_){return Bo(a),a.updateQueue=null,l=ho(a,h,l,y),Jc(i),h=ff(),i!==null&&!Ti?(df(i,a,_),Tl(i,a,_)):(kn&&h&&of(a),a.flags|=1,da(i,a,l,_),a.child)}function tv(i,a,l,h,y){if(Bo(a),a.stateNode===null){var _=Fi,C=l.contextType;typeof C=="object"&&C!==null&&(_=zi(C)),_=new l(h,_),a.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=Lg,a.stateNode=_,_._reactInternals=a,_=a.stateNode,_.props=h,_.state=a.memoizedState,_.refs={},ut(a),C=l.contextType,_.context=typeof C=="object"&&C!==null?zi(C):Fi,_.state=a.memoizedState,C=l.getDerivedStateFromProps,typeof C=="function"&&(Rg(a,l,C,h),_.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(C=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),C!==_.state&&Lg.enqueueReplaceState(_,_.state,null),ii(a,h,_,y),Sr(),_.state=a.memoizedState),typeof _.componentDidMount=="function"&&(a.flags|=4194308),h=!0}else if(i===null){_=a.stateNode;var Y=a.memoizedProps,pe=uc(l,Y);_.props=pe;var Pe=_.context,Ge=l.contextType;C=Fi,typeof Ge=="object"&&Ge!==null&&(C=zi(Ge));var We=l.getDerivedStateFromProps;Ge=typeof We=="function"||typeof _.getSnapshotBeforeUpdate=="function",Y=a.pendingProps!==Y,Ge||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(Y||Pe!==C)&&By(a,_,h,C),vt=!1;var je=a.memoizedState;_.state=je,ii(a,h,_,y),Sr(),Pe=a.memoizedState,Y||je!==Pe||vt?(typeof We=="function"&&(Rg(a,l,We,h),Pe=a.memoizedState),(pe=vt||Vy(a,l,pe,h,je,Pe,C))?(Ge||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(a.flags|=4194308)):(typeof _.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=h,a.memoizedState=Pe),_.props=h,_.state=Pe,_.context=C,h=pe):(typeof _.componentDidMount=="function"&&(a.flags|=4194308),h=!1)}else{_=a.stateNode,Pr(i,a),C=a.memoizedProps,Ge=uc(l,C),_.props=Ge,We=a.pendingProps,je=_.context,Pe=l.contextType,pe=Fi,typeof Pe=="object"&&Pe!==null&&(pe=zi(Pe)),Y=l.getDerivedStateFromProps,(Pe=typeof Y=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(C!==We||je!==pe)&&By(a,_,h,pe),vt=!1,je=a.memoizedState,_.state=je,ii(a,h,_,y),Sr();var Ue=a.memoizedState;C!==We||je!==Ue||vt||i!==null&&i.dependencies!==null&&Kc(i.dependencies)?(typeof Y=="function"&&(Rg(a,l,Y,h),Ue=a.memoizedState),(Ge=vt||Vy(a,l,Ge,h,je,Ue,pe)||i!==null&&i.dependencies!==null&&Kc(i.dependencies))?(Pe||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(h,Ue,pe),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(h,Ue,pe)),typeof _.componentDidUpdate=="function"&&(a.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof _.componentDidUpdate!="function"||C===i.memoizedProps&&je===i.memoizedState||(a.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||C===i.memoizedProps&&je===i.memoizedState||(a.flags|=1024),a.memoizedProps=h,a.memoizedState=Ue),_.props=h,_.state=Ue,_.context=pe,h=Ge):(typeof _.componentDidUpdate!="function"||C===i.memoizedProps&&je===i.memoizedState||(a.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||C===i.memoizedProps&&je===i.memoizedState||(a.flags|=1024),h=!1)}return _=h,ap(i,a),h=(a.flags&128)!==0,_||h?(_=a.stateNode,l=h&&typeof l.getDerivedStateFromError!="function"?null:_.render(),a.flags|=1,i!==null&&h?(a.child=Ir(a,i.child,null,y),a.child=Ir(a,null,l,y)):da(i,a,l,y),a.memoizedState=_.state,i=a.child):i=Tl(i,a,y),i}function nv(i,a,l,h){return wl(),a.flags|=256,da(i,a,l,h),a.child}var Dg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Pg(i){return{baseLanes:i,cachePool:se()}}function Mg(i,a,l){return i=i!==null?i.childLanes&~l:0,a&&(i|=_s),i}function rv(i,a,l){var h=a.pendingProps,y=!1,_=(a.flags&128)!==0,C;if((C=_)||(C=i!==null&&i.memoizedState===null?!1:(Hn.current&2)!==0),C&&(y=!0,a.flags&=-129),C=(a.flags&32)!==0,a.flags&=-33,i===null){if(kn){if(y?ti(a):oi(),(i=Lr)?(i=h5(i,Hr),i=i!==null&&i.data!=="&"?i:null,i!==null&&(a.memoizedState={dehydrated:i,treeContext:Mo!==null?{id:es,overflow:ts}:null,retryLane:536870912,hydrationErrors:null},l=qc(i),l.return=a,a.child=l,Vi=a,Lr=null)):i=null,i===null)throw jo(a);return v1(i)?a.lanes=32:a.lanes=536870912,null}var Y=h.children;return h=h.fallback,y?(oi(),y=a.mode,Y=sp({mode:"hidden",children:Y},y),h=Po(h,y,l,null),Y.return=a,h.return=a,Y.sibling=h,a.child=Y,h=a.child,h.memoizedState=Pg(l),h.childLanes=Mg(i,C,l),a.memoizedState=Dg,_f(null,h)):(ti(a),jg(a,Y))}var pe=i.memoizedState;if(pe!==null&&(Y=pe.dehydrated,Y!==null)){if(_)a.flags&256?(ti(a),a.flags&=-257,a=Ug(i,a,l)):a.memoizedState!==null?(oi(),a.child=i.child,a.flags|=128,a=null):(oi(),Y=h.fallback,y=a.mode,h=sp({mode:"visible",children:h.children},y),Y=Po(Y,y,l,null),Y.flags|=2,h.return=a,Y.return=a,h.sibling=Y,a.child=h,Ir(a,i.child,null,l),h=a.child,h.memoizedState=Pg(l),h.childLanes=Mg(i,C,l),a.memoizedState=Dg,a=_f(null,h));else if(ti(a),v1(Y)){if(C=Y.nextSibling&&Y.nextSibling.dataset,C)var Pe=C.dgst;C=Pe,h=Error(r(419)),h.stack="",h.digest=C,ru({value:h,source:null,stack:null}),a=Ug(i,a,l)}else if(Ti||Vo(i,a,l,!1),C=(l&i.childLanes)!==0,Ti||C){if(C=kr,C!==null&&(h=_e(C,l),h!==0&&h!==pe.retryLane))throw pe.retryLane=h,uo(i,h),ls(C,i,h),kg;y1(Y)||mp(),a=Ug(i,a,l)}else y1(Y)?(a.flags|=192,a.child=i.child,a=null):(i=pe.treeContext,Lr=qs(Y.nextSibling),Vi=a,kn=!0,ha=null,Hr=!1,i!==null&&Kd(a,i),a=jg(a,h.children),a.flags|=4096);return a}return y?(oi(),Y=h.fallback,y=a.mode,pe=i.child,Pe=pe.sibling,h=Xa(pe,{mode:"hidden",children:h.children}),h.subtreeFlags=pe.subtreeFlags&65011712,Pe!==null?Y=Xa(Pe,Y):(Y=Po(Y,y,l,null),Y.flags|=2),Y.return=a,h.return=a,h.sibling=Y,a.child=h,_f(null,h),h=a.child,Y=i.child.memoizedState,Y===null?Y=Pg(l):(y=Y.cachePool,y!==null?(pe=ei._currentValue,y=y.parent!==pe?{parent:pe,pool:pe}:y):y=se(),Y={baseLanes:Y.baseLanes|l,cachePool:y}),h.memoizedState=Y,h.childLanes=Mg(i,C,l),a.memoizedState=Dg,_f(i.child,h)):(ti(a),l=i.child,i=l.sibling,l=Xa(l,{mode:"visible",children:h.children}),l.return=a,l.sibling=null,i!==null&&(C=a.deletions,C===null?(a.deletions=[i],a.flags|=16):C.push(i)),a.child=l,a.memoizedState=null,l)}function jg(i,a){return a=sp({mode:"visible",children:a},i.mode),a.return=i,i.child=a}function sp(i,a){return i=Zi(22,i,null,a),i.lanes=0,i}function Ug(i,a,l){return Ir(a,i.child,null,l),i=jg(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function iv(i,a,l){i.lanes|=a;var h=i.alternate;h!==null&&(h.lanes|=a),iu(i.return,a,l)}function Fg(i,a,l,h,y,_){var C=i.memoizedState;C===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:y,treeForkCount:_}:(C.isBackwards=a,C.rendering=null,C.renderingStartTime=0,C.last=h,C.tail=l,C.tailMode=y,C.treeForkCount=_)}function av(i,a,l){var h=a.pendingProps,y=h.revealOrder,_=h.tail;h=h.children;var C=Hn.current,Y=(C&2)!==0;if(Y?(C=C&1|2,a.flags|=128):C&=1,K(Hn,C),da(i,a,h,l),h=kn?ic:0,!Y&&i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&iv(i,l,a);else if(i.tag===19)iv(i,l,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(y){case"forwards":for(l=a.child,y=null;l!==null;)i=l.alternate,i!==null&&ta(i)===null&&(y=l),l=l.sibling;l=y,l===null?(y=a.child,a.child=null):(y=l.sibling,l.sibling=null),Fg(a,!1,y,l,_,h);break;case"backwards":case"unstable_legacy-backwards":for(l=null,y=a.child,a.child=null;y!==null;){if(i=y.alternate,i!==null&&ta(i)===null){a.child=y;break}i=y.sibling,y.sibling=l,l=y,y=i}Fg(a,!0,l,null,_,h);break;case"together":Fg(a,!1,null,null,void 0,h);break;default:a.memoizedState=null}return a.child}function Tl(i,a,l){if(i!==null&&(a.dependencies=i.dependencies),fu|=a.lanes,(l&a.childLanes)===0)if(i!==null){if(Vo(i,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(i!==null&&a.child!==i.child)throw Error(r(153));if(a.child!==null){for(i=a.child,l=Xa(i,i.pendingProps),a.child=l,l.return=a;i.sibling!==null;)i=i.sibling,l=l.sibling=Xa(i,i.pendingProps),l.return=a;l.sibling=null}return a.child}function Vg(i,a){return(i.lanes&a)!==0?!0:(i=i.dependencies,!!(i!==null&&Kc(i)))}function wS(i,a,l){switch(a.tag){case 3:Ie(a,a.stateNode.containerInfo),Fo(a,ei,i.memoizedState.cache),wl();break;case 27:case 5:ze(a);break;case 4:Ie(a,a.stateNode.containerInfo);break;case 10:Fo(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,or(a),null;break;case 13:var h=a.memoizedState;if(h!==null)return h.dehydrated!==null?(ti(a),a.flags|=128,null):(l&a.child.childLanes)!==0?rv(i,a,l):(ti(a),i=Tl(i,a,l),i!==null?i.sibling:null);ti(a);break;case 19:var y=(i.flags&128)!==0;if(h=(l&a.childLanes)!==0,h||(Vo(i,a,l,!1),h=(l&a.childLanes)!==0),y){if(h)return av(i,a,l);a.flags|=128}if(y=a.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),K(Hn,Hn.current),h)break;return null;case 22:return a.lanes=0,Qy(i,a,l,a.pendingProps);case 24:Fo(a,ei,i.memoizedState.cache)}return Tl(i,a,l)}function sv(i,a,l){if(i!==null)if(i.memoizedProps!==a.pendingProps)Ti=!0;else{if(!Vg(i,l)&&(a.flags&128)===0)return Ti=!1,wS(i,a,l);Ti=(i.flags&131072)!==0}else Ti=!1,kn&&(a.flags&1048576)!==0&&Yd(a,ic,a.index);switch(a.lanes=0,a.tag){case 16:e:{var h=a.pendingProps;if(i=Le(a.elementType),a.type=i,typeof i=="function")zc(i)?(h=uc(i,h),a.tag=1,a=tv(null,a,i,h,l)):(a.tag=0,a=Og(null,a,i,h,l));else{if(i!=null){var y=i.$$typeof;if(y===te){a.tag=11,a=Ky(null,a,i,h,l);break e}else if(y===O){a.tag=14,a=Wy(null,a,i,h,l);break e}}throw a=le(i)||i,Error(r(306,a,""))}}return a;case 0:return Og(i,a,a.type,a.pendingProps,l);case 1:return h=a.type,y=uc(h,a.pendingProps),tv(i,a,h,y,l);case 3:e:{if(Ie(a,a.stateNode.containerInfo),i===null)throw Error(r(387));h=a.pendingProps;var _=a.memoizedState;y=_.element,Pr(i,a),ii(a,h,null,l);var C=a.memoizedState;if(h=C.cache,Fo(a,ei,h),h!==_.cache&&El(a,[ei],l,!0),Sr(),h=C.element,_.isDehydrated)if(_={element:h,isDehydrated:!1,cache:C.cache},a.updateQueue.baseState=_,a.memoizedState=_,a.flags&256){a=nv(i,a,h,l);break e}else if(h!==y){y=Qa(Error(r(424)),a),ru(y),a=nv(i,a,h,l);break e}else{switch(i=a.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Lr=qs(i.firstChild),Vi=a,kn=!0,ha=null,Hr=!0,l=bn(a,null,h,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(wl(),h===y){a=Tl(i,a,l);break e}da(i,a,h,l)}a=a.child}return a;case 26:return ap(i,a),i===null?(l=y5(a.type,null,a.pendingProps,null))?a.memoizedState=l:kn||(l=a.type,i=a.pendingProps,h=Ep(he.current).createElement(l),h[rt]=a,h[st]=i,pa(h,l,i),ar(h),a.stateNode=h):a.memoizedState=y5(a.type,i.memoizedProps,a.pendingProps,i.memoizedState),null;case 27:return ze(a),i===null&&kn&&(h=a.stateNode=p5(a.type,a.pendingProps,he.current),Vi=a,Hr=!0,y=Lr,yu(a.type)?(b1=y,Lr=qs(h.firstChild)):Lr=y),da(i,a,a.pendingProps.children,l),ap(i,a),i===null&&(a.flags|=4194304),a.child;case 5:return i===null&&kn&&((y=h=Lr)&&(h=QS(h,a.type,a.pendingProps,Hr),h!==null?(a.stateNode=h,Vi=a,Lr=qs(h.firstChild),Hr=!1,y=!0):y=!1),y||jo(a)),ze(a),y=a.type,_=a.pendingProps,C=i!==null?i.memoizedProps:null,h=_.children,p1(y,_)?h=null:C!==null&&p1(y,C)&&(a.flags|=32),a.memoizedState!==null&&(y=hf(i,a,wg,null,null,l),Pf._currentValue=y),ap(i,a),da(i,a,h,l),a.child;case 6:return i===null&&kn&&((i=l=Lr)&&(l=JS(l,a.pendingProps,Hr),l!==null?(a.stateNode=l,Vi=a,Lr=null,i=!0):i=!1),i||jo(a)),null;case 13:return rv(i,a,l);case 4:return Ie(a,a.stateNode.containerInfo),h=a.pendingProps,i===null?a.child=Ir(a,null,h,l):da(i,a,h,l),a.child;case 11:return Ky(i,a,a.type,a.pendingProps,l);case 7:return da(i,a,a.pendingProps,l),a.child;case 8:return da(i,a,a.pendingProps.children,l),a.child;case 12:return da(i,a,a.pendingProps.children,l),a.child;case 10:return h=a.pendingProps,Fo(a,a.type,h.value),da(i,a,h.children,l),a.child;case 9:return y=a.type._context,h=a.pendingProps.children,Bo(a),y=zi(y),h=h(y),a.flags|=1,da(i,a,h,l),a.child;case 14:return Wy(i,a,a.type,a.pendingProps,l);case 15:return Xy(i,a,a.type,a.pendingProps,l);case 19:return av(i,a,l);case 31:return _S(i,a,l);case 22:return Qy(i,a,l,a.pendingProps);case 24:return Bo(a),h=zi(ei),i===null?(y=W(),y===null&&(y=kr,_=au(),y.pooledCache=_,_.refCount++,_!==null&&(y.pooledCacheLanes|=l),y=_),a.memoizedState={parent:h,cache:y},ut(a),Fo(a,ei,y)):((i.lanes&l)!==0&&(Pr(i,a),ii(a,null,null,l),Sr()),y=i.memoizedState,_=a.memoizedState,y.parent!==h?(y={parent:h,cache:h},a.memoizedState=y,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=y),Fo(a,ei,h)):(h=_.cache,Fo(a,ei,h),h!==y.cache&&El(a,[ei],l,!0))),da(i,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function Nl(i){i.flags|=4}function Bg(i,a,l,h,y){if((a=(i.mode&32)!==0)&&(a=!1),a){if(i.flags|=16777216,(y&335544128)===y)if(i.stateNode.complete)i.flags|=8192;else if(Ov())i.flags|=8192;else throw Ve=we,ke}else i.flags&=-16777217}function ov(i,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!E5(a))if(Ov())i.flags|=8192;else throw Ve=we,ke}function op(i,a){a!==null&&(i.flags|=4),i.flags&16384&&(a=i.tag!==22?Li():536870912,i.lanes|=a,uh|=a)}function wf(i,a){if(!kn)switch(i.tailMode){case"hidden":a=i.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function Ur(i){var a=i.alternate!==null&&i.alternate.child===i.child,l=0,h=0;if(a)for(var y=i.child;y!==null;)l|=y.lanes|y.childLanes,h|=y.subtreeFlags&65011712,h|=y.flags&65011712,y.return=i,y=y.sibling;else for(y=i.child;y!==null;)l|=y.lanes|y.childLanes,h|=y.subtreeFlags,h|=y.flags,y.return=i,y=y.sibling;return i.subtreeFlags|=h,i.childLanes=l,a}function ES(i,a,l){var h=a.pendingProps;switch($c(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ur(a),null;case 1:return Ur(a),null;case 3:return l=a.stateNode,h=null,i!==null&&(h=i.memoizedState.cache),a.memoizedState.cache!==h&&(a.flags|=2048),ns(ei),De(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(Bi(a)?Nl(a):i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,uf())),Ur(a),null;case 26:var y=a.type,_=a.memoizedState;return i===null?(Nl(a),_!==null?(Ur(a),ov(a,_)):(Ur(a),Bg(a,y,null,h,l))):_?_!==i.memoizedState?(Nl(a),Ur(a),ov(a,_)):(Ur(a),a.flags&=-16777217):(i=i.memoizedProps,i!==h&&Nl(a),Ur(a),Bg(a,y,i,h,l)),null;case 27:if(tt(a),l=he.current,y=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==h&&Nl(a);else{if(!h){if(a.stateNode===null)throw Error(r(166));return Ur(a),null}i=J.current,Bi(a)?lf(a):(i=p5(y,h,l),a.stateNode=i,Nl(a))}return Ur(a),null;case 5:if(tt(a),y=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==h&&Nl(a);else{if(!h){if(a.stateNode===null)throw Error(r(166));return Ur(a),null}if(_=J.current,Bi(a))lf(a);else{var C=Ep(he.current);switch(_){case 1:_=C.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:_=C.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":_=C.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":_=C.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":_=C.createElement("div"),_.innerHTML="<script><\/script>",_=_.removeChild(_.firstChild);break;case"select":_=typeof h.is=="string"?C.createElement("select",{is:h.is}):C.createElement("select"),h.multiple?_.multiple=!0:h.size&&(_.size=h.size);break;default:_=typeof h.is=="string"?C.createElement(y,{is:h.is}):C.createElement(y)}}_[rt]=a,_[st]=h;e:for(C=a.child;C!==null;){if(C.tag===5||C.tag===6)_.appendChild(C.stateNode);else if(C.tag!==4&&C.tag!==27&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===a)break e;for(;C.sibling===null;){if(C.return===null||C.return===a)break e;C=C.return}C.sibling.return=C.return,C=C.sibling}a.stateNode=_;e:switch(pa(_,y,h),y){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&Nl(a)}}return Ur(a),Bg(a,a.type,i===null?null:i.memoizedProps,a.pendingProps,l),null;case 6:if(i&&a.stateNode!=null)i.memoizedProps!==h&&Nl(a);else{if(typeof h!="string"&&a.stateNode===null)throw Error(r(166));if(i=he.current,Bi(a)){if(i=a.stateNode,l=a.memoizedProps,h=null,y=Vi,y!==null)switch(y.tag){case 27:case 5:h=y.memoizedProps}i[rt]=a,i=!!(i.nodeValue===l||h!==null&&h.suppressHydrationWarning===!0||r5(i.nodeValue,l)),i||jo(a,!0)}else i=Ep(i).createTextNode(h),i[rt]=a,a.stateNode=i}return Ur(a),null;case 31:if(l=a.memoizedState,i===null||i.memoizedState!==null){if(h=Bi(a),l!==null){if(i===null){if(!h)throw Error(r(318));if(i=a.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[rt]=a}else wl(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Ur(a),i=!1}else l=uf(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=l),i=!0;if(!i)return a.flags&256?(mr(a),a):(mr(a),null);if((a.flags&128)!==0)throw Error(r(558))}return Ur(a),null;case 13:if(h=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(y=Bi(a),h!==null&&h.dehydrated!==null){if(i===null){if(!y)throw Error(r(318));if(y=a.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(r(317));y[rt]=a}else wl(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Ur(a),y=!1}else y=uf(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=y),y=!0;if(!y)return a.flags&256?(mr(a),a):(mr(a),null)}return mr(a),(a.flags&128)!==0?(a.lanes=l,a):(l=h!==null,i=i!==null&&i.memoizedState!==null,l&&(h=a.child,y=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(y=h.alternate.memoizedState.cachePool.pool),_=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(_=h.memoizedState.cachePool.pool),_!==y&&(h.flags|=2048)),l!==i&&l&&(a.child.flags|=8192),op(a,a.updateQueue),Ur(a),null);case 4:return De(),i===null&&u1(a.stateNode.containerInfo),Ur(a),null;case 10:return ns(a.type),Ur(a),null;case 19:if(I(Hn),h=a.memoizedState,h===null)return Ur(a),null;if(y=(a.flags&128)!==0,_=h.rendering,_===null)if(y)wf(h,!1);else{if(ui!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(_=ta(i),_!==null){for(a.flags|=128,wf(h,!1),i=_.updateQueue,a.updateQueue=i,op(a,i),a.subtreeFlags=0,i=l,l=a.child;l!==null;)nc(l,i),l=l.sibling;return K(Hn,Hn.current&1|2),kn&&za(a,h.treeForkCount),a.child}i=i.sibling}h.tail!==null&&Qt()>fp&&(a.flags|=128,y=!0,wf(h,!1),a.lanes=4194304)}else{if(!y)if(i=ta(_),i!==null){if(a.flags|=128,y=!0,i=i.updateQueue,a.updateQueue=i,op(a,i),wf(h,!0),h.tail===null&&h.tailMode==="hidden"&&!_.alternate&&!kn)return Ur(a),null}else 2*Qt()-h.renderingStartTime>fp&&l!==536870912&&(a.flags|=128,y=!0,wf(h,!1),a.lanes=4194304);h.isBackwards?(_.sibling=a.child,a.child=_):(i=h.last,i!==null?i.sibling=_:a.child=_,h.last=_)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=Qt(),i.sibling=null,l=Hn.current,K(Hn,y?l&1|2:l&1),kn&&za(a,h.treeForkCount),i):(Ur(a),null);case 22:case 23:return mr(a),gi(),h=a.memoizedState!==null,i!==null?i.memoizedState!==null!==h&&(a.flags|=8192):h&&(a.flags|=8192),h?(l&536870912)!==0&&(a.flags&128)===0&&(Ur(a),a.subtreeFlags&6&&(a.flags|=8192)):Ur(a),l=a.updateQueue,l!==null&&op(a,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),h=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),h!==l&&(a.flags|=2048),i!==null&&I(G),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),ns(ei),Ur(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function AS(i,a){switch($c(a),a.tag){case 1:return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return ns(ei),De(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 26:case 27:case 5:return tt(a),null;case 31:if(a.memoizedState!==null){if(mr(a),a.alternate===null)throw Error(r(340));wl()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 13:if(mr(a),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(r(340));wl()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return I(Hn),null;case 4:return De(),null;case 10:return ns(a.type),null;case 22:case 23:return mr(a),gi(),i!==null&&I(G),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 24:return ns(ei),null;case 25:return null;default:return null}}function lv(i,a){switch($c(a),a.tag){case 3:ns(ei),De();break;case 26:case 27:case 5:tt(a);break;case 4:De();break;case 31:a.memoizedState!==null&&mr(a);break;case 13:mr(a);break;case 19:I(Hn);break;case 10:ns(a.type);break;case 22:case 23:mr(a),gi(),i!==null&&I(G);break;case 24:ns(ei)}}function Ef(i,a){try{var l=a.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var y=h.next;l=y;do{if((l.tag&i)===i){h=void 0;var _=l.create,C=l.inst;h=_(),C.destroy=h}l=l.next}while(l!==y)}}catch(Y){yr(a,a.return,Y)}}function cu(i,a,l){try{var h=a.updateQueue,y=h!==null?h.lastEffect:null;if(y!==null){var _=y.next;h=_;do{if((h.tag&i)===i){var C=h.inst,Y=C.destroy;if(Y!==void 0){C.destroy=void 0,y=a;var pe=l,Pe=Y;try{Pe()}catch(Ge){yr(y,pe,Ge)}}}h=h.next}while(h!==_)}}catch(Ge){yr(a,a.return,Ge)}}function uv(i){var a=i.updateQueue;if(a!==null){var l=i.stateNode;try{ai(a,l)}catch(h){yr(i,i.return,h)}}}function cv(i,a,l){l.props=uc(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(h){yr(i,a,h)}}function Af(i,a){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var h=i.stateNode;break;case 30:h=i.stateNode;break;default:h=i.stateNode}typeof l=="function"?i.refCleanup=l(h):l.current=h}}catch(y){yr(i,a,y)}}function $o(i,a){var l=i.ref,h=i.refCleanup;if(l!==null)if(typeof h=="function")try{h()}catch(y){yr(i,a,y)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(y){yr(i,a,y)}else l.current=null}function hv(i){var a=i.type,l=i.memoizedProps,h=i.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&h.focus();break e;case"img":l.src?h.src=l.src:l.srcSet&&(h.srcset=l.srcSet)}}catch(y){yr(i,i.return,y)}}function zg(i,a,l){try{var h=i.stateNode;GS(h,i.type,l,a),h[st]=a}catch(y){yr(i,i.return,y)}}function fv(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&yu(i.type)||i.tag===4}function qg(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||fv(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&yu(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Hg(i,a,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(i),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=Pa));else if(h!==4&&(h===27&&yu(i.type)&&(l=i.stateNode,a=null),i=i.child,i!==null))for(Hg(i,a,l),i=i.sibling;i!==null;)Hg(i,a,l),i=i.sibling}function lp(i,a,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,a?l.insertBefore(i,a):l.appendChild(i);else if(h!==4&&(h===27&&yu(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(lp(i,a,l),i=i.sibling;i!==null;)lp(i,a,l),i=i.sibling}function dv(i){var a=i.stateNode,l=i.memoizedProps;try{for(var h=i.type,y=a.attributes;y.length;)a.removeAttributeNode(y[0]);pa(a,h,l),a[rt]=i,a[st]=l}catch(_){yr(i,i.return,_)}}var Cl=!1,Ni=!1,Gg=!1,pv=typeof WeakSet=="function"?WeakSet:Set,na=null;function SS(i,a){if(i=i.containerInfo,f1=Rp,i=oo(i),Us(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var y=h.anchorOffset,_=h.focusNode;h=h.focusOffset;try{l.nodeType,_.nodeType}catch{l=null;break e}var C=0,Y=-1,pe=-1,Pe=0,Ge=0,We=i,je=null;t:for(;;){for(var Ue;We!==l||y!==0&&We.nodeType!==3||(Y=C+y),We!==_||h!==0&&We.nodeType!==3||(pe=C+h),We.nodeType===3&&(C+=We.nodeValue.length),(Ue=We.firstChild)!==null;)je=We,We=Ue;for(;;){if(We===i)break t;if(je===l&&++Pe===y&&(Y=C),je===_&&++Ge===h&&(pe=C),(Ue=We.nextSibling)!==null)break;We=je,je=We.parentNode}We=Ue}l=Y===-1||pe===-1?null:{start:Y,end:pe}}else l=null}l=l||{start:0,end:0}}else l=null;for(d1={focusedElem:i,selectionRange:l},Rp=!1,na=a;na!==null;)if(a=na,i=a.child,(a.subtreeFlags&1028)!==0&&i!==null)i.return=a,na=i;else for(;na!==null;){switch(a=na,_=a.alternate,i=a.flags,a.tag){case 0:if((i&4)!==0&&(i=a.updateQueue,i=i!==null?i.events:null,i!==null))for(l=0;l<i.length;l++)y=i[l],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&_!==null){i=void 0,l=a,y=_.memoizedProps,_=_.memoizedState,h=l.stateNode;try{var St=uc(l.type,y);i=h.getSnapshotBeforeUpdate(St,_),h.__reactInternalSnapshotBeforeUpdate=i}catch(nn){yr(l,l.return,nn)}}break;case 3:if((i&1024)!==0){if(i=a.stateNode.containerInfo,l=i.nodeType,l===9)g1(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":g1(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=a.sibling,i!==null){i.return=a.return,na=i;break}na=a.return}}function mv(i,a,l){var h=l.flags;switch(l.tag){case 0:case 11:case 15:Ll(i,l),h&4&&Ef(5,l);break;case 1:if(Ll(i,l),h&4)if(i=l.stateNode,a===null)try{i.componentDidMount()}catch(C){yr(l,l.return,C)}else{var y=uc(l.type,a.memoizedProps);a=a.memoizedState;try{i.componentDidUpdate(y,a,i.__reactInternalSnapshotBeforeUpdate)}catch(C){yr(l,l.return,C)}}h&64&&uv(l),h&512&&Af(l,l.return);break;case 3:if(Ll(i,l),h&64&&(i=l.updateQueue,i!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{ai(i,a)}catch(C){yr(l,l.return,C)}}break;case 27:a===null&&h&4&&dv(l);case 26:case 5:Ll(i,l),a===null&&h&4&&hv(l),h&512&&Af(l,l.return);break;case 12:Ll(i,l);break;case 31:Ll(i,l),h&4&&vv(i,l);break;case 13:Ll(i,l),h&4&&bv(i,l),h&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=OS.bind(null,l),ZS(i,l))));break;case 22:if(h=l.memoizedState!==null||Cl,!h){a=a!==null&&a.memoizedState!==null||Ni,y=Cl;var _=Ni;Cl=h,(Ni=a)&&!_?Il(i,l,(l.subtreeFlags&8772)!==0):Ll(i,l),Cl=y,Ni=_}break;case 30:break;default:Ll(i,l)}}function gv(i){var a=i.alternate;a!==null&&(i.alternate=null,gv(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&Zn(a)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Yr=null,is=!1;function Rl(i,a,l){for(l=l.child;l!==null;)yv(i,a,l),l=l.sibling}function yv(i,a,l){if(Et&&typeof Et.onCommitFiberUnmount=="function")try{Et.onCommitFiberUnmount(fn,l)}catch{}switch(l.tag){case 26:Ni||$o(l,a),Rl(i,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Ni||$o(l,a);var h=Yr,y=is;yu(l.type)&&(Yr=l.stateNode,is=!1),Rl(i,a,l),kf(l.stateNode),Yr=h,is=y;break;case 5:Ni||$o(l,a);case 6:if(h=Yr,y=is,Yr=null,Rl(i,a,l),Yr=h,is=y,Yr!==null)if(is)try{(Yr.nodeType===9?Yr.body:Yr.nodeName==="HTML"?Yr.ownerDocument.body:Yr).removeChild(l.stateNode)}catch(_){yr(l,a,_)}else try{Yr.removeChild(l.stateNode)}catch(_){yr(l,a,_)}break;case 18:Yr!==null&&(is?(i=Yr,u5(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),yh(i)):u5(Yr,l.stateNode));break;case 4:h=Yr,y=is,Yr=l.stateNode.containerInfo,is=!0,Rl(i,a,l),Yr=h,is=y;break;case 0:case 11:case 14:case 15:cu(2,l,a),Ni||cu(4,l,a),Rl(i,a,l);break;case 1:Ni||($o(l,a),h=l.stateNode,typeof h.componentWillUnmount=="function"&&cv(l,a,h)),Rl(i,a,l);break;case 21:Rl(i,a,l);break;case 22:Ni=(h=Ni)||l.memoizedState!==null,Rl(i,a,l),Ni=h;break;default:Rl(i,a,l)}}function vv(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{yh(i)}catch(l){yr(a,a.return,l)}}}function bv(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{yh(i)}catch(l){yr(a,a.return,l)}}function xS(i){switch(i.tag){case 31:case 13:case 19:var a=i.stateNode;return a===null&&(a=i.stateNode=new pv),a;case 22:return i=i.stateNode,a=i._retryCache,a===null&&(a=i._retryCache=new pv),a;default:throw Error(r(435,i.tag))}}function up(i,a){var l=xS(i);a.forEach(function(h){if(!l.has(h)){l.add(h);var y=DS.bind(null,i,h);h.then(y,y)}})}function as(i,a){var l=a.deletions;if(l!==null)for(var h=0;h<l.length;h++){var y=l[h],_=i,C=a,Y=C;e:for(;Y!==null;){switch(Y.tag){case 27:if(yu(Y.type)){Yr=Y.stateNode,is=!1;break e}break;case 5:Yr=Y.stateNode,is=!1;break e;case 3:case 4:Yr=Y.stateNode.containerInfo,is=!0;break e}Y=Y.return}if(Yr===null)throw Error(r(160));yv(_,C,y),Yr=null,is=!1,_=y.alternate,_!==null&&(_.return=null),y.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)_v(a,i),a=a.sibling}var go=null;function _v(i,a){var l=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:as(a,i),ss(i),h&4&&(cu(3,i,i.return),Ef(3,i),cu(5,i,i.return));break;case 1:as(a,i),ss(i),h&512&&(Ni||l===null||$o(l,l.return)),h&64&&Cl&&(i=i.updateQueue,i!==null&&(h=i.callbacks,h!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?h:l.concat(h))));break;case 26:var y=go;if(as(a,i),ss(i),h&512&&(Ni||l===null||$o(l,l.return)),h&4){var _=l!==null?l.memoizedState:null;if(h=i.memoizedState,l===null)if(h===null)if(i.stateNode===null){e:{h=i.type,l=i.memoizedProps,y=y.ownerDocument||y;t:switch(h){case"title":_=y.getElementsByTagName("title")[0],(!_||_[Pn]||_[rt]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=y.createElement(h),y.head.insertBefore(_,y.querySelector("head > title"))),pa(_,h,l),_[rt]=i,ar(_),h=_;break e;case"link":var C=_5("link","href",y).get(h+(l.href||""));if(C){for(var Y=0;Y<C.length;Y++)if(_=C[Y],_.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&_.getAttribute("rel")===(l.rel==null?null:l.rel)&&_.getAttribute("title")===(l.title==null?null:l.title)&&_.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){C.splice(Y,1);break t}}_=y.createElement(h),pa(_,h,l),y.head.appendChild(_);break;case"meta":if(C=_5("meta","content",y).get(h+(l.content||""))){for(Y=0;Y<C.length;Y++)if(_=C[Y],_.getAttribute("content")===(l.content==null?null:""+l.content)&&_.getAttribute("name")===(l.name==null?null:l.name)&&_.getAttribute("property")===(l.property==null?null:l.property)&&_.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&_.getAttribute("charset")===(l.charSet==null?null:l.charSet)){C.splice(Y,1);break t}}_=y.createElement(h),pa(_,h,l),y.head.appendChild(_);break;default:throw Error(r(468,h))}_[rt]=i,ar(_),h=_}i.stateNode=h}else w5(y,i.type,i.stateNode);else i.stateNode=b5(y,h,i.memoizedProps);else _!==h?(_===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):_.count--,h===null?w5(y,i.type,i.stateNode):b5(y,h,i.memoizedProps)):h===null&&i.stateNode!==null&&zg(i,i.memoizedProps,l.memoizedProps)}break;case 27:as(a,i),ss(i),h&512&&(Ni||l===null||$o(l,l.return)),l!==null&&h&4&&zg(i,i.memoizedProps,l.memoizedProps);break;case 5:if(as(a,i),ss(i),h&512&&(Ni||l===null||$o(l,l.return)),i.flags&32){y=i.stateNode;try{di(y,"")}catch(St){yr(i,i.return,St)}}h&4&&i.stateNode!=null&&(y=i.memoizedProps,zg(i,y,l!==null?l.memoizedProps:y)),h&1024&&(Gg=!0);break;case 6:if(as(a,i),ss(i),h&4){if(i.stateNode===null)throw Error(r(162));h=i.memoizedProps,l=i.stateNode;try{l.nodeValue=h}catch(St){yr(i,i.return,St)}}break;case 3:if(xp=null,y=go,go=Ap(a.containerInfo),as(a,i),go=y,ss(i),h&4&&l!==null&&l.memoizedState.isDehydrated)try{yh(a.containerInfo)}catch(St){yr(i,i.return,St)}Gg&&(Gg=!1,wv(i));break;case 4:h=go,go=Ap(i.stateNode.containerInfo),as(a,i),ss(i),go=h;break;case 12:as(a,i),ss(i);break;case 31:as(a,i),ss(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,up(i,h)));break;case 13:as(a,i),ss(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(hp=Qt()),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,up(i,h)));break;case 22:y=i.memoizedState!==null;var pe=l!==null&&l.memoizedState!==null,Pe=Cl,Ge=Ni;if(Cl=Pe||y,Ni=Ge||pe,as(a,i),Ni=Ge,Cl=Pe,ss(i),h&8192)e:for(a=i.stateNode,a._visibility=y?a._visibility&-2:a._visibility|1,y&&(l===null||pe||Cl||Ni||cc(i)),l=null,a=i;;){if(a.tag===5||a.tag===26){if(l===null){pe=l=a;try{if(_=pe.stateNode,y)C=_.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{Y=pe.stateNode;var We=pe.memoizedProps.style,je=We!=null&&We.hasOwnProperty("display")?We.display:null;Y.style.display=je==null||typeof je=="boolean"?"":(""+je).trim()}}catch(St){yr(pe,pe.return,St)}}}else if(a.tag===6){if(l===null){pe=a;try{pe.stateNode.nodeValue=y?"":pe.memoizedProps}catch(St){yr(pe,pe.return,St)}}}else if(a.tag===18){if(l===null){pe=a;try{var Ue=pe.stateNode;y?c5(Ue,!0):c5(pe.stateNode,!1)}catch(St){yr(pe,pe.return,St)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===i)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break e;for(;a.sibling===null;){if(a.return===null||a.return===i)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}h&4&&(h=i.updateQueue,h!==null&&(l=h.retryQueue,l!==null&&(h.retryQueue=null,up(i,l))));break;case 19:as(a,i),ss(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,up(i,h)));break;case 30:break;case 21:break;default:as(a,i),ss(i)}}function ss(i){var a=i.flags;if(a&2){try{for(var l,h=i.return;h!==null;){if(fv(h)){l=h;break}h=h.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var y=l.stateNode,_=qg(i);lp(i,_,y);break;case 5:var C=l.stateNode;l.flags&32&&(di(C,""),l.flags&=-33);var Y=qg(i);lp(i,Y,C);break;case 3:case 4:var pe=l.stateNode.containerInfo,Pe=qg(i);Hg(i,Pe,pe);break;default:throw Error(r(161))}}catch(Ge){yr(i,i.return,Ge)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function wv(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var a=i;wv(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),i=i.sibling}}function Ll(i,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)mv(i,a.alternate,a),a=a.sibling}function cc(i){for(i=i.child;i!==null;){var a=i;switch(a.tag){case 0:case 11:case 14:case 15:cu(4,a,a.return),cc(a);break;case 1:$o(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&cv(a,a.return,l),cc(a);break;case 27:kf(a.stateNode);case 26:case 5:$o(a,a.return),cc(a);break;case 22:a.memoizedState===null&&cc(a);break;case 30:cc(a);break;default:cc(a)}i=i.sibling}}function Il(i,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var h=a.alternate,y=i,_=a,C=_.flags;switch(_.tag){case 0:case 11:case 15:Il(y,_,l),Ef(4,_);break;case 1:if(Il(y,_,l),h=_,y=h.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(Pe){yr(h,h.return,Pe)}if(h=_,y=h.updateQueue,y!==null){var Y=h.stateNode;try{var pe=y.shared.hiddenCallbacks;if(pe!==null)for(y.shared.hiddenCallbacks=null,y=0;y<pe.length;y++)ea(pe[y],Y)}catch(Pe){yr(h,h.return,Pe)}}l&&C&64&&uv(_),Af(_,_.return);break;case 27:dv(_);case 26:case 5:Il(y,_,l),l&&h===null&&C&4&&hv(_),Af(_,_.return);break;case 12:Il(y,_,l);break;case 31:Il(y,_,l),l&&C&4&&vv(y,_);break;case 13:Il(y,_,l),l&&C&4&&bv(y,_);break;case 22:_.memoizedState===null&&Il(y,_,l),Af(_,_.return);break;case 30:break;default:Il(y,_,l)}a=a.sibling}}function $g(i,a){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&ac(l))}function Yg(i,a){i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&ac(i))}function yo(i,a,l,h){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Ev(i,a,l,h),a=a.sibling}function Ev(i,a,l,h){var y=a.flags;switch(a.tag){case 0:case 11:case 15:yo(i,a,l,h),y&2048&&Ef(9,a);break;case 1:yo(i,a,l,h);break;case 3:yo(i,a,l,h),y&2048&&(i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&ac(i)));break;case 12:if(y&2048){yo(i,a,l,h),i=a.stateNode;try{var _=a.memoizedProps,C=_.id,Y=_.onPostCommit;typeof Y=="function"&&Y(C,a.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(pe){yr(a,a.return,pe)}}else yo(i,a,l,h);break;case 31:yo(i,a,l,h);break;case 13:yo(i,a,l,h);break;case 23:break;case 22:_=a.stateNode,C=a.alternate,a.memoizedState!==null?_._visibility&2?yo(i,a,l,h):Sf(i,a):_._visibility&2?yo(i,a,l,h):(_._visibility|=2,sh(i,a,l,h,(a.subtreeFlags&10256)!==0||!1)),y&2048&&$g(C,a);break;case 24:yo(i,a,l,h),y&2048&&Yg(a.alternate,a);break;default:yo(i,a,l,h)}}function sh(i,a,l,h,y){for(y=y&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var _=i,C=a,Y=l,pe=h,Pe=C.flags;switch(C.tag){case 0:case 11:case 15:sh(_,C,Y,pe,y),Ef(8,C);break;case 23:break;case 22:var Ge=C.stateNode;C.memoizedState!==null?Ge._visibility&2?sh(_,C,Y,pe,y):Sf(_,C):(Ge._visibility|=2,sh(_,C,Y,pe,y)),y&&Pe&2048&&$g(C.alternate,C);break;case 24:sh(_,C,Y,pe,y),y&&Pe&2048&&Yg(C.alternate,C);break;default:sh(_,C,Y,pe,y)}a=a.sibling}}function Sf(i,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=i,h=a,y=h.flags;switch(h.tag){case 22:Sf(l,h),y&2048&&$g(h.alternate,h);break;case 24:Sf(l,h),y&2048&&Yg(h.alternate,h);break;default:Sf(l,h)}a=a.sibling}}var xf=8192;function oh(i,a,l){if(i.subtreeFlags&xf)for(i=i.child;i!==null;)Av(i,a,l),i=i.sibling}function Av(i,a,l){switch(i.tag){case 26:oh(i,a,l),i.flags&xf&&i.memoizedState!==null&&h6(l,go,i.memoizedState,i.memoizedProps);break;case 5:oh(i,a,l);break;case 3:case 4:var h=go;go=Ap(i.stateNode.containerInfo),oh(i,a,l),go=h;break;case 22:i.memoizedState===null&&(h=i.alternate,h!==null&&h.memoizedState!==null?(h=xf,xf=16777216,oh(i,a,l),xf=h):oh(i,a,l));break;default:oh(i,a,l)}}function Sv(i){var a=i.alternate;if(a!==null&&(i=a.child,i!==null)){a.child=null;do a=i.sibling,i.sibling=null,i=a;while(i!==null)}}function Tf(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var h=a[l];na=h,Tv(h,i)}Sv(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)xv(i),i=i.sibling}function xv(i){switch(i.tag){case 0:case 11:case 15:Tf(i),i.flags&2048&&cu(9,i,i.return);break;case 3:Tf(i);break;case 12:Tf(i);break;case 22:var a=i.stateNode;i.memoizedState!==null&&a._visibility&2&&(i.return===null||i.return.tag!==13)?(a._visibility&=-3,cp(i)):Tf(i);break;default:Tf(i)}}function cp(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var h=a[l];na=h,Tv(h,i)}Sv(i)}for(i=i.child;i!==null;){switch(a=i,a.tag){case 0:case 11:case 15:cu(8,a,a.return),cp(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,cp(a));break;default:cp(a)}i=i.sibling}}function Tv(i,a){for(;na!==null;){var l=na;switch(l.tag){case 0:case 11:case 15:cu(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var h=l.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:ac(l.memoizedState.cache)}if(h=l.child,h!==null)h.return=l,na=h;else e:for(l=i;na!==null;){h=na;var y=h.sibling,_=h.return;if(gv(h),h===l){na=null;break e}if(y!==null){y.return=_,na=y;break e}na=_}}}var TS={getCacheForType:function(i){var a=zi(ei),l=a.data.get(i);return l===void 0&&(l=i(),a.data.set(i,l)),l},cacheSignal:function(){return zi(ei).controller.signal}},NS=typeof WeakMap=="function"?WeakMap:Map,lr=0,kr=null,On=null,Mn=0,gr=0,bs=null,hu=!1,lh=!1,Kg=!1,kl=0,ui=0,fu=0,hc=0,Wg=0,_s=0,uh=0,Nf=null,os=null,Xg=!1,hp=0,Nv=0,fp=1/0,dp=null,du=null,Hi=0,pu=null,ch=null,Ol=0,Qg=0,Jg=null,Cv=null,Cf=0,Zg=null;function ws(){return(lr&2)!==0&&Mn!==0?Mn&-Mn:re.T!==null?a1():Ze()}function Rv(){if(_s===0)if((Mn&536870912)===0||kn){var i=zn;zn<<=1,(zn&3932160)===0&&(zn=262144),_s=i}else _s=536870912;return i=jr.current,i!==null&&(i.flags|=32),_s}function ls(i,a,l){(i===kr&&(gr===2||gr===9)||i.cancelPendingCommit!==null)&&(hh(i,0),mu(i,Mn,_s,!1)),Dt(i,l),((lr&2)===0||i!==kr)&&(i===kr&&((lr&2)===0&&(hc|=l),ui===4&&mu(i,Mn,_s,!1)),Yo(i))}function Lv(i,a,l){if((lr&6)!==0)throw Error(r(327));var h=!l&&(a&127)===0&&(a&i.expiredLanes)===0||hi(i,a),y=h?LS(i,a):t1(i,a,!0),_=h;do{if(y===0){lh&&!h&&mu(i,a,0,!1);break}else{if(l=i.current.alternate,_&&!CS(l)){y=t1(i,a,!1),_=!1;continue}if(y===2){if(_=a,i.errorRecoveryDisabledLanes&_)var C=0;else C=i.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){a=C;e:{var Y=i;y=Nf;var pe=Y.current.memoizedState.isDehydrated;if(pe&&(hh(Y,C).flags|=256),C=t1(Y,C,!1),C!==2){if(Kg&&!pe){Y.errorRecoveryDisabledLanes|=_,hc|=_,y=4;break e}_=os,os=y,_!==null&&(os===null?os=_:os.push.apply(os,_))}y=C}if(_=!1,y!==2)continue}}if(y===1){hh(i,0),mu(i,a,0,!0);break}e:{switch(h=i,_=y,_){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:mu(h,a,_s,!hu);break e;case 2:os=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(y=hp+300-Qt(),10<y)){if(mu(h,a,_s,!hu),vn(h,0,!0)!==0)break e;Ol=a,h.timeoutHandle=o5(Iv.bind(null,h,l,os,dp,Xg,a,_s,hc,uh,hu,_,"Throttled",-0,0),y);break e}Iv(h,l,os,dp,Xg,a,_s,hc,uh,hu,_,null,-0,0)}}break}while(!0);Yo(i)}function Iv(i,a,l,h,y,_,C,Y,pe,Pe,Ge,We,je,Ue){if(i.timeoutHandle=-1,We=a.subtreeFlags,We&8192||(We&16785408)===16785408){We={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Pa},Av(a,_,We);var St=(_&62914560)===_?hp-Qt():(_&4194048)===_?Nv-Qt():0;if(St=f6(We,St),St!==null){Ol=_,i.cancelPendingCommit=St(Fv.bind(null,i,a,_,l,h,y,C,Y,pe,Ge,We,null,je,Ue)),mu(i,_,C,!Pe);return}}Fv(i,a,_,l,h,y,C,Y,pe)}function CS(i){for(var a=i;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var h=0;h<l.length;h++){var y=l[h],_=y.getSnapshot;y=y.value;try{if(!Ui(_(),y))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function mu(i,a,l,h){a&=~Wg,a&=~hc,i.suspendedLanes|=a,i.pingedLanes&=~a,h&&(i.warmLanes|=a),h=i.expirationTimes;for(var y=a;0<y;){var _=31-on(y),C=1<<_;h[_]=-1,y&=~C}l!==0&&Ii(i,l,a)}function pp(){return(lr&6)===0?(Rf(0),!1):!0}function e1(){if(On!==null){if(gr===0)var i=On.return;else i=On,Vs=Uo=null,Zc(i),Xe=null,Nt=0,i=On;for(;i!==null;)lv(i.alternate,i),i=i.return;On=null}}function hh(i,a){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,KS(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),Ol=0,e1(),kr=i,On=l=Xa(i.current,null),Mn=a,gr=0,bs=null,hu=!1,lh=hi(i,a),Kg=!1,uh=_s=Wg=hc=fu=ui=0,os=Nf=null,Xg=!1,(a&8)!==0&&(a|=a&32);var h=i.entangledLanes;if(h!==0)for(i=i.entanglements,h&=a;0<h;){var y=31-on(h),_=1<<y;a|=i[y],h&=~_}return kl=a,Zu(),l}function kv(i,a){Gt=null,re.H=bf,a===ye||a===ie?(a=Ye(),gr=3):a===ke?(a=Ye(),gr=4):gr=a===kg?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,bs=a,On===null&&(ui=1,rp(i,Qa(a,i.current)))}function Ov(){var i=jr.current;return i===null?!0:(Mn&4194048)===Mn?Yn===null:(Mn&62914560)===Mn||(Mn&536870912)!==0?i===Yn:!1}function Dv(){var i=re.H;return re.H=bf,i===null?bf:i}function Pv(){var i=re.A;return re.A=TS,i}function mp(){ui=4,hu||(Mn&4194048)!==Mn&&jr.current!==null||(lh=!0),(fu&134217727)===0&&(hc&134217727)===0||kr===null||mu(kr,Mn,_s,!1)}function t1(i,a,l){var h=lr;lr|=2;var y=Dv(),_=Pv();(kr!==i||Mn!==a)&&(dp=null,hh(i,a)),a=!1;var C=ui;e:do try{if(gr!==0&&On!==null){var Y=On,pe=bs;switch(gr){case 8:e1(),C=6;break e;case 3:case 2:case 9:case 6:jr.current===null&&(a=!0);var Pe=gr;if(gr=0,bs=null,fh(i,Y,pe,Pe),l&&lh){C=0;break e}break;default:Pe=gr,gr=0,bs=null,fh(i,Y,pe,Pe)}}RS(),C=ui;break}catch(Ge){kv(i,Ge)}while(!0);return a&&i.shellSuspendCounter++,Vs=Uo=null,lr=h,re.H=y,re.A=_,On===null&&(kr=null,Mn=0,Zu()),C}function RS(){for(;On!==null;)Mv(On)}function LS(i,a){var l=lr;lr|=2;var h=Dv(),y=Pv();kr!==i||Mn!==a?(dp=null,fp=Qt()+500,hh(i,a)):lh=hi(i,a);e:do try{if(gr!==0&&On!==null){a=On;var _=bs;t:switch(gr){case 1:gr=0,bs=null,fh(i,a,_,1);break;case 2:case 9:if(Re(_)){gr=0,bs=null,jv(a);break}a=function(){gr!==2&&gr!==9||kr!==i||(gr=7),Yo(i)},_.then(a,a);break e;case 3:gr=7;break e;case 4:gr=5;break e;case 7:Re(_)?(gr=0,bs=null,jv(a)):(gr=0,bs=null,fh(i,a,_,7));break;case 5:var C=null;switch(On.tag){case 26:C=On.memoizedState;case 5:case 27:var Y=On;if(C?E5(C):Y.stateNode.complete){gr=0,bs=null;var pe=Y.sibling;if(pe!==null)On=pe;else{var Pe=Y.return;Pe!==null?(On=Pe,gp(Pe)):On=null}break t}}gr=0,bs=null,fh(i,a,_,5);break;case 6:gr=0,bs=null,fh(i,a,_,6);break;case 8:e1(),ui=6;break e;default:throw Error(r(462))}}IS();break}catch(Ge){kv(i,Ge)}while(!0);return Vs=Uo=null,re.H=h,re.A=y,lr=l,On!==null?0:(kr=null,Mn=0,Zu(),ui)}function IS(){for(;On!==null&&!Vt();)Mv(On)}function Mv(i){var a=sv(i.alternate,i,kl);i.memoizedProps=i.pendingProps,a===null?gp(i):On=a}function jv(i){var a=i,l=a.alternate;switch(a.tag){case 15:case 0:a=ev(l,a,a.pendingProps,a.type,void 0,Mn);break;case 11:a=ev(l,a,a.pendingProps,a.type.render,a.ref,Mn);break;case 5:Zc(a);default:lv(l,a),a=On=nc(a,kl),a=sv(l,a,kl)}i.memoizedProps=i.pendingProps,a===null?gp(i):On=a}function fh(i,a,l,h){Vs=Uo=null,Zc(a),Xe=null,Nt=0;var y=a.return;try{if(bS(i,y,a,l,Mn)){ui=1,rp(i,Qa(l,i.current)),On=null;return}}catch(_){if(y!==null)throw On=y,_;ui=1,rp(i,Qa(l,i.current)),On=null;return}a.flags&32768?(kn||h===1?i=!0:lh||(Mn&536870912)!==0?i=!1:(hu=i=!0,(h===2||h===9||h===3||h===6)&&(h=jr.current,h!==null&&h.tag===13&&(h.flags|=16384))),Uv(a,i)):gp(a)}function gp(i){var a=i;do{if((a.flags&32768)!==0){Uv(a,hu);return}i=a.return;var l=ES(a.alternate,a,kl);if(l!==null){On=l;return}if(a=a.sibling,a!==null){On=a;return}On=a=i}while(a!==null);ui===0&&(ui=5)}function Uv(i,a){do{var l=AS(i.alternate,i);if(l!==null){l.flags&=32767,On=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(i=i.sibling,i!==null)){On=i;return}On=i=l}while(i!==null);ui=6,On=null}function Fv(i,a,l,h,y,_,C,Y,pe){i.cancelPendingCommit=null;do yp();while(Hi!==0);if((lr&6)!==0)throw Error(r(327));if(a!==null){if(a===i.current)throw Error(r(177));if(_=a.lanes|a.childLanes,_|=Fc,ka(i,l,_,C,Y,pe),i===kr&&(On=kr=null,Mn=0),ch=a,pu=i,Ol=l,Qg=_,Jg=y,Cv=h,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,PS($t,function(){return Hv(),null})):(i.callbackNode=null,i.callbackPriority=0),h=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||h){h=re.T,re.T=null,y=me.p,me.p=2,C=lr,lr|=4;try{SS(i,a,l)}finally{lr=C,me.p=y,re.T=h}}Hi=1,Vv(),Bv(),zv()}}function Vv(){if(Hi===1){Hi=0;var i=pu,a=ch,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=re.T,re.T=null;var h=me.p;me.p=2;var y=lr;lr|=4;try{_v(a,i);var _=d1,C=oo(i.containerInfo),Y=_.focusedElem,pe=_.selectionRange;if(C!==Y&&Y&&Y.ownerDocument&&so(Y.ownerDocument.documentElement,Y)){if(pe!==null&&Us(Y)){var Pe=pe.start,Ge=pe.end;if(Ge===void 0&&(Ge=Pe),"selectionStart"in Y)Y.selectionStart=Pe,Y.selectionEnd=Math.min(Ge,Y.value.length);else{var We=Y.ownerDocument||document,je=We&&We.defaultView||window;if(je.getSelection){var Ue=je.getSelection(),St=Y.textContent.length,nn=Math.min(pe.start,St),Nr=pe.end===void 0?nn:Math.min(pe.end,St);!Ue.extend&&nn>Nr&&(C=Nr,Nr=nn,nn=C);var Se=Zl(Y,nn),ve=Zl(Y,Nr);if(Se&&ve&&(Ue.rangeCount!==1||Ue.anchorNode!==Se.node||Ue.anchorOffset!==Se.offset||Ue.focusNode!==ve.node||Ue.focusOffset!==ve.offset)){var Oe=We.createRange();Oe.setStart(Se.node,Se.offset),Ue.removeAllRanges(),nn>Nr?(Ue.addRange(Oe),Ue.extend(ve.node,ve.offset)):(Oe.setEnd(ve.node,ve.offset),Ue.addRange(Oe))}}}}for(We=[],Ue=Y;Ue=Ue.parentNode;)Ue.nodeType===1&&We.push({element:Ue,left:Ue.scrollLeft,top:Ue.scrollTop});for(typeof Y.focus=="function"&&Y.focus(),Y=0;Y<We.length;Y++){var Ke=We[Y];Ke.element.scrollLeft=Ke.left,Ke.element.scrollTop=Ke.top}}Rp=!!f1,d1=f1=null}finally{lr=y,me.p=h,re.T=l}}i.current=a,Hi=2}}function Bv(){if(Hi===2){Hi=0;var i=pu,a=ch,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=re.T,re.T=null;var h=me.p;me.p=2;var y=lr;lr|=4;try{mv(i,a.alternate,a)}finally{lr=y,me.p=h,re.T=l}}Hi=3}}function zv(){if(Hi===4||Hi===3){Hi=0,kt();var i=pu,a=ch,l=Ol,h=Cv;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Hi=5:(Hi=0,ch=pu=null,qv(i,i.pendingLanes));var y=i.pendingLanes;if(y===0&&(du=null),qe(l),a=a.stateNode,Et&&typeof Et.onCommitFiberRoot=="function")try{Et.onCommitFiberRoot(fn,a,void 0,(a.current.flags&128)===128)}catch{}if(h!==null){a=re.T,y=me.p,me.p=2,re.T=null;try{for(var _=i.onRecoverableError,C=0;C<h.length;C++){var Y=h[C];_(Y.value,{componentStack:Y.stack})}}finally{re.T=a,me.p=y}}(Ol&3)!==0&&yp(),Yo(i),y=i.pendingLanes,(l&261930)!==0&&(y&42)!==0?i===Zg?Cf++:(Cf=0,Zg=i):Cf=0,Rf(0)}}function qv(i,a){(i.pooledCacheLanes&=a)===0&&(a=i.pooledCache,a!=null&&(i.pooledCache=null,ac(a)))}function yp(){return Vv(),Bv(),zv(),Hv()}function Hv(){if(Hi!==5)return!1;var i=pu,a=Qg;Qg=0;var l=qe(Ol),h=re.T,y=me.p;try{me.p=32>l?32:l,re.T=null,l=Jg,Jg=null;var _=pu,C=Ol;if(Hi=0,ch=pu=null,Ol=0,(lr&6)!==0)throw Error(r(331));var Y=lr;if(lr|=4,xv(_.current),Ev(_,_.current,C,l),lr=Y,Rf(0,!1),Et&&typeof Et.onPostCommitFiberRoot=="function")try{Et.onPostCommitFiberRoot(fn,_)}catch{}return!0}finally{me.p=y,re.T=h,qv(i,a)}}function Gv(i,a,l){a=Qa(l,a),a=Ig(i.stateNode,a,2),i=Sn(i,a,2),i!==null&&(Dt(i,2),Yo(i))}function yr(i,a,l){if(i.tag===3)Gv(i,i,l);else for(;a!==null;){if(a.tag===3){Gv(a,i,l);break}else if(a.tag===1){var h=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(du===null||!du.has(h))){i=Qa(l,i),l=$y(2),h=Sn(a,l,2),h!==null&&(Yy(l,h,a,i),Dt(h,2),Yo(h));break}}a=a.return}}function n1(i,a,l){var h=i.pingCache;if(h===null){h=i.pingCache=new NS;var y=new Set;h.set(a,y)}else y=h.get(a),y===void 0&&(y=new Set,h.set(a,y));y.has(l)||(Kg=!0,y.add(l),i=kS.bind(null,i,a,l),a.then(i,i))}function kS(i,a,l){var h=i.pingCache;h!==null&&h.delete(a),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,kr===i&&(Mn&l)===l&&(ui===4||ui===3&&(Mn&62914560)===Mn&&300>Qt()-hp?(lr&2)===0&&hh(i,0):Wg|=l,uh===Mn&&(uh=0)),Yo(i)}function $v(i,a){a===0&&(a=Li()),i=uo(i,a),i!==null&&(Dt(i,a),Yo(i))}function OS(i){var a=i.memoizedState,l=0;a!==null&&(l=a.retryLane),$v(i,l)}function DS(i,a){var l=0;switch(i.tag){case 31:case 13:var h=i.stateNode,y=i.memoizedState;y!==null&&(l=y.retryLane);break;case 19:h=i.stateNode;break;case 22:h=i.stateNode._retryCache;break;default:throw Error(r(314))}h!==null&&h.delete(a),$v(i,l)}function PS(i,a){return pt(i,a)}var vp=null,dh=null,r1=!1,bp=!1,i1=!1,gu=0;function Yo(i){i!==dh&&i.next===null&&(dh===null?vp=dh=i:dh=dh.next=i),bp=!0,r1||(r1=!0,jS())}function Rf(i,a){if(!i1&&bp){i1=!0;do for(var l=!1,h=vp;h!==null;){if(i!==0){var y=h.pendingLanes;if(y===0)var _=0;else{var C=h.suspendedLanes,Y=h.pingedLanes;_=(1<<31-on(42|i)+1)-1,_&=y&~(C&~Y),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(l=!0,Xv(h,_))}else _=Mn,_=vn(h,h===kr?_:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(_&3)===0||hi(h,_)||(l=!0,Xv(h,_));h=h.next}while(l);i1=!1}}function MS(){Yv()}function Yv(){bp=r1=!1;var i=0;gu!==0&&YS()&&(i=gu);for(var a=Qt(),l=null,h=vp;h!==null;){var y=h.next,_=Kv(h,a);_===0?(h.next=null,l===null?vp=y:l.next=y,y===null&&(dh=l)):(l=h,(i!==0||(_&3)!==0)&&(bp=!0)),h=y}Hi!==0&&Hi!==5||Rf(i),gu!==0&&(gu=0)}function Kv(i,a){for(var l=i.suspendedLanes,h=i.pingedLanes,y=i.expirationTimes,_=i.pendingLanes&-62914561;0<_;){var C=31-on(_),Y=1<<C,pe=y[C];pe===-1?((Y&l)===0||(Y&h)!==0)&&(y[C]=Wr(Y,a)):pe<=a&&(i.expiredLanes|=Y),_&=~Y}if(a=kr,l=Mn,l=vn(i,i===a?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h=i.callbackNode,l===0||i===a&&(gr===2||gr===9)||i.cancelPendingCommit!==null)return h!==null&&h!==null&&ft(h),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||hi(i,l)){if(a=l&-l,a===i.callbackPriority)return a;switch(h!==null&&ft(h),qe(l)){case 2:case 8:l=gn;break;case 32:l=$t;break;case 268435456:l=an;break;default:l=$t}return h=Wv.bind(null,i),l=pt(l,h),i.callbackPriority=a,i.callbackNode=l,a}return h!==null&&h!==null&&ft(h),i.callbackPriority=2,i.callbackNode=null,2}function Wv(i,a){if(Hi!==0&&Hi!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(yp()&&i.callbackNode!==l)return null;var h=Mn;return h=vn(i,i===kr?h:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h===0?null:(Lv(i,h,a),Kv(i,Qt()),i.callbackNode!=null&&i.callbackNode===l?Wv.bind(null,i):null)}function Xv(i,a){if(yp())return null;Lv(i,a,!0)}function jS(){WS(function(){(lr&6)!==0?pt(en,MS):Yv()})}function a1(){if(gu===0){var i=p;i===0&&(i=Ft,Ft<<=1,(Ft&261888)===0&&(Ft=256)),gu=i}return gu}function Qv(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Wi(""+i)}function Jv(i,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,i.id&&l.setAttribute("form",i.id),a.parentNode.insertBefore(l,a),i=new FormData(i),l.parentNode.removeChild(l),i}function US(i,a,l,h,y){if(a==="submit"&&l&&l.stateNode===y){var _=Qv((y[st]||null).action),C=h.submitter;C&&(a=(a=C[st]||null)?Qv(a.formAction):C.getAttribute("formAction"),a!==null&&(_=a,C=null));var Y=new Ai("action","action",null,h,y);i.push({event:Y,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(gu!==0){var pe=C?Jv(y,C):new FormData(y);xg(l,{pending:!0,data:pe,method:y.method,action:_},null,pe)}}else typeof _=="function"&&(Y.preventDefault(),pe=C?Jv(y,C):new FormData(y),xg(l,{pending:!0,data:pe,method:y.method,action:_},_,pe))},currentTarget:y}]})}}for(var s1=0;s1<vl.length;s1++){var o1=vl[s1],FS=o1.toLowerCase(),VS=o1[0].toUpperCase()+o1.slice(1);Wa(FS,"on"+VS)}Wa(yl,"onAnimationEnd"),Wa(Qu,"onAnimationIteration"),Wa(rf,"onAnimationStart"),Wa("dblclick","onDoubleClick"),Wa("focusin","onFocus"),Wa("focusout","onBlur"),Wa(Hd,"onTransitionRun"),Wa(Gd,"onTransitionStart"),Wa($d,"onTransitionCancel"),Wa(af,"onTransitionEnd"),fi("onMouseEnter",["mouseout","mouseover"]),fi("onMouseLeave",["mouseout","mouseover"]),fi("onPointerEnter",["pointerout","pointerover"]),fi("onPointerLeave",["pointerout","pointerover"]),Ei("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ei("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ei("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ei("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ei("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ei("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),BS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Lf));function Zv(i,a){a=(a&4)!==0;for(var l=0;l<i.length;l++){var h=i[l],y=h.event;h=h.listeners;e:{var _=void 0;if(a)for(var C=h.length-1;0<=C;C--){var Y=h[C],pe=Y.instance,Pe=Y.currentTarget;if(Y=Y.listener,pe!==_&&y.isPropagationStopped())break e;_=Y,y.currentTarget=Pe;try{_(y)}catch(Ge){Ju(Ge)}y.currentTarget=null,_=pe}else for(C=0;C<h.length;C++){if(Y=h[C],pe=Y.instance,Pe=Y.currentTarget,Y=Y.listener,pe!==_&&y.isPropagationStopped())break e;_=Y,y.currentTarget=Pe;try{_(y)}catch(Ge){Ju(Ge)}y.currentTarget=null,_=pe}}}}function Dn(i,a){var l=a[Pt];l===void 0&&(l=a[Pt]=new Set);var h=i+"__bubble";l.has(h)||(e5(a,i,2,!1),l.add(h))}function l1(i,a,l){var h=0;a&&(h|=4),e5(l,i,h,a)}var _p="_reactListening"+Math.random().toString(36).slice(2);function u1(i){if(!i[_p]){i[_p]=!0,ki.forEach(function(l){l!=="selectionchange"&&(BS.has(l)||l1(l,!1,i),l1(l,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[_p]||(a[_p]=!0,l1("selectionchange",!1,a))}}function e5(i,a,l,h){switch(R5(a)){case 2:var y=m6;break;case 8:y=g6;break;default:y=S1}l=y.bind(null,a,l,i),y=void 0,!Zs||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(y=!0),h?y!==void 0?i.addEventListener(a,l,{capture:!0,passive:y}):i.addEventListener(a,l,!0):y!==void 0?i.addEventListener(a,l,{passive:y}):i.addEventListener(a,l,!1)}function c1(i,a,l,h,y){var _=h;if((a&1)===0&&(a&2)===0&&h!==null)e:for(;;){if(h===null)return;var C=h.tag;if(C===3||C===4){var Y=h.stateNode.containerInfo;if(Y===y)break;if(C===4)for(C=h.return;C!==null;){var pe=C.tag;if((pe===3||pe===4)&&C.stateNode.containerInfo===y)return;C=C.return}for(;Y!==null;){if(C=Xn(Y),C===null)return;if(pe=C.tag,pe===5||pe===6||pe===26||pe===27){h=_=C;continue e}Y=Y.parentNode}}h=h.return}Ls(function(){var Pe=_,Ge=Xi(l),We=[];e:{var je=sf.get(i);if(je!==void 0){var Ue=Ai,St=i;switch(i){case"keypress":if(sa(l)===0)break e;case"keydown":case"keyup":Ue=Ln;break;case"focusin":St="focus",Ue=ja;break;case"focusout":St="blur",Ue=ja;break;case"beforeblur":case"afterblur":Ue=ja;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ue=ko;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ue=Ya;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ue=x;break;case yl:case Qu:case rf:Ue=E;break;case af:Ue=X;break;case"scroll":case"scrollend":Ue=Is;break;case"wheel":Ue=Me;break;case"copy":case"cut":case"paste":Ue=ae;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ue=hr;break;case"toggle":case"beforetoggle":Ue=hn}var nn=(a&4)!==0,Nr=!nn&&(i==="scroll"||i==="scrollend"),Se=nn?je!==null?je+"Capture":null:je;nn=[];for(var ve=Pe,Oe;ve!==null;){var Ke=ve;if(Oe=Ke.stateNode,Ke=Ke.tag,Ke!==5&&Ke!==26&&Ke!==27||Oe===null||Se===null||(Ke=pi(ve,Se),Ke!=null&&nn.push(If(ve,Ke,Oe))),Nr)break;ve=ve.return}0<nn.length&&(je=new Ue(je,St,null,l,Ge),We.push({event:je,listeners:nn}))}}if((a&7)===0){e:{if(je=i==="mouseover"||i==="pointerover",Ue=i==="mouseout"||i==="pointerout",je&&l!==ds&&(St=l.relatedTarget||l.fromElement)&&(Xn(St)||St[ct]))break e;if((Ue||je)&&(je=Ge.window===Ge?Ge:(je=Ge.ownerDocument)?je.defaultView||je.parentWindow:window,Ue?(St=l.relatedTarget||l.toElement,Ue=Pe,St=St?Xn(St):null,St!==null&&(Nr=o(St),nn=St.tag,St!==Nr||nn!==5&&nn!==27&&nn!==6)&&(St=null)):(Ue=null,St=Pe),Ue!==St)){if(nn=ko,Ke="onMouseLeave",Se="onMouseEnter",ve="mouse",(i==="pointerout"||i==="pointerover")&&(nn=hr,Ke="onPointerLeave",Se="onPointerEnter",ve="pointer"),Nr=Ue==null?je:cr(Ue),Oe=St==null?je:cr(St),je=new nn(Ke,ve+"leave",Ue,l,Ge),je.target=Nr,je.relatedTarget=Oe,Ke=null,Xn(Ge)===Pe&&(nn=new nn(Se,ve+"enter",St,l,Ge),nn.target=Oe,nn.relatedTarget=Nr,Ke=nn),Nr=Ke,Ue&&St)t:{for(nn=zS,Se=Ue,ve=St,Oe=0,Ke=Se;Ke;Ke=nn(Ke))Oe++;Ke=0;for(var Xt=ve;Xt;Xt=nn(Xt))Ke++;for(;0<Oe-Ke;)Se=nn(Se),Oe--;for(;0<Ke-Oe;)ve=nn(ve),Ke--;for(;Oe--;){if(Se===ve||ve!==null&&Se===ve.alternate){nn=Se;break t}Se=nn(Se),ve=nn(ve)}nn=null}else nn=null;Ue!==null&&t5(We,je,Ue,nn,!1),St!==null&&Nr!==null&&t5(We,Nr,St,nn,!0)}}e:{if(je=Pe?cr(Pe):window,Ue=je.nodeName&&je.nodeName.toLowerCase(),Ue==="select"||Ue==="input"&&je.type==="file")var rr=Do;else if(Wu(je))if(ba)rr=Ms;else{rr=Jr;var Mt=Ql}else Ue=je.nodeName,!Ue||Ue.toLowerCase()!=="input"||je.type!=="checkbox"&&je.type!=="radio"?Pe&&Ro(Pe.elementType)&&(rr=Do):rr=Uc;if(rr&&(rr=rr(i,Pe))){Fa(We,rr,l,Ge);break e}Mt&&Mt(i,je,Pe),i==="focusout"&&Pe&&je.type==="number"&&Pe.memoizedProps.value!=null&&cl(je,"number",je.value)}switch(Mt=Pe?cr(Pe):window,i){case"focusin":(Wu(Mt)||Mt.contentEditable==="true")&&(Va=Mt,lo=Pe,Qi=null);break;case"focusout":Qi=lo=Va=null;break;case"mousedown":Ka=!0;break;case"contextmenu":case"mouseup":case"dragend":Ka=!1,Qn(We,l,Ge);break;case"selectionchange":if(gl)break;case"keydown":case"keyup":Qn(We,l,Ge)}var xn;if(Tn)e:{switch(i){case"compositionstart":var jn="onCompositionStart";break e;case"compositionend":jn="onCompositionEnd";break e;case"compositionupdate":jn="onCompositionUpdate";break e}jn=void 0}else Os?Ua(i,l)&&(jn="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(jn="onCompositionStart");jn&&(Mi&&l.locale!=="ko"&&(Os||jn!=="onCompositionStart"?jn==="onCompositionEnd"&&Os&&(xn=pl()):(aa=Ge,eo="value"in aa?aa.value:aa.textContent,Os=!0)),Mt=wp(Pe,jn),0<Mt.length&&(jn=new Ae(jn,i,null,l,Ge),We.push({event:jn,listeners:Mt}),xn?jn.data=xn:(xn=ks(l),xn!==null&&(jn.data=xn)))),(xn=Si?ua(i,l):no(i,l))&&(jn=wp(Pe,"onBeforeInput"),0<jn.length&&(Mt=new Ae("onBeforeInput","beforeinput",null,l,Ge),We.push({event:Mt,listeners:jn}),Mt.data=xn)),US(We,i,Pe,l,Ge)}Zv(We,a)})}function If(i,a,l){return{instance:i,listener:a,currentTarget:l}}function wp(i,a){for(var l=a+"Capture",h=[];i!==null;){var y=i,_=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||_===null||(y=pi(i,l),y!=null&&h.unshift(If(i,y,_)),y=pi(i,a),y!=null&&h.push(If(i,y,_))),i.tag===3)return h;i=i.return}return[]}function zS(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function t5(i,a,l,h,y){for(var _=a._reactName,C=[];l!==null&&l!==h;){var Y=l,pe=Y.alternate,Pe=Y.stateNode;if(Y=Y.tag,pe!==null&&pe===h)break;Y!==5&&Y!==26&&Y!==27||Pe===null||(pe=Pe,y?(Pe=pi(l,_),Pe!=null&&C.unshift(If(l,Pe,pe))):y||(Pe=pi(l,_),Pe!=null&&C.push(If(l,Pe,pe)))),l=l.return}C.length!==0&&i.push({event:a,listeners:C})}var qS=/\r\n?/g,HS=/\u0000|\uFFFD/g;function n5(i){return(typeof i=="string"?i:""+i).replace(qS,`
`).replace(HS,"")}function r5(i,a){return a=n5(a),n5(i)===a}function Tr(i,a,l,h,y,_){switch(l){case"children":typeof h=="string"?a==="body"||a==="textarea"&&h===""||di(i,h):(typeof h=="number"||typeof h=="bigint")&&a!=="body"&&di(i,""+h);break;case"className":Cr(i,"class",h);break;case"tabIndex":Cr(i,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":Cr(i,l,h);break;case"style":dl(i,h,_);break;case"data":if(a!=="object"){Cr(i,"data",h);break}case"src":case"href":if(h===""&&(a!=="a"||l!=="href")){i.removeAttribute(l);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(l);break}h=Wi(""+h),i.setAttribute(l,h);break;case"action":case"formAction":if(typeof h=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(l==="formAction"?(a!=="input"&&Tr(i,a,"name",y.name,y,null),Tr(i,a,"formEncType",y.formEncType,y,null),Tr(i,a,"formMethod",y.formMethod,y,null),Tr(i,a,"formTarget",y.formTarget,y,null)):(Tr(i,a,"encType",y.encType,y,null),Tr(i,a,"method",y.method,y,null),Tr(i,a,"target",y.target,y,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(l);break}h=Wi(""+h),i.setAttribute(l,h);break;case"onClick":h!=null&&(i.onclick=Pa);break;case"onScroll":h!=null&&Dn("scroll",i);break;case"onScrollEnd":h!=null&&Dn("scrollend",i);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(l=h.__html,l!=null){if(y.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"multiple":i.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":i.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){i.removeAttribute("xlink:href");break}l=Wi(""+h),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,""+h):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":h===!0?i.setAttribute(l,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(l,h):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?i.setAttribute(l,h):i.removeAttribute(l);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?i.removeAttribute(l):i.setAttribute(l,h);break;case"popover":Dn("beforetoggle",i),Dn("toggle",i),Gn(i,"popover",h);break;case"xlinkActuate":er(i,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":er(i,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":er(i,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":er(i,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":er(i,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":er(i,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":er(i,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":er(i,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":er(i,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":Gn(i,"is",h);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Lo.get(l)||l,Gn(i,l,h))}}function h1(i,a,l,h,y,_){switch(l){case"style":dl(i,h,_);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(l=h.__html,l!=null){if(y.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"children":typeof h=="string"?di(i,h):(typeof h=="number"||typeof h=="bigint")&&di(i,""+h);break;case"onScroll":h!=null&&Dn("scroll",i);break;case"onScrollEnd":h!=null&&Dn("scrollend",i);break;case"onClick":h!=null&&(i.onclick=Pa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!dr.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(y=l.endsWith("Capture"),a=l.slice(2,y?l.length-7:void 0),_=i[st]||null,_=_!=null?_[l]:null,typeof _=="function"&&i.removeEventListener(a,_,y),typeof h=="function")){typeof _!="function"&&_!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(a,h,y);break e}l in i?i[l]=h:h===!0?i.setAttribute(l,""):Gn(i,l,h)}}}function pa(i,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Dn("error",i),Dn("load",i);var h=!1,y=!1,_;for(_ in l)if(l.hasOwnProperty(_)){var C=l[_];if(C!=null)switch(_){case"src":h=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:Tr(i,a,_,C,l,null)}}y&&Tr(i,a,"srcSet",l.srcSet,l,null),h&&Tr(i,a,"src",l.src,l,null);return;case"input":Dn("invalid",i);var Y=_=C=y=null,pe=null,Pe=null;for(h in l)if(l.hasOwnProperty(h)){var Ge=l[h];if(Ge!=null)switch(h){case"name":y=Ge;break;case"type":C=Ge;break;case"checked":pe=Ge;break;case"defaultChecked":Pe=Ge;break;case"value":_=Ge;break;case"defaultValue":Y=Ge;break;case"children":case"dangerouslySetInnerHTML":if(Ge!=null)throw Error(r(137,a));break;default:Tr(i,a,h,Ge,l,null)}}Kl(i,_,Y,pe,Pe,C,y,!1);return;case"select":Dn("invalid",i),h=C=_=null;for(y in l)if(l.hasOwnProperty(y)&&(Y=l[y],Y!=null))switch(y){case"value":_=Y;break;case"defaultValue":C=Y;break;case"multiple":h=Y;default:Tr(i,a,y,Y,l,null)}a=_,l=C,i.multiple=!!h,a!=null?Pi(i,!!h,a,!1):l!=null&&Pi(i,!!h,l,!0);return;case"textarea":Dn("invalid",i),_=y=h=null;for(C in l)if(l.hasOwnProperty(C)&&(Y=l[C],Y!=null))switch(C){case"value":h=Y;break;case"defaultValue":y=Y;break;case"children":_=Y;break;case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(91));break;default:Tr(i,a,C,Y,l,null)}hs(i,h,y,_);return;case"option":for(pe in l)if(l.hasOwnProperty(pe)&&(h=l[pe],h!=null))switch(pe){case"selected":i.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:Tr(i,a,pe,h,l,null)}return;case"dialog":Dn("beforetoggle",i),Dn("toggle",i),Dn("cancel",i),Dn("close",i);break;case"iframe":case"object":Dn("load",i);break;case"video":case"audio":for(h=0;h<Lf.length;h++)Dn(Lf[h],i);break;case"image":Dn("error",i),Dn("load",i);break;case"details":Dn("toggle",i);break;case"embed":case"source":case"link":Dn("error",i),Dn("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Pe in l)if(l.hasOwnProperty(Pe)&&(h=l[Pe],h!=null))switch(Pe){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:Tr(i,a,Pe,h,l,null)}return;default:if(Ro(a)){for(Ge in l)l.hasOwnProperty(Ge)&&(h=l[Ge],h!==void 0&&h1(i,a,Ge,h,l,void 0));return}}for(Y in l)l.hasOwnProperty(Y)&&(h=l[Y],h!=null&&Tr(i,a,Y,h,l,null))}function GS(i,a,l,h){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,_=null,C=null,Y=null,pe=null,Pe=null,Ge=null;for(Ue in l){var We=l[Ue];if(l.hasOwnProperty(Ue)&&We!=null)switch(Ue){case"checked":break;case"value":break;case"defaultValue":pe=We;default:h.hasOwnProperty(Ue)||Tr(i,a,Ue,null,h,We)}}for(var je in h){var Ue=h[je];if(We=l[je],h.hasOwnProperty(je)&&(Ue!=null||We!=null))switch(je){case"type":_=Ue;break;case"name":y=Ue;break;case"checked":Pe=Ue;break;case"defaultChecked":Ge=Ue;break;case"value":C=Ue;break;case"defaultValue":Y=Ue;break;case"children":case"dangerouslySetInnerHTML":if(Ue!=null)throw Error(r(137,a));break;default:Ue!==We&&Tr(i,a,je,Ue,h,We)}}Qs(i,C,Y,pe,Pe,Ge,_,y);return;case"select":Ue=C=Y=je=null;for(_ in l)if(pe=l[_],l.hasOwnProperty(_)&&pe!=null)switch(_){case"value":break;case"multiple":Ue=pe;default:h.hasOwnProperty(_)||Tr(i,a,_,null,h,pe)}for(y in h)if(_=h[y],pe=l[y],h.hasOwnProperty(y)&&(_!=null||pe!=null))switch(y){case"value":je=_;break;case"defaultValue":Y=_;break;case"multiple":C=_;default:_!==pe&&Tr(i,a,y,_,h,pe)}a=Y,l=C,h=Ue,je!=null?Pi(i,!!l,je,!1):!!h!=!!l&&(a!=null?Pi(i,!!l,a,!0):Pi(i,!!l,l?[]:"",!1));return;case"textarea":Ue=je=null;for(Y in l)if(y=l[Y],l.hasOwnProperty(Y)&&y!=null&&!h.hasOwnProperty(Y))switch(Y){case"value":break;case"children":break;default:Tr(i,a,Y,null,h,y)}for(C in h)if(y=h[C],_=l[C],h.hasOwnProperty(C)&&(y!=null||_!=null))switch(C){case"value":je=y;break;case"defaultValue":Ue=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:y!==_&&Tr(i,a,C,y,h,_)}hl(i,je,Ue);return;case"option":for(var St in l)if(je=l[St],l.hasOwnProperty(St)&&je!=null&&!h.hasOwnProperty(St))switch(St){case"selected":i.selected=!1;break;default:Tr(i,a,St,null,h,je)}for(pe in h)if(je=h[pe],Ue=l[pe],h.hasOwnProperty(pe)&&je!==Ue&&(je!=null||Ue!=null))switch(pe){case"selected":i.selected=je&&typeof je!="function"&&typeof je!="symbol";break;default:Tr(i,a,pe,je,h,Ue)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var nn in l)je=l[nn],l.hasOwnProperty(nn)&&je!=null&&!h.hasOwnProperty(nn)&&Tr(i,a,nn,null,h,je);for(Pe in h)if(je=h[Pe],Ue=l[Pe],h.hasOwnProperty(Pe)&&je!==Ue&&(je!=null||Ue!=null))switch(Pe){case"children":case"dangerouslySetInnerHTML":if(je!=null)throw Error(r(137,a));break;default:Tr(i,a,Pe,je,h,Ue)}return;default:if(Ro(a)){for(var Nr in l)je=l[Nr],l.hasOwnProperty(Nr)&&je!==void 0&&!h.hasOwnProperty(Nr)&&h1(i,a,Nr,void 0,h,je);for(Ge in h)je=h[Ge],Ue=l[Ge],!h.hasOwnProperty(Ge)||je===Ue||je===void 0&&Ue===void 0||h1(i,a,Ge,je,h,Ue);return}}for(var Se in l)je=l[Se],l.hasOwnProperty(Se)&&je!=null&&!h.hasOwnProperty(Se)&&Tr(i,a,Se,null,h,je);for(We in h)je=h[We],Ue=l[We],!h.hasOwnProperty(We)||je===Ue||je==null&&Ue==null||Tr(i,a,We,je,h,Ue)}function i5(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function $S(){if(typeof performance.getEntriesByType=="function"){for(var i=0,a=0,l=performance.getEntriesByType("resource"),h=0;h<l.length;h++){var y=l[h],_=y.transferSize,C=y.initiatorType,Y=y.duration;if(_&&Y&&i5(C)){for(C=0,Y=y.responseEnd,h+=1;h<l.length;h++){var pe=l[h],Pe=pe.startTime;if(Pe>Y)break;var Ge=pe.transferSize,We=pe.initiatorType;Ge&&i5(We)&&(pe=pe.responseEnd,C+=Ge*(pe<Y?1:(Y-Pe)/(pe-Pe)))}if(--h,a+=8*(_+C)/(y.duration/1e3),i++,10<i)break}}if(0<i)return a/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var f1=null,d1=null;function Ep(i){return i.nodeType===9?i:i.ownerDocument}function a5(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function s5(i,a){if(i===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&a==="foreignObject"?0:i}function p1(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var m1=null;function YS(){var i=window.event;return i&&i.type==="popstate"?i===m1?!1:(m1=i,!0):(m1=null,!1)}var o5=typeof setTimeout=="function"?setTimeout:void 0,KS=typeof clearTimeout=="function"?clearTimeout:void 0,l5=typeof Promise=="function"?Promise:void 0,WS=typeof queueMicrotask=="function"?queueMicrotask:typeof l5<"u"?function(i){return l5.resolve(null).then(i).catch(XS)}:o5;function XS(i){setTimeout(function(){throw i})}function yu(i){return i==="head"}function u5(i,a){var l=a,h=0;do{var y=l.nextSibling;if(i.removeChild(l),y&&y.nodeType===8)if(l=y.data,l==="/$"||l==="/&"){if(h===0){i.removeChild(y),yh(a);return}h--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")h++;else if(l==="html")kf(i.ownerDocument.documentElement);else if(l==="head"){l=i.ownerDocument.head,kf(l);for(var _=l.firstChild;_;){var C=_.nextSibling,Y=_.nodeName;_[Pn]||Y==="SCRIPT"||Y==="STYLE"||Y==="LINK"&&_.rel.toLowerCase()==="stylesheet"||l.removeChild(_),_=C}}else l==="body"&&kf(i.ownerDocument.body);l=y}while(l);yh(a)}function c5(i,a){var l=i;i=0;do{var h=l.nextSibling;if(l.nodeType===1?a?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(a?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),h&&h.nodeType===8)if(l=h.data,l==="/$"){if(i===0)break;i--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||i++;l=h}while(l)}function g1(i){var a=i.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":g1(l),Zn(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function QS(i,a,l,h){for(;i.nodeType===1;){var y=l;if(i.nodeName.toLowerCase()!==a.toLowerCase()){if(!h&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(h){if(!i[Pn])switch(a){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(_=i.getAttribute("rel"),_==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(_!==y.rel||i.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||i.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||i.getAttribute("title")!==(y.title==null?null:y.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(_=i.getAttribute("src"),(_!==(y.src==null?null:y.src)||i.getAttribute("type")!==(y.type==null?null:y.type)||i.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&_&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(a==="input"&&i.type==="hidden"){var _=y.name==null?null:""+y.name;if(y.type==="hidden"&&i.getAttribute("name")===_)return i}else return i;if(i=qs(i.nextSibling),i===null)break}return null}function JS(i,a,l){if(a==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=qs(i.nextSibling),i===null))return null;return i}function h5(i,a){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!a||(i=qs(i.nextSibling),i===null))return null;return i}function y1(i){return i.data==="$?"||i.data==="$~"}function v1(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function ZS(i,a){var l=i.ownerDocument;if(i.data==="$~")i._reactRetry=a;else if(i.data!=="$?"||l.readyState!=="loading")a();else{var h=function(){a(),l.removeEventListener("DOMContentLoaded",h)};l.addEventListener("DOMContentLoaded",h),i._reactRetry=h}}function qs(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return i}var b1=null;function f5(i){i=i.nextSibling;for(var a=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"||l==="/&"){if(a===0)return qs(i.nextSibling);a--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||a++}i=i.nextSibling}return null}function d5(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(a===0)return i;a--}else l!=="/$"&&l!=="/&"||a++}i=i.previousSibling}return null}function p5(i,a,l){switch(a=Ep(l),i){case"html":if(i=a.documentElement,!i)throw Error(r(452));return i;case"head":if(i=a.head,!i)throw Error(r(453));return i;case"body":if(i=a.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function kf(i){for(var a=i.attributes;a.length;)i.removeAttributeNode(a[0]);Zn(i)}var Hs=new Map,m5=new Set;function Ap(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Dl=me.d;me.d={f:e6,r:t6,D:n6,C:r6,L:i6,m:a6,X:o6,S:s6,M:l6};function e6(){var i=Dl.f(),a=pp();return i||a}function t6(i){var a=cn(i);a!==null&&a.tag===5&&a.type==="form"?ky(a):Dl.r(i)}var ph=typeof document>"u"?null:document;function g5(i,a,l){var h=ph;if(h&&typeof a=="string"&&a){var y=qr(a);y='link[rel="'+i+'"][href="'+y+'"]',typeof l=="string"&&(y+='[crossorigin="'+l+'"]'),m5.has(y)||(m5.add(y),i={rel:i,crossOrigin:l,href:a},h.querySelector(y)===null&&(a=h.createElement("link"),pa(a,"link",i),ar(a),h.head.appendChild(a)))}}function n6(i){Dl.D(i),g5("dns-prefetch",i,null)}function r6(i,a){Dl.C(i,a),g5("preconnect",i,a)}function i6(i,a,l){Dl.L(i,a,l);var h=ph;if(h&&i&&a){var y='link[rel="preload"][as="'+qr(a)+'"]';a==="image"&&l&&l.imageSrcSet?(y+='[imagesrcset="'+qr(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(y+='[imagesizes="'+qr(l.imageSizes)+'"]')):y+='[href="'+qr(i)+'"]';var _=y;switch(a){case"style":_=mh(i);break;case"script":_=gh(i)}Hs.has(_)||(i=w({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:i,as:a},l),Hs.set(_,i),h.querySelector(y)!==null||a==="style"&&h.querySelector(Of(_))||a==="script"&&h.querySelector(Df(_))||(a=h.createElement("link"),pa(a,"link",i),ar(a),h.head.appendChild(a)))}}function a6(i,a){Dl.m(i,a);var l=ph;if(l&&i){var h=a&&typeof a.as=="string"?a.as:"script",y='link[rel="modulepreload"][as="'+qr(h)+'"][href="'+qr(i)+'"]',_=y;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=gh(i)}if(!Hs.has(_)&&(i=w({rel:"modulepreload",href:i},a),Hs.set(_,i),l.querySelector(y)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Df(_)))return}h=l.createElement("link"),pa(h,"link",i),ar(h),l.head.appendChild(h)}}}function s6(i,a,l){Dl.S(i,a,l);var h=ph;if(h&&i){var y=zr(h).hoistableStyles,_=mh(i);a=a||"default";var C=y.get(_);if(!C){var Y={loading:0,preload:null};if(C=h.querySelector(Of(_)))Y.loading=5;else{i=w({rel:"stylesheet",href:i,"data-precedence":a},l),(l=Hs.get(_))&&_1(i,l);var pe=C=h.createElement("link");ar(pe),pa(pe,"link",i),pe._p=new Promise(function(Pe,Ge){pe.onload=Pe,pe.onerror=Ge}),pe.addEventListener("load",function(){Y.loading|=1}),pe.addEventListener("error",function(){Y.loading|=2}),Y.loading|=4,Sp(C,a,h)}C={type:"stylesheet",instance:C,count:1,state:Y},y.set(_,C)}}}function o6(i,a){Dl.X(i,a);var l=ph;if(l&&i){var h=zr(l).hoistableScripts,y=gh(i),_=h.get(y);_||(_=l.querySelector(Df(y)),_||(i=w({src:i,async:!0},a),(a=Hs.get(y))&&w1(i,a),_=l.createElement("script"),ar(_),pa(_,"link",i),l.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},h.set(y,_))}}function l6(i,a){Dl.M(i,a);var l=ph;if(l&&i){var h=zr(l).hoistableScripts,y=gh(i),_=h.get(y);_||(_=l.querySelector(Df(y)),_||(i=w({src:i,async:!0,type:"module"},a),(a=Hs.get(y))&&w1(i,a),_=l.createElement("script"),ar(_),pa(_,"link",i),l.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},h.set(y,_))}}function y5(i,a,l,h){var y=(y=he.current)?Ap(y):null;if(!y)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=mh(l.href),l=zr(y).hoistableStyles,h=l.get(a),h||(h={type:"style",instance:null,count:0,state:null},l.set(a,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=mh(l.href);var _=zr(y).hoistableStyles,C=_.get(i);if(C||(y=y.ownerDocument||y,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(i,C),(_=y.querySelector(Of(i)))&&!_._p&&(C.instance=_,C.state.loading=5),Hs.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Hs.set(i,l),_||u6(y,i,l,C.state))),a&&h===null)throw Error(r(528,""));return C}if(a&&h!==null)throw Error(r(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=gh(l),l=zr(y).hoistableScripts,h=l.get(a),h||(h={type:"script",instance:null,count:0,state:null},l.set(a,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function mh(i){return'href="'+qr(i)+'"'}function Of(i){return'link[rel="stylesheet"]['+i+"]"}function v5(i){return w({},i,{"data-precedence":i.precedence,precedence:null})}function u6(i,a,l,h){i.querySelector('link[rel="preload"][as="style"]['+a+"]")?h.loading=1:(a=i.createElement("link"),h.preload=a,a.addEventListener("load",function(){return h.loading|=1}),a.addEventListener("error",function(){return h.loading|=2}),pa(a,"link",l),ar(a),i.head.appendChild(a))}function gh(i){return'[src="'+qr(i)+'"]'}function Df(i){return"script[async]"+i}function b5(i,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var h=i.querySelector('style[data-href~="'+qr(l.href)+'"]');if(h)return a.instance=h,ar(h),h;var y=w({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return h=(i.ownerDocument||i).createElement("style"),ar(h),pa(h,"style",y),Sp(h,l.precedence,i),a.instance=h;case"stylesheet":y=mh(l.href);var _=i.querySelector(Of(y));if(_)return a.state.loading|=4,a.instance=_,ar(_),_;h=v5(l),(y=Hs.get(y))&&_1(h,y),_=(i.ownerDocument||i).createElement("link"),ar(_);var C=_;return C._p=new Promise(function(Y,pe){C.onload=Y,C.onerror=pe}),pa(_,"link",h),a.state.loading|=4,Sp(_,l.precedence,i),a.instance=_;case"script":return _=gh(l.src),(y=i.querySelector(Df(_)))?(a.instance=y,ar(y),y):(h=l,(y=Hs.get(_))&&(h=w({},l),w1(h,y)),i=i.ownerDocument||i,y=i.createElement("script"),ar(y),pa(y,"link",h),i.head.appendChild(y),a.instance=y);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(h=a.instance,a.state.loading|=4,Sp(h,l.precedence,i));return a.instance}function Sp(i,a,l){for(var h=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=h.length?h[h.length-1]:null,_=y,C=0;C<h.length;C++){var Y=h[C];if(Y.dataset.precedence===a)_=Y;else if(_!==y)break}_?_.parentNode.insertBefore(i,_.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(i,a.firstChild))}function _1(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.title==null&&(i.title=a.title)}function w1(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.integrity==null&&(i.integrity=a.integrity)}var xp=null;function _5(i,a,l){if(xp===null){var h=new Map,y=xp=new Map;y.set(l,h)}else y=xp,h=y.get(l),h||(h=new Map,y.set(l,h));if(h.has(i))return h;for(h.set(i,null),l=l.getElementsByTagName(i),y=0;y<l.length;y++){var _=l[y];if(!(_[Pn]||_[rt]||i==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var C=_.getAttribute(a)||"";C=i+C;var Y=h.get(C);Y?Y.push(_):h.set(C,[_])}}return h}function w5(i,a,l){i=i.ownerDocument||i,i.head.insertBefore(l,a==="title"?i.querySelector("head > title"):null)}function c6(i,a,l){if(l===1||a.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return i=a.disabled,typeof a.precedence=="string"&&i==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function E5(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function h6(i,a,l,h){if(l.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var y=mh(h.href),_=a.querySelector(Of(y));if(_){a=_._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(i.count++,i=Tp.bind(i),a.then(i,i)),l.state.loading|=4,l.instance=_,ar(_);return}_=a.ownerDocument||a,h=v5(h),(y=Hs.get(y))&&_1(h,y),_=_.createElement("link"),ar(_);var C=_;C._p=new Promise(function(Y,pe){C.onload=Y,C.onerror=pe}),pa(_,"link",h),l.instance=_}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(l,a),(a=l.state.preload)&&(l.state.loading&3)===0&&(i.count++,l=Tp.bind(i),a.addEventListener("load",l),a.addEventListener("error",l))}}var E1=0;function f6(i,a){return i.stylesheets&&i.count===0&&Cp(i,i.stylesheets),0<i.count||0<i.imgCount?function(l){var h=setTimeout(function(){if(i.stylesheets&&Cp(i,i.stylesheets),i.unsuspend){var _=i.unsuspend;i.unsuspend=null,_()}},6e4+a);0<i.imgBytes&&E1===0&&(E1=62500*$S());var y=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Cp(i,i.stylesheets),i.unsuspend)){var _=i.unsuspend;i.unsuspend=null,_()}},(i.imgBytes>E1?50:800)+a);return i.unsuspend=l,function(){i.unsuspend=null,clearTimeout(h),clearTimeout(y)}}:null}function Tp(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Cp(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Np=null;function Cp(i,a){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Np=new Map,a.forEach(d6,i),Np=null,Tp.call(i))}function d6(i,a){if(!(a.state.loading&4)){var l=Np.get(i);if(l)var h=l.get(null);else{l=new Map,Np.set(i,l);for(var y=i.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<y.length;_++){var C=y[_];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(l.set(C.dataset.precedence,C),h=C)}h&&l.set(null,h)}y=a.instance,C=y.getAttribute("data-precedence"),_=l.get(C)||h,_===h&&l.set(null,y),l.set(C,y),this.count++,h=Tp.bind(this),y.addEventListener("load",h),y.addEventListener("error",h),_?_.parentNode.insertBefore(y,_.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(y,i.firstChild)),a.state.loading|=4}}var Pf={$$typeof:ee,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function p6(i,a,l,h,y,_,C,Y,pe){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Dr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dr(0),this.hiddenUpdates=Dr(null),this.identifierPrefix=h,this.onUncaughtError=y,this.onCaughtError=_,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=pe,this.incompleteTransitions=new Map}function A5(i,a,l,h,y,_,C,Y,pe,Pe,Ge,We){return i=new p6(i,a,l,C,pe,Pe,Ge,We,Y),a=1,_===!0&&(a|=24),_=Zi(3,null,null,a),i.current=_,_.stateNode=i,a=au(),a.refCount++,i.pooledCache=a,a.refCount++,_.memoizedState={element:h,isDehydrated:l,cache:a},ut(_),i}function S5(i){return i?(i=Fi,i):Fi}function x5(i,a,l,h,y,_){y=S5(y),h.context===null?h.context=y:h.pendingContext=y,h=tn(a),h.payload={element:l},_=_===void 0?null:_,_!==null&&(h.callback=_),l=Sn(i,h,a),l!==null&&(ls(l,i,a),sr(l,i,a))}function T5(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<a?l:a}}function A1(i,a){T5(i,a),(i=i.alternate)&&T5(i,a)}function N5(i){if(i.tag===13||i.tag===31){var a=uo(i,67108864);a!==null&&ls(a,i,67108864),A1(i,67108864)}}function C5(i){if(i.tag===13||i.tag===31){var a=ws();a=Te(a);var l=uo(i,a);l!==null&&ls(l,i,a),A1(i,a)}}var Rp=!0;function m6(i,a,l,h){var y=re.T;re.T=null;var _=me.p;try{me.p=2,S1(i,a,l,h)}finally{me.p=_,re.T=y}}function g6(i,a,l,h){var y=re.T;re.T=null;var _=me.p;try{me.p=8,S1(i,a,l,h)}finally{me.p=_,re.T=y}}function S1(i,a,l,h){if(Rp){var y=x1(h);if(y===null)c1(i,a,h,Lp,l),L5(i,h);else if(v6(y,i,a,l,h))h.stopPropagation();else if(L5(i,h),a&4&&-1<y6.indexOf(i)){for(;y!==null;){var _=cn(y);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var C=Lt(_.pendingLanes);if(C!==0){var Y=_;for(Y.pendingLanes|=2,Y.entangledLanes|=2;C;){var pe=1<<31-on(C);Y.entanglements[1]|=pe,C&=~pe}Yo(_),(lr&6)===0&&(fp=Qt()+500,Rf(0))}}break;case 31:case 13:Y=uo(_,2),Y!==null&&ls(Y,_,2),pp(),A1(_,2)}if(_=x1(h),_===null&&c1(i,a,h,Lp,l),_===y)break;y=_}y!==null&&h.stopPropagation()}else c1(i,a,h,null,l)}}function x1(i){return i=Xi(i),T1(i)}var Lp=null;function T1(i){if(Lp=null,i=Xn(i),i!==null){var a=o(i);if(a===null)i=null;else{var l=a.tag;if(l===13){if(i=u(a),i!==null)return i;i=null}else if(l===31){if(i=c(a),i!==null)return i;i=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Lp=i,null}function R5(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(rn()){case en:return 2;case gn:return 8;case $t:case mt:return 32;case an:return 268435456;default:return 32}default:return 32}}var N1=!1,vu=null,bu=null,_u=null,Mf=new Map,jf=new Map,wu=[],y6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function L5(i,a){switch(i){case"focusin":case"focusout":vu=null;break;case"dragenter":case"dragleave":bu=null;break;case"mouseover":case"mouseout":_u=null;break;case"pointerover":case"pointerout":Mf.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":jf.delete(a.pointerId)}}function Uf(i,a,l,h,y,_){return i===null||i.nativeEvent!==_?(i={blockedOn:a,domEventName:l,eventSystemFlags:h,nativeEvent:_,targetContainers:[y]},a!==null&&(a=cn(a),a!==null&&N5(a)),i):(i.eventSystemFlags|=h,a=i.targetContainers,y!==null&&a.indexOf(y)===-1&&a.push(y),i)}function v6(i,a,l,h,y){switch(a){case"focusin":return vu=Uf(vu,i,a,l,h,y),!0;case"dragenter":return bu=Uf(bu,i,a,l,h,y),!0;case"mouseover":return _u=Uf(_u,i,a,l,h,y),!0;case"pointerover":var _=y.pointerId;return Mf.set(_,Uf(Mf.get(_)||null,i,a,l,h,y)),!0;case"gotpointercapture":return _=y.pointerId,jf.set(_,Uf(jf.get(_)||null,i,a,l,h,y)),!0}return!1}function I5(i){var a=Xn(i.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=u(l),a!==null){i.blockedOn=a,ht(i.priority,function(){C5(l)});return}}else if(a===31){if(a=c(l),a!==null){i.blockedOn=a,ht(i.priority,function(){C5(l)});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Ip(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var l=x1(i.nativeEvent);if(l===null){l=i.nativeEvent;var h=new l.constructor(l.type,l);ds=h,l.target.dispatchEvent(h),ds=null}else return a=cn(l),a!==null&&N5(a),i.blockedOn=l,!1;a.shift()}return!0}function k5(i,a,l){Ip(i)&&l.delete(a)}function b6(){N1=!1,vu!==null&&Ip(vu)&&(vu=null),bu!==null&&Ip(bu)&&(bu=null),_u!==null&&Ip(_u)&&(_u=null),Mf.forEach(k5),jf.forEach(k5)}function kp(i,a){i.blockedOn===a&&(i.blockedOn=null,N1||(N1=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,b6)))}var Op=null;function O5(i){Op!==i&&(Op=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Op===i&&(Op=null);for(var a=0;a<i.length;a+=3){var l=i[a],h=i[a+1],y=i[a+2];if(typeof h!="function"){if(T1(h||l)===null)continue;break}var _=cn(l);_!==null&&(i.splice(a,3),a-=3,xg(_,{pending:!0,data:y,method:l.method,action:h},h,y))}}))}function yh(i){function a(pe){return kp(pe,i)}vu!==null&&kp(vu,i),bu!==null&&kp(bu,i),_u!==null&&kp(_u,i),Mf.forEach(a),jf.forEach(a);for(var l=0;l<wu.length;l++){var h=wu[l];h.blockedOn===i&&(h.blockedOn=null)}for(;0<wu.length&&(l=wu[0],l.blockedOn===null);)I5(l),l.blockedOn===null&&wu.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(h=0;h<l.length;h+=3){var y=l[h],_=l[h+1],C=y[st]||null;if(typeof _=="function")C||O5(l);else if(C){var Y=null;if(_&&_.hasAttribute("formAction")){if(y=_,C=_[st]||null)Y=C.formAction;else if(T1(y)!==null)continue}else Y=C.action;typeof Y=="function"?l[h+1]=Y:(l.splice(h,3),h-=3),O5(l)}}}function D5(){function i(_){_.canIntercept&&_.info==="react-transition"&&_.intercept({handler:function(){return new Promise(function(C){return y=C})},focusReset:"manual",scroll:"manual"})}function a(){y!==null&&(y(),y=null),h||setTimeout(l,20)}function l(){if(!h&&!navigation.transition){var _=navigation.currentEntry;_&&_.url!=null&&navigation.navigate(_.url,{state:_.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,y=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(l,100),function(){h=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),y!==null&&(y(),y=null)}}}function C1(i){this._internalRoot=i}Dp.prototype.render=C1.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(r(409));var l=a.current,h=ws();x5(l,h,i,a,null,null)},Dp.prototype.unmount=C1.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;x5(i.current,2,null,i,null,null),pp(),a[ct]=null}};function Dp(i){this._internalRoot=i}Dp.prototype.unstable_scheduleHydration=function(i){if(i){var a=Ze();i={blockedOn:null,target:i,priority:a};for(var l=0;l<wu.length&&a!==0&&a<wu[l].priority;l++);wu.splice(l,0,i),l===0&&I5(i)}};var P5=e.version;if(P5!=="19.2.4")throw Error(r(527,P5,"19.2.4"));me.findDOMNode=function(i){var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=d(a),i=i!==null?g(i):null,i=i===null?null:i.stateNode,i};var _6={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:re,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pp.isDisabled&&Pp.supportsFiber)try{fn=Pp.inject(_6),Et=Pp}catch{}}return Vf.createRoot=function(i,a){if(!s(i))throw Error(r(299));var l=!1,h="",y=zy,_=qy,C=Hy;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(y=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(C=a.onRecoverableError)),a=A5(i,1,!1,null,null,l,h,null,y,_,C,D5),i[ct]=a.current,u1(i),new C1(a)},Vf.hydrateRoot=function(i,a,l){if(!s(i))throw Error(r(299));var h=!1,y="",_=zy,C=qy,Y=Hy,pe=null;return l!=null&&(l.unstable_strictMode===!0&&(h=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onUncaughtError!==void 0&&(_=l.onUncaughtError),l.onCaughtError!==void 0&&(C=l.onCaughtError),l.onRecoverableError!==void 0&&(Y=l.onRecoverableError),l.formState!==void 0&&(pe=l.formState)),a=A5(i,1,!0,a,l??null,h,y,pe,_,C,Y,D5),a.context=S5(null),l=a.current,h=ws(),h=Te(h),y=tn(h),y.callback=null,Sn(l,y,h),l=h,a.current.lanes=l,Dt(a,l),Yo(a),i[ct]=a.current,u1(i),new Dp(a)},Vf.version="19.2.4",Vf}var G5;function P6(){if(G5)return I1.exports;G5=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),I1.exports=D6(),I1.exports}var M6=P6();/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var c4=n=>{throw TypeError(n)},j6=(n,e,t)=>e.has(n)||c4("Cannot "+t),P1=(n,e,t)=>(j6(n,e,"read from private field"),t?t.call(n):e.get(n)),U6=(n,e,t)=>e.has(n)?c4("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),$5="popstate";function F6(n={}){function e(r,s){let{pathname:o,search:u,hash:c}=r.location;return fd("",{pathname:o,search:u,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){return typeof s=="string"?s:al(s)}return B6(e,t,null,n)}function Cn(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function wi(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function V6(){return Math.random().toString(36).substring(2,10)}function Y5(n,e){return{usr:n.state,key:n.key,idx:e}}function fd(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Ku(e):e,state:t,key:e&&e.key||r||V6()}}function al({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Ku(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function B6(n,e,t,r={}){let{window:s=document.defaultView,v5Compat:o=!1}=r,u=s.history,c="POP",f=null,d=g();d==null&&(d=0,u.replaceState({...u.state,idx:d},""));function g(){return(u.state||{idx:null}).idx}function w(){c="POP";let U=g(),F=U==null?null:U-d;d=U,f&&f({action:c,location:P.location,delta:F})}function A(U,F){c="PUSH";let $=fd(P.location,U,F);d=g()+1;let ee=Y5($,d),te=P.createHref($);try{u.pushState(ee,"",te)}catch(ce){if(ce instanceof DOMException&&ce.name==="DataCloneError")throw ce;s.location.assign(te)}o&&f&&f({action:c,location:P.location,delta:1})}function b(U,F){c="REPLACE";let $=fd(P.location,U,F);d=g();let ee=Y5($,d),te=P.createHref($);u.replaceState(ee,"",te),o&&f&&f({action:c,location:P.location,delta:0})}function M(U){return h4(U)}let P={get action(){return c},get location(){return n(s,u)},listen(U){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener($5,w),f=U,()=>{s.removeEventListener($5,w),f=null}},createHref(U){return e(s,U)},createURL:M,encodeLocation(U){let F=M(U);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:A,replace:b,go(U){return u.go(U)}};return P}function h4(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Cn(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:al(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}var Kf,K5=class{constructor(n){if(U6(this,Kf,new Map),n)for(let[e,t]of n)this.set(e,t)}get(n){if(P1(this,Kf).has(n))return P1(this,Kf).get(n);if(n.defaultValue!==void 0)return n.defaultValue;throw new Error("No value found for context")}set(n,e){P1(this,Kf).set(n,e)}};Kf=new WeakMap;var z6=new Set(["lazy","caseSensitive","path","id","index","children"]);function q6(n){return z6.has(n)}var H6=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function G6(n){return H6.has(n)}function $6(n){return n.index===!0}function dd(n,e,t=[],r={},s=!1){return n.map((o,u)=>{let c=[...t,String(u)],f=typeof o.id=="string"?o.id:c.join("-");if(Cn(o.index!==!0||!o.children,"Cannot specify children on an index route"),Cn(s||!r[f],`Found a route id collision on id "${f}".  Route id's must be globally unique within Data Router usages`),$6(o)){let d={...o,id:f};return r[f]=W5(d,e(d)),d}else{let d={...o,id:f,children:void 0};return r[f]=W5(d,e(d)),o.children&&(d.children=dd(o.children,e,c,r,s)),d}})}function W5(n,e){return Object.assign(n,{...e,...typeof e.lazy=="object"&&e.lazy!=null?{lazy:{...n.lazy,...e.lazy}}:{}})}function Tu(n,e,t="/"){return Wf(n,e,t,!1)}function Wf(n,e,t,r){let s=typeof e=="string"?Ku(e):e,o=Ks(s.pathname||"/",t);if(o==null)return null;let u=f4(n);K6(u);let c=null;for(let f=0;c==null&&f<u.length;++f){let d=ax(o);c=rx(u[f],d,r)}return c}function Y6(n,e){let{route:t,pathname:r,params:s}=n;return{id:t.id,pathname:r,params:s,data:e[t.id],loaderData:e[t.id],handle:t.handle}}function f4(n,e=[],t=[],r="",s=!1){let o=(u,c,f=s,d)=>{let g={relativePath:d===void 0?u.path||"":d,caseSensitive:u.caseSensitive===!0,childrenIndex:c,route:u};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(r)&&f)return;Cn(g.relativePath.startsWith(r),`Absolute route path "${g.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(r.length)}let w=Zo([r,g.relativePath]),A=t.concat(g);u.children&&u.children.length>0&&(Cn(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),f4(u.children,e,A,w,f)),!(u.path==null&&!u.index)&&e.push({path:w,score:tx(w,u.index),routesMeta:A})};return n.forEach((u,c)=>{var f;if(u.path===""||!((f=u.path)!=null&&f.includes("?")))o(u,c);else for(let d of d4(u.path))o(u,c,!0,d)}),e}function d4(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let u=d4(r.join("/")),c=[];return c.push(...u.map(f=>f===""?o:[o,f].join("/"))),s&&c.push(...u),c.map(f=>n.startsWith("/")&&f===""?"/":f)}function K6(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:nx(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var W6=/^:[\w-]+$/,X6=3,Q6=2,J6=1,Z6=10,ex=-2,X5=n=>n==="*";function tx(n,e){let t=n.split("/"),r=t.length;return t.some(X5)&&(r+=ex),e&&(r+=Q6),t.filter(s=>!X5(s)).reduce((s,o)=>s+(W6.test(o)?X6:o===""?J6:Z6),r)}function nx(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function rx(n,e,t=!1){let{routesMeta:r}=n,s={},o="/",u=[];for(let c=0;c<r.length;++c){let f=r[c],d=c===r.length-1,g=o==="/"?e:e.slice(o.length)||"/",w=_m({path:f.relativePath,caseSensitive:f.caseSensitive,end:d},g),A=f.route;if(!w&&d&&t&&!r[r.length-1].route.index&&(w=_m({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!w)return null;Object.assign(s,w.params),u.push({params:s,pathname:Zo([o,w.pathname]),pathnameBase:lx(Zo([o,w.pathnameBase])),route:A}),w.pathnameBase!=="/"&&(o=Zo([o,w.pathnameBase]))}return u}function _m(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=ix(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let o=s[0],u=o.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:r.reduce((d,{paramName:g,isOptional:w},A)=>{if(g==="*"){let M=c[A]||"";u=o.slice(0,o.length-M.length).replace(/(.)\/+$/,"$1")}const b=c[A];return w&&!b?d[g]=void 0:d[g]=(b||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:u,pattern:n}}function ix(n,e=!1,t=!0){wi(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,c,f)=>(r.push({paramName:c,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function ax(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return wi(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Ks(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function sx({basename:n,pathname:e}){return e==="/"?n:Zo([n,e])}var p4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,d2=n=>p4.test(n);function ox(n,e="/"){let{pathname:t,search:r="",hash:s=""}=typeof n=="string"?Ku(n):n,o;return t?(t=t.replace(/\/\/+/g,"/"),t.startsWith("/")?o=Q5(t.substring(1),"/"):o=Q5(t,e)):o=e,{pathname:o,search:ux(r),hash:cx(s)}}function Q5(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function M1(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function m4(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Gm(n){let e=m4(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function $m(n,e,t,r=!1){let s;typeof n=="string"?s=Ku(n):(s={...n},Cn(!s.pathname||!s.pathname.includes("?"),M1("?","pathname","search",s)),Cn(!s.pathname||!s.pathname.includes("#"),M1("#","pathname","hash",s)),Cn(!s.search||!s.search.includes("#"),M1("#","search","hash",s)));let o=n===""||s.pathname==="",u=o?"/":s.pathname,c;if(u==null)c=t;else{let w=e.length-1;if(!r&&u.startsWith("..")){let A=u.split("/");for(;A[0]==="..";)A.shift(),w-=1;s.pathname=A.join("/")}c=w>=0?e[w]:"/"}let f=ox(s,c),d=u&&u!=="/"&&u.endsWith("/"),g=(o||u===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(d||g)&&(f.pathname+="/"),f}var Zo=n=>n.join("/").replace(/\/\/+/g,"/"),lx=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),ux=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,cx=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,Td=class{constructor(n,e,t,r=!1){this.status=n,this.statusText=e||"",this.internal=r,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function pd(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function Nd(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var g4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function y4(n,e){let t=n;if(typeof t!="string"||!p4.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let r=t,s=!1;if(g4)try{let o=new URL(window.location.href),u=t.startsWith("//")?new URL(o.protocol+t):new URL(t),c=Ks(u.pathname,e);u.origin===o.origin&&c!=null?t=c+u.search+u.hash:s=!0}catch{wi(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:s,to:t}}var Iu=Symbol("Uninstrumented");function hx(n,e){let t={lazy:[],"lazy.loader":[],"lazy.action":[],"lazy.middleware":[],middleware:[],loader:[],action:[]};n.forEach(s=>s({id:e.id,index:e.index,path:e.path,instrument(o){let u=Object.keys(t);for(let c of u)o[c]&&t[c].push(o[c])}}));let r={};if(typeof e.lazy=="function"&&t.lazy.length>0){let s=Ch(t.lazy,e.lazy,()=>{});s&&(r.lazy=s)}if(typeof e.lazy=="object"){let s=e.lazy;["middleware","loader","action"].forEach(o=>{let u=s[o],c=t[`lazy.${o}`];if(typeof u=="function"&&c.length>0){let f=Ch(c,u,()=>{});f&&(r.lazy=Object.assign(r.lazy||{},{[o]:f}))}})}return["loader","action"].forEach(s=>{let o=e[s];if(typeof o=="function"&&t[s].length>0){let u=o[Iu]??o,c=Ch(t[s],u,(...f)=>J5(f[0]));c&&(s==="loader"&&u.hydrate===!0&&(c.hydrate=!0),c[Iu]=u,r[s]=c)}}),e.middleware&&e.middleware.length>0&&t.middleware.length>0&&(r.middleware=e.middleware.map(s=>{let o=s[Iu]??s,u=Ch(t.middleware,o,(...c)=>J5(c[0]));return u?(u[Iu]=o,u):s})),r}function fx(n,e){let t={navigate:[],fetch:[]};if(e.forEach(r=>r({instrument(s){let o=Object.keys(s);for(let u of o)s[u]&&t[u].push(s[u])}})),t.navigate.length>0){let r=n.navigate[Iu]??n.navigate,s=Ch(t.navigate,r,(...o)=>{let[u,c]=o;return{to:typeof u=="number"||typeof u=="string"?u:u?al(u):".",...Z5(n,c??{})}});s&&(s[Iu]=r,n.navigate=s)}if(t.fetch.length>0){let r=n.fetch[Iu]??n.fetch,s=Ch(t.fetch,r,(...o)=>{let[u,,c,f]=o;return{href:c??".",fetcherKey:u,...Z5(n,f??{})}});s&&(s[Iu]=r,n.fetch=s)}return n}function Ch(n,e,t){return n.length===0?null:async(...r)=>{let s=await v4(n,t(...r),()=>e(...r),n.length-1);if(s.type==="error")throw s.value;return s.value}}async function v4(n,e,t,r){let s=n[r],o;if(s){let u,c=async()=>(u?console.error("You cannot call instrumented handlers more than once"):u=v4(n,e,t,r-1),o=await u,Cn(o,"Expected a result"),o.type==="error"&&o.value instanceof Error?{status:"error",error:o.value}:{status:"success",error:void 0});try{await s(c,e)}catch(f){console.error("An instrumentation function threw an error:",f)}u||await c(),await u}else try{o={type:"success",value:await t()}}catch(u){o={type:"error",value:u}}return o||{type:"error",value:new Error("No result assigned in instrumentation chain.")}}function J5(n){let{request:e,context:t,params:r,unstable_pattern:s}=n;return{request:dx(e),params:{...r},unstable_pattern:s,context:px(t)}}function Z5(n,e){return{currentUrl:al(n.state.location),..."formMethod"in e?{formMethod:e.formMethod}:{},..."formEncType"in e?{formEncType:e.formEncType}:{},..."formData"in e?{formData:e.formData}:{},..."body"in e?{body:e.body}:{}}}function dx(n){return{method:n.method,url:n.url,headers:{get:(...e)=>n.headers.get(...e)}}}function px(n){if(gx(n)){let e={...n};return Object.freeze(e),e}else return{get:e=>n.get(e)}}var mx=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function gx(n){if(n===null||typeof n!="object")return!1;const e=Object.getPrototypeOf(n);return e===Object.prototype||e===null||Object.getOwnPropertyNames(e).sort().join("\0")===mx}var b4=["POST","PUT","PATCH","DELETE"],yx=new Set(b4),vx=["GET",...b4],bx=new Set(vx),_4=new Set([301,302,303,307,308]),_x=new Set([307,308]),j1={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},wx={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Bf={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Ex=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),w4="remix-router-transitions",E4=Symbol("ResetLoaderData");function Ax(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Cn(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=n.hydrationRouteProperties||[],s=n.mapRouteProperties||Ex,o=s;if(n.unstable_instrumentations){let ue=n.unstable_instrumentations;o=_e=>({...s(_e),...hx(ue.map(Te=>Te.route).filter(Boolean),_e)})}let u={},c=dd(n.routes,o,void 0,u),f,d=n.basename||"/";d.startsWith("/")||(d=`/${d}`);let g=n.dataStrategy||Cx,w={...n.future},A=null,b=new Set,M=null,P=null,U=null,F=n.hydrationData!=null,$=Tu(c,n.history.location,d),ee=!1,te=null,ce;if($==null&&!n.patchRoutesOnNavigation){let ue=Gs(404,{pathname:n.history.location.pathname}),{matches:_e,route:Te}=Mp(c);ce=!0,$=_e,te={[Te.id]:ue}}else if($&&!n.hydrationData&&Li($,c,n.history.location.pathname).active&&($=null),$)if($.some(ue=>ue.route.lazy))ce=!1;else if(!$.some(ue=>p2(ue.route)))ce=!0;else{let ue=n.hydrationData?n.hydrationData.loaderData:null,_e=n.hydrationData?n.hydrationData.errors:null;if(_e){let Te=$.findIndex(qe=>_e[qe.route.id]!==void 0);ce=$.slice(0,Te+1).every(qe=>!T0(qe.route,ue,_e))}else ce=$.every(Te=>!T0(Te.route,ue,_e))}else{ce=!1,$=[];let ue=Li(null,c,n.history.location.pathname);ue.active&&ue.matches&&(ee=!0,$=ue.matches)}let Ee,O={historyAction:n.history.action,location:n.history.location,matches:$,initialized:ce,navigation:j1,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||te,fetchers:new Map,blockers:new Map},k="POP",R=null,q=!1,T,D=!1,j=new Map,le=null,xe=!1,re=!1,me=new Set,fe=new Map,Ne=0,Fe=-1,Q=new Map,I=new Set,K=new Map,J=new Map,oe=new Set,he=new Map,be,Ie=null;function De(){if(A=n.history.listen(({action:ue,location:_e,delta:Te})=>{if(be){be(),be=void 0;return}wi(he.size===0||Te!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let qe=zn({currentLocation:O.location,nextLocation:_e,historyAction:ue});if(qe&&Te!=null){let Ze=new Promise(ht=>{be=ht});n.history.go(Te*-1),Ft(qe,{state:"blocked",location:_e,proceed(){Ft(qe,{state:"proceeding",proceed:void 0,reset:void 0,location:_e}),Ze.then(()=>n.history.go(Te))},reset(){let ht=new Map(O.blockers);ht.set(qe,Bf),it({blockers:ht})}}),R==null||R.resolve(),R=null;return}return ot(ue,_e)}),t){$x(e,j);let ue=()=>Yx(e,j);e.addEventListener("pagehide",ue),le=()=>e.removeEventListener("pagehide",ue)}return O.initialized||ot("POP",O.location,{initialHydration:!0}),Ee}function ze(){A&&A(),le&&le(),b.clear(),T&&T.abort(),O.fetchers.forEach((ue,_e)=>ur(_e)),O.blockers.forEach((ue,_e)=>qt(_e))}function tt(ue){return b.add(ue),()=>b.delete(ue)}function it(ue,_e={}){ue.matches&&(ue.matches=ue.matches.map(Ze=>{let ht=u[Ze.route.id],dt=Ze.route;return dt.element!==ht.element||dt.errorElement!==ht.errorElement||dt.hydrateFallbackElement!==ht.hydrateFallbackElement?{...Ze,route:ht}:Ze})),O={...O,...ue};let Te=[],qe=[];O.fetchers.forEach((Ze,ht)=>{Ze.state==="idle"&&(oe.has(ht)?Te.push(ht):qe.push(ht))}),oe.forEach(Ze=>{!O.fetchers.has(Ze)&&!fe.has(Ze)&&Te.push(Ze)}),[...b].forEach(Ze=>Ze(O,{deletedFetchers:Te,newErrors:ue.errors??null,viewTransitionOpts:_e.viewTransitionOpts,flushSync:_e.flushSync===!0})),Te.forEach(Ze=>ur(Ze)),qe.forEach(Ze=>O.fetchers.delete(Ze))}function lt(ue,_e,{flushSync:Te}={}){var Pt,gt;let qe=O.actionData!=null&&O.navigation.formMethod!=null&&Ca(O.navigation.formMethod)&&O.navigation.state==="loading"&&((Pt=ue.state)==null?void 0:Pt._isRedirect)!==!0,Ze;_e.actionData?Object.keys(_e.actionData).length>0?Ze=_e.actionData:Ze=null:qe?Ze=O.actionData:Ze=null;let ht=_e.loaderData?ub(O.loaderData,_e.loaderData,_e.matches||[],_e.errors):O.loaderData,dt=O.blockers;dt.size>0&&(dt=new Map(dt),dt.forEach((Jt,sn)=>dt.set(sn,Bf)));let rt=xe?!1:Wr(ue,_e.matches||O.matches),st=q===!0||O.navigation.formMethod!=null&&Ca(O.navigation.formMethod)&&((gt=ue.state)==null?void 0:gt._isRedirect)!==!0;f&&(c=f,f=void 0),xe||k==="POP"||(k==="PUSH"?n.history.push(ue,ue.state):k==="REPLACE"&&n.history.replace(ue,ue.state));let ct;if(k==="POP"){let Jt=j.get(O.location.pathname);Jt&&Jt.has(ue.pathname)?ct={currentLocation:O.location,nextLocation:ue}:j.has(ue.pathname)&&(ct={currentLocation:ue,nextLocation:O.location})}else if(D){let Jt=j.get(O.location.pathname);Jt?Jt.add(ue.pathname):(Jt=new Set([ue.pathname]),j.set(O.location.pathname,Jt)),ct={currentLocation:O.location,nextLocation:ue}}it({..._e,actionData:Ze,loaderData:ht,historyAction:k,location:ue,initialized:!0,navigation:j1,revalidation:"idle",restoreScrollPosition:rt,preventScrollReset:st,blockers:dt},{viewTransitionOpts:ct,flushSync:Te===!0}),k="POP",q=!1,D=!1,xe=!1,re=!1,R==null||R.resolve(),R=null,Ie==null||Ie.resolve(),Ie=null}async function bt(ue,_e){if(R==null||R.resolve(),R=null,typeof ue=="number"){R||(R=db());let sn=R.promise;return n.history.go(ue),sn}let Te=x0(O.location,O.matches,d,ue,_e==null?void 0:_e.fromRouteId,_e==null?void 0:_e.relative),{path:qe,submission:Ze,error:ht}=eb(!1,Te,_e),dt=O.location,rt=fd(O.location,qe,_e&&_e.state);rt={...rt,...n.history.encodeLocation(rt)};let st=_e&&_e.replace!=null?_e.replace:void 0,ct="PUSH";st===!0?ct="REPLACE":st===!1||Ze!=null&&Ca(Ze.formMethod)&&Ze.formAction===O.location.pathname+O.location.search&&(ct="REPLACE");let Pt=_e&&"preventScrollReset"in _e?_e.preventScrollReset===!0:void 0,gt=(_e&&_e.flushSync)===!0,Jt=zn({currentLocation:dt,nextLocation:rt,historyAction:ct});if(Jt){Ft(Jt,{state:"blocked",location:rt,proceed(){Ft(Jt,{state:"proceeding",proceed:void 0,reset:void 0,location:rt}),bt(ue,_e)},reset(){let sn=new Map(O.blockers);sn.set(Jt,Bf),it({blockers:sn})}});return}await ot(ct,rt,{submission:Ze,pendingError:ht,preventScrollReset:Pt,replace:_e&&_e.replace,enableViewTransition:_e&&_e.viewTransition,flushSync:gt,callSiteDefaultShouldRevalidate:_e&&_e.unstable_defaultShouldRevalidate})}function ne(){Ie||(Ie=db()),gn(),it({revalidation:"loading"});let ue=Ie.promise;return O.navigation.state==="submitting"?ue:O.navigation.state==="idle"?(ot(O.historyAction,O.location,{startUninterruptedRevalidation:!0}),ue):(ot(k||O.historyAction,O.navigation.location,{overrideNavigation:O.navigation,enableViewTransition:D===!0}),ue)}async function ot(ue,_e,Te){T&&T.abort(),T=null,k=ue,xe=(Te&&Te.startUninterruptedRevalidation)===!0,hi(O.location,O.matches),q=(Te&&Te.preventScrollReset)===!0,D=(Te&&Te.enableViewTransition)===!0;let qe=f||c,Ze=Te&&Te.overrideNavigation,ht=Te!=null&&Te.initialHydration&&O.matches&&O.matches.length>0&&!ee?O.matches:Tu(qe,_e,d),dt=(Te&&Te.flushSync)===!0;if(ht&&O.initialized&&!re&&Mx(O.location,_e)&&!(Te&&Te.submission&&Ca(Te.submission.formMethod))){lt(_e,{matches:ht},{flushSync:dt});return}let rt=Li(ht,qe,_e.pathname);if(rt.active&&rt.matches&&(ht=rt.matches),!ht){let{error:Zn,notFoundMatches:Xn,route:cn}=Rt(_e.pathname);lt(_e,{matches:Xn,loaderData:{},errors:{[cn.id]:Zn}},{flushSync:dt});return}T=new AbortController;let st=wh(n.history,_e,T.signal,Te&&Te.submission),ct=n.getContext?await n.getContext():new K5,Pt;if(Te&&Te.pendingError)Pt=[Nu(ht).route.id,{type:"error",error:Te.pendingError}];else if(Te&&Te.submission&&Ca(Te.submission.formMethod)){let Zn=await un(st,_e,Te.submission,ht,ct,rt.active,Te&&Te.initialHydration===!0,{replace:Te.replace,flushSync:dt});if(Zn.shortCircuited)return;if(Zn.pendingActionResult){let[Xn,cn]=Zn.pendingActionResult;if(As(cn)&&pd(cn.error)&&cn.error.status===404){T=null,lt(_e,{matches:Zn.matches,loaderData:{},errors:{[Xn]:cn.error}});return}}ht=Zn.matches||ht,Pt=Zn.pendingActionResult,Ze=U1(_e,Te.submission),dt=!1,rt.active=!1,st=wh(n.history,st.url,st.signal)}let{shortCircuited:gt,matches:Jt,loaderData:sn,errors:Pn}=await Ut(st,_e,ht,ct,rt.active,Ze,Te&&Te.submission,Te&&Te.fetcherSubmission,Te&&Te.replace,Te&&Te.initialHydration===!0,dt,Pt,Te&&Te.callSiteDefaultShouldRevalidate);gt||(T=null,lt(_e,{matches:Jt||ht,...cb(Pt),loaderData:sn,errors:Pn}))}async function un(ue,_e,Te,qe,Ze,ht,dt,rt={}){gn();let st=Hx(_e,Te);if(it({navigation:st},{flushSync:rt.flushSync===!0}),ht){let gt=await Dr(qe,_e.pathname,ue.signal);if(gt.type==="aborted")return{shortCircuited:!0};if(gt.type==="error"){if(gt.partialMatches.length===0){let{matches:sn,route:Pn}=Mp(c);return{matches:sn,pendingActionResult:[Pn.id,{type:"error",error:gt.error}]}}let Jt=Nu(gt.partialMatches).route.id;return{matches:gt.partialMatches,pendingActionResult:[Jt,{type:"error",error:gt.error}]}}else if(gt.matches)qe=gt.matches;else{let{notFoundMatches:Jt,error:sn,route:Pn}=Rt(_e.pathname);return{matches:Jt,pendingActionResult:[Pn.id,{type:"error",error:sn}]}}}let ct,Pt=tm(qe,_e);if(!Pt.route.action&&!Pt.route.lazy)ct={type:"error",error:Gs(405,{method:ue.method,pathname:_e.pathname,routeId:Pt.route.id})};else{let gt=Lh(o,u,ue,qe,Pt,dt?[]:r,Ze),Jt=await rn(ue,gt,Ze,null);if(ct=Jt[Pt.route.id],!ct){for(let sn of qe)if(Jt[sn.route.id]){ct=Jt[sn.route.id];break}}if(ue.signal.aborted)return{shortCircuited:!0}}if(gc(ct)){let gt;return rt&&rt.replace!=null?gt=rt.replace:gt=sb(ct.response.headers.get("Location"),new URL(ue.url),d,n.history)===O.location.pathname+O.location.search,await Qt(ue,ct,!0,{submission:Te,replace:gt}),{shortCircuited:!0}}if(As(ct)){let gt=Nu(qe,Pt.route.id);return(rt&&rt.replace)!==!0&&(k="PUSH"),{matches:qe,pendingActionResult:[gt.route.id,ct,Pt.route.id]}}return{matches:qe,pendingActionResult:[Pt.route.id,ct]}}async function Ut(ue,_e,Te,qe,Ze,ht,dt,rt,st,ct,Pt,gt,Jt){let sn=ht||U1(_e,dt),Pn=dt||rt||fb(sn),Zn=!xe&&!ct;if(Ze){if(Zn){let Gn=$e(gt);it({navigation:sn,...Gn!==void 0?{actionData:Gn}:{}},{flushSync:Pt})}let An=await Dr(Te,_e.pathname,ue.signal);if(An.type==="aborted")return{shortCircuited:!0};if(An.type==="error"){if(An.partialMatches.length===0){let{matches:Cr,route:er}=Mp(c);return{matches:Cr,loaderData:{},errors:{[er.id]:An.error}}}let Gn=Nu(An.partialMatches).route.id;return{matches:An.partialMatches,loaderData:{},errors:{[Gn]:An.error}}}else if(An.matches)Te=An.matches;else{let{error:Gn,notFoundMatches:Cr,route:er}=Rt(_e.pathname);return{matches:Cr,loaderData:{},errors:{[er.id]:Gn}}}}let Xn=f||c,{dsMatches:cn,revalidatingFetchers:cr}=tb(ue,qe,o,u,n.history,O,Te,Pn,_e,ct?[]:r,ct===!0,re,me,oe,K,I,Xn,d,n.patchRoutesOnNavigation!=null,gt,Jt);if(Fe=++Ne,!n.dataStrategy&&!cn.some(An=>An.shouldLoad)&&!cn.some(An=>An.route.middleware&&An.route.middleware.length>0)&&cr.length===0){let An=on();return lt(_e,{matches:Te,loaderData:{},errors:gt&&As(gt[1])?{[gt[0]]:gt[1].error}:null,...cb(gt),...An?{fetchers:new Map(O.fetchers)}:{}},{flushSync:Pt}),{shortCircuited:!0}}if(Zn){let An={};if(!Ze){An.navigation=sn;let Gn=$e(gt);Gn!==void 0&&(An.actionData=Gn)}cr.length>0&&(An.fetchers=pt(cr)),it(An,{flushSync:Pt})}cr.forEach(An=>{Et(An.key),An.controller&&fe.set(An.key,An.controller)});let zr=()=>cr.forEach(An=>Et(An.key));T&&T.signal.addEventListener("abort",zr);let{loaderResults:ar,fetcherResults:ki}=await en(cn,cr,ue,qe);if(ue.signal.aborted)return{shortCircuited:!0};T&&T.signal.removeEventListener("abort",zr),cr.forEach(An=>fe.delete(An.key));let dr=jp(ar);if(dr)return await Qt(ue,dr.result,!0,{replace:st}),{shortCircuited:!0};if(dr=jp(ki),dr)return I.add(dr.key),await Qt(ue,dr.result,!0,{replace:st}),{shortCircuited:!0};let{loaderData:Ei,errors:fi}=lb(O,Te,ar,gt,cr,ki);ct&&O.errors&&(fi={...O.errors,...fi});let Oi=on(),Oa=Ot(Fe),Da=Oi||Oa||cr.length>0;return{matches:Te,loaderData:Ei,errors:fi,...Da?{fetchers:new Map(O.fetchers)}:{}}}function $e(ue){if(ue&&!As(ue[1]))return{[ue[0]]:ue[1].data};if(O.actionData)return Object.keys(O.actionData).length===0?null:O.actionData}function pt(ue){return ue.forEach(_e=>{let Te=O.fetchers.get(_e.key),qe=zf(void 0,Te?Te.data:void 0);O.fetchers.set(_e.key,qe)}),new Map(O.fetchers)}async function ft(ue,_e,Te,qe){Et(ue);let Ze=(qe&&qe.flushSync)===!0,ht=f||c,dt=x0(O.location,O.matches,d,Te,_e,qe==null?void 0:qe.relative),rt=Tu(ht,dt,d),st=Li(rt,ht,dt);if(st.active&&st.matches&&(rt=st.matches),!rt){mt(ue,_e,Gs(404,{pathname:dt}),{flushSync:Ze});return}let{path:ct,submission:Pt,error:gt}=eb(!0,dt,qe);if(gt){mt(ue,_e,gt,{flushSync:Ze});return}let Jt=n.getContext?await n.getContext():new K5,sn=(qe&&qe.preventScrollReset)===!0;if(Pt&&Ca(Pt.formMethod)){await Vt(ue,_e,ct,rt,Jt,st.active,Ze,sn,Pt,qe&&qe.unstable_defaultShouldRevalidate);return}K.set(ue,{routeId:_e,path:ct}),await kt(ue,_e,ct,rt,Jt,st.active,Ze,sn,Pt)}async function Vt(ue,_e,Te,qe,Ze,ht,dt,rt,st,ct){gn(),K.delete(ue);let Pt=O.fetchers.get(ue);$t(ue,Gx(st,Pt),{flushSync:dt});let gt=new AbortController,Jt=wh(n.history,Te,gt.signal,st);if(ht){let It=await Dr(qe,new URL(Jt.url).pathname,Jt.signal,ue);if(It.type==="aborted")return;if(It.type==="error"){mt(ue,_e,It.error,{flushSync:dt});return}else if(It.matches)qe=It.matches;else{mt(ue,_e,Gs(404,{pathname:Te}),{flushSync:dt});return}}let sn=tm(qe,Te);if(!sn.route.action&&!sn.route.lazy){let It=Gs(405,{method:st.formMethod,pathname:Te,routeId:_e});mt(ue,_e,It,{flushSync:dt});return}fe.set(ue,gt);let Pn=Ne,Zn=Lh(o,u,Jt,qe,sn,r,Ze),Xn=await rn(Jt,Zn,Ze,ue),cn=Xn[sn.route.id];if(!cn){for(let It of Zn)if(Xn[It.route.id]){cn=Xn[It.route.id];break}}if(Jt.signal.aborted){fe.get(ue)===gt&&fe.delete(ue);return}if(oe.has(ue)){if(gc(cn)||As(cn)){$t(ue,jl(void 0));return}}else{if(gc(cn))if(fe.delete(ue),Fe>Pn){$t(ue,jl(void 0));return}else return I.add(ue),$t(ue,zf(st)),Qt(Jt,cn,!1,{fetcherSubmission:st,preventScrollReset:rt});if(As(cn)){mt(ue,_e,cn.error);return}}let cr=O.navigation.location||O.location,zr=wh(n.history,cr,gt.signal),ar=f||c,ki=O.navigation.state!=="idle"?Tu(ar,O.navigation.location,d):O.matches;Cn(ki,"Didn't find any matches after fetcher action");let dr=++Ne;Q.set(ue,dr);let Ei=zf(st,cn.data);O.fetchers.set(ue,Ei);let{dsMatches:fi,revalidatingFetchers:Oi}=tb(zr,Ze,o,u,n.history,O,ki,st,cr,r,!1,re,me,oe,K,I,ar,d,n.patchRoutesOnNavigation!=null,[sn.route.id,cn],ct);Oi.filter(It=>It.key!==ue).forEach(It=>{let Ki=It.key,Di=O.fetchers.get(Ki),Rn=zf(void 0,Di?Di.data:void 0);O.fetchers.set(Ki,Rn),Et(Ki),It.controller&&fe.set(Ki,It.controller)}),it({fetchers:new Map(O.fetchers)});let Oa=()=>Oi.forEach(It=>Et(It.key));gt.signal.addEventListener("abort",Oa);let{loaderResults:Da,fetcherResults:An}=await en(fi,Oi,zr,Ze);if(gt.signal.aborted)return;if(gt.signal.removeEventListener("abort",Oa),Q.delete(ue),fe.delete(ue),Oi.forEach(It=>fe.delete(It.key)),O.fetchers.has(ue)){let It=jl(cn.data);O.fetchers.set(ue,It)}let Gn=jp(Da);if(Gn)return Qt(zr,Gn.result,!1,{preventScrollReset:rt});if(Gn=jp(An),Gn)return I.add(Gn.key),Qt(zr,Gn.result,!1,{preventScrollReset:rt});let{loaderData:Cr,errors:er}=lb(O,ki,Da,void 0,Oi,An);Ot(dr),O.navigation.state==="loading"&&dr>Fe?(Cn(k,"Expected pending action"),T&&T.abort(),lt(O.navigation.location,{matches:ki,loaderData:Cr,errors:er,fetchers:new Map(O.fetchers)})):(it({errors:er,loaderData:ub(O.loaderData,Cr,ki,er),fetchers:new Map(O.fetchers)}),re=!1)}async function kt(ue,_e,Te,qe,Ze,ht,dt,rt,st){let ct=O.fetchers.get(ue);$t(ue,zf(st,ct?ct.data:void 0),{flushSync:dt});let Pt=new AbortController,gt=wh(n.history,Te,Pt.signal);if(ht){let cn=await Dr(qe,new URL(gt.url).pathname,gt.signal,ue);if(cn.type==="aborted")return;if(cn.type==="error"){mt(ue,_e,cn.error,{flushSync:dt});return}else if(cn.matches)qe=cn.matches;else{mt(ue,_e,Gs(404,{pathname:Te}),{flushSync:dt});return}}let Jt=tm(qe,Te);fe.set(ue,Pt);let sn=Ne,Pn=Lh(o,u,gt,qe,Jt,r,Ze),Xn=(await rn(gt,Pn,Ze,ue))[Jt.route.id];if(fe.get(ue)===Pt&&fe.delete(ue),!gt.signal.aborted){if(oe.has(ue)){$t(ue,jl(void 0));return}if(gc(Xn))if(Fe>sn){$t(ue,jl(void 0));return}else{I.add(ue),await Qt(gt,Xn,!1,{preventScrollReset:rt});return}if(As(Xn)){mt(ue,_e,Xn.error);return}$t(ue,jl(Xn.data))}}async function Qt(ue,_e,Te,{submission:qe,fetcherSubmission:Ze,preventScrollReset:ht,replace:dt}={}){Te||(R==null||R.resolve(),R=null),_e.response.headers.has("X-Remix-Revalidate")&&(re=!0);let rt=_e.response.headers.get("Location");Cn(rt,"Expected a Location header on the redirect Response"),rt=sb(rt,new URL(ue.url),d,n.history);let st=fd(O.location,rt,{_isRedirect:!0});if(t){let Pn=!1;if(_e.response.headers.has("X-Remix-Reload-Document"))Pn=!0;else if(d2(rt)){const Zn=h4(rt,!0);Pn=Zn.origin!==e.location.origin||Ks(Zn.pathname,d)==null}if(Pn){dt?e.location.replace(rt):e.location.assign(rt);return}}T=null;let ct=dt===!0||_e.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Pt,formAction:gt,formEncType:Jt}=O.navigation;!qe&&!Ze&&Pt&&gt&&Jt&&(qe=fb(O.navigation));let sn=qe||Ze;if(_x.has(_e.response.status)&&sn&&Ca(sn.formMethod))await ot(ct,st,{submission:{...sn,formAction:rt},preventScrollReset:ht||q,enableViewTransition:Te?D:void 0});else{let Pn=U1(st,qe);await ot(ct,st,{overrideNavigation:Pn,fetcherSubmission:Ze,preventScrollReset:ht||q,enableViewTransition:Te?D:void 0})}}async function rn(ue,_e,Te,qe){var dt;let Ze,ht={};try{Ze=await Lx(g,ue,_e,qe,Te,!1)}catch(rt){return _e.filter(st=>st.shouldLoad).forEach(st=>{ht[st.route.id]={type:"error",error:rt}}),ht}if(ue.signal.aborted)return ht;if(!Ca(ue.method))for(let rt of _e){if(((dt=Ze[rt.route.id])==null?void 0:dt.type)==="error")break;!Ze.hasOwnProperty(rt.route.id)&&!O.loaderData.hasOwnProperty(rt.route.id)&&(!O.errors||!O.errors.hasOwnProperty(rt.route.id))&&rt.shouldCallHandler()&&(Ze[rt.route.id]={type:"error",result:new Error(`No result returned from dataStrategy for route ${rt.route.id}`)})}for(let[rt,st]of Object.entries(Ze))if(Vx(st)){let ct=st.result;ht[rt]={type:"redirect",response:Dx(ct,ue,rt,_e,d)}}else ht[rt]=await Ox(st);return ht}async function en(ue,_e,Te,qe){let Ze=rn(Te,ue,qe,null),ht=Promise.all(_e.map(async st=>{if(st.matches&&st.match&&st.request&&st.controller){let Pt=(await rn(st.request,st.matches,qe,st.key))[st.match.route.id];return{[st.key]:Pt}}else return Promise.resolve({[st.key]:{type:"error",error:Gs(404,{pathname:st.path})}})})),dt=await Ze,rt=(await ht).reduce((st,ct)=>Object.assign(st,ct),{});return{loaderResults:dt,fetcherResults:rt}}function gn(){re=!0,K.forEach((ue,_e)=>{fe.has(_e)&&me.add(_e),Et(_e)})}function $t(ue,_e,Te={}){O.fetchers.set(ue,_e),it({fetchers:new Map(O.fetchers)},{flushSync:(Te&&Te.flushSync)===!0})}function mt(ue,_e,Te,qe={}){let Ze=Nu(O.matches,_e);ur(ue),it({errors:{[Ze.route.id]:Te},fetchers:new Map(O.fetchers)},{flushSync:(qe&&qe.flushSync)===!0})}function an(ue){return J.set(ue,(J.get(ue)||0)+1),oe.has(ue)&&oe.delete(ue),O.fetchers.get(ue)||wx}function xt(ue,_e){Et(ue,_e==null?void 0:_e.reason),$t(ue,jl(null))}function ur(ue){let _e=O.fetchers.get(ue);fe.has(ue)&&!(_e&&_e.state==="loading"&&Q.has(ue))&&Et(ue),K.delete(ue),Q.delete(ue),I.delete(ue),oe.delete(ue),me.delete(ue),O.fetchers.delete(ue)}function fn(ue){let _e=(J.get(ue)||0)-1;_e<=0?(J.delete(ue),oe.add(ue)):J.set(ue,_e),it({fetchers:new Map(O.fetchers)})}function Et(ue,_e){let Te=fe.get(ue);Te&&(Te.abort(_e),fe.delete(ue))}function Yt(ue){for(let _e of ue){let Te=an(_e),qe=jl(Te.data);O.fetchers.set(_e,qe)}}function on(){let ue=[],_e=!1;for(let Te of I){let qe=O.fetchers.get(Te);Cn(qe,`Expected fetcher: ${Te}`),qe.state==="loading"&&(I.delete(Te),ue.push(Te),_e=!0)}return Yt(ue),_e}function Ot(ue){let _e=[];for(let[Te,qe]of Q)if(qe<ue){let Ze=O.fetchers.get(Te);Cn(Ze,`Expected fetcher: ${Te}`),Ze.state==="loading"&&(Et(Te),Q.delete(Te),_e.push(Te))}return Yt(_e),_e.length>0}function Bn(ue,_e){let Te=O.blockers.get(ue)||Bf;return he.get(ue)!==_e&&he.set(ue,_e),Te}function qt(ue){O.blockers.delete(ue),he.delete(ue)}function Ft(ue,_e){let Te=O.blockers.get(ue)||Bf;Cn(Te.state==="unblocked"&&_e.state==="blocked"||Te.state==="blocked"&&_e.state==="blocked"||Te.state==="blocked"&&_e.state==="proceeding"||Te.state==="blocked"&&_e.state==="unblocked"||Te.state==="proceeding"&&_e.state==="unblocked",`Invalid blocker state transition: ${Te.state} -> ${_e.state}`);let qe=new Map(O.blockers);qe.set(ue,_e),it({blockers:qe})}function zn({currentLocation:ue,nextLocation:_e,historyAction:Te}){if(he.size===0)return;he.size>1&&wi(!1,"A router only supports one blocker at a time");let qe=Array.from(he.entries()),[Ze,ht]=qe[qe.length-1],dt=O.blockers.get(Ze);if(!(dt&&dt.state==="proceeding")&&ht({currentLocation:ue,nextLocation:_e,historyAction:Te}))return Ze}function Rt(ue){let _e=Gs(404,{pathname:ue}),Te=f||c,{matches:qe,route:Ze}=Mp(Te);return{notFoundMatches:qe,route:Ze,error:_e}}function Lt(ue,_e,Te){if(M=ue,U=_e,P=Te||null,!F&&O.navigation===j1){F=!0;let qe=Wr(O.location,O.matches);qe!=null&&it({restoreScrollPosition:qe})}return()=>{M=null,U=null,P=null}}function vn(ue,_e){return P&&P(ue,_e.map(qe=>Y6(qe,O.loaderData)))||ue.key}function hi(ue,_e){if(M&&U){let Te=vn(ue,_e);M[Te]=U()}}function Wr(ue,_e){if(M){let Te=vn(ue,_e),qe=M[Te];if(typeof qe=="number")return qe}return null}function Li(ue,_e,Te){if(n.patchRoutesOnNavigation)if(ue){if(Object.keys(ue[0].params).length>0)return{active:!0,matches:Wf(_e,Te,d,!0)}}else return{active:!0,matches:Wf(_e,Te,d,!0)||[]};return{active:!1,matches:null}}async function Dr(ue,_e,Te,qe){if(!n.patchRoutesOnNavigation)return{type:"success",matches:ue};let Ze=ue;for(;;){let ht=f==null,dt=f||c,rt=u;try{await n.patchRoutesOnNavigation({signal:Te,path:_e,matches:Ze,fetcherKey:qe,patch:(Pt,gt)=>{Te.aborted||nb(Pt,gt,dt,rt,o,!1)}})}catch(Pt){return{type:"error",error:Pt,partialMatches:Ze}}finally{ht&&!Te.aborted&&(c=[...c])}if(Te.aborted)return{type:"aborted"};let st=Tu(dt,_e,d),ct=null;if(st){if(Object.keys(st[0].params).length===0)return{type:"success",matches:st};if(ct=Wf(dt,_e,d,!0),!(ct&&Ze.length<ct.length&&Dt(Ze,ct.slice(0,Ze.length))))return{type:"success",matches:st}}if(ct||(ct=Wf(dt,_e,d,!0)),!ct||Dt(Ze,ct))return{type:"success",matches:null};Ze=ct}}function Dt(ue,_e){return ue.length===_e.length&&ue.every((Te,qe)=>Te.route.id===_e[qe].route.id)}function ka(ue){u={},f=dd(ue,o,void 0,u)}function Ii(ue,_e,Te=!1){let qe=f==null;nb(ue,_e,f||c,u,o,Te),qe&&(c=[...c],it({}))}return Ee={get basename(){return d},get future(){return w},get state(){return O},get routes(){return c},get window(){return e},initialize:De,subscribe:tt,enableScrollRestoration:Lt,navigate:bt,fetch:ft,revalidate:ne,createHref:ue=>n.history.createHref(ue),encodeLocation:ue=>n.history.encodeLocation(ue),getFetcher:an,resetFetcher:xt,deleteFetcher:fn,dispose:ze,getBlocker:Bn,deleteBlocker:qt,patchRoutes:Ii,_internalFetchControllers:fe,_internalSetRoutes:ka,_internalSetStateDoNotUseOrYouWillBreakYourApp(ue){it(ue)}},n.unstable_instrumentations&&(Ee=fx(Ee,n.unstable_instrumentations.map(ue=>ue.router).filter(Boolean))),Ee}function Sx(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function x0(n,e,t,r,s,o){let u,c;if(s){u=[];for(let d of e)if(u.push(d),d.route.id===s){c=d;break}}else u=e,c=e[e.length-1];let f=$m(r||".",Gm(u),Ks(n.pathname,t)||n.pathname,o==="path");if(r==null&&(f.search=n.search,f.hash=n.hash),(r==null||r===""||r===".")&&c){let d=g2(f.search);if(c.route.index&&!d)f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index";else if(!c.route.index&&d){let g=new URLSearchParams(f.search),w=g.getAll("index");g.delete("index"),w.filter(b=>b).forEach(b=>g.append("index",b));let A=g.toString();f.search=A?`?${A}`:""}}return t!=="/"&&(f.pathname=sx({basename:t,pathname:f.pathname})),al(f)}function eb(n,e,t){if(!t||!Sx(t))return{path:e};if(t.formMethod&&!qx(t.formMethod))return{path:e,error:Gs(405,{method:t.formMethod})};let r=()=>({path:e,error:Gs(400,{type:"invalid-body"})}),o=(t.formMethod||"get").toUpperCase(),u=C4(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!Ca(o))return r();let w=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((A,[b,M])=>`${A}${b}=${M}
`,""):String(t.body);return{path:e,submission:{formMethod:o,formAction:u,formEncType:t.formEncType,formData:void 0,json:void 0,text:w}}}else if(t.formEncType==="application/json"){if(!Ca(o))return r();try{let w=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:o,formAction:u,formEncType:t.formEncType,formData:void 0,json:w,text:void 0}}}catch{return r()}}}Cn(typeof FormData=="function","FormData is not available in this environment");let c,f;if(t.formData)c=C0(t.formData),f=t.formData;else if(t.body instanceof FormData)c=C0(t.body),f=t.body;else if(t.body instanceof URLSearchParams)c=t.body,f=ob(c);else if(t.body==null)c=new URLSearchParams,f=new FormData;else try{c=new URLSearchParams(t.body),f=ob(c)}catch{return r()}let d={formMethod:o,formAction:u,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:f,json:void 0,text:void 0};if(Ca(d.formMethod))return{path:e,submission:d};let g=Ku(e);return n&&g.search&&g2(g.search)&&c.append("index",""),g.search=`?${c}`,{path:al(g),submission:d}}function tb(n,e,t,r,s,o,u,c,f,d,g,w,A,b,M,P,U,F,$,ee,te){var xe;let ce=ee?As(ee[1])?ee[1].error:ee[1].data:void 0,Ee=s.createURL(o.location),O=s.createURL(f),k;if(g&&o.errors){let re=Object.keys(o.errors)[0];k=u.findIndex(me=>me.route.id===re)}else if(ee&&As(ee[1])){let re=ee[0];k=u.findIndex(me=>me.route.id===re)-1}let R=ee?ee[1].statusCode:void 0,q=R&&R>=400,T={currentUrl:Ee,currentParams:((xe=o.matches[0])==null?void 0:xe.params)||{},nextUrl:O,nextParams:u[0].params,...c,actionResult:ce,actionStatus:R},D=Nd(u),j=u.map((re,me)=>{let{route:fe}=re,Ne=null;if(k!=null&&me>k?Ne=!1:fe.lazy?Ne=!0:p2(fe)?g?Ne=T0(fe,o.loaderData,o.errors):xx(o.loaderData,o.matches[me],re)&&(Ne=!0):Ne=!1,Ne!==null)return N0(t,r,n,D,re,d,e,Ne);let Fe=!1;typeof te=="boolean"?Fe=te:q?Fe=!1:(w||Ee.pathname+Ee.search===O.pathname+O.search||Ee.search!==O.search||Tx(o.matches[me],re))&&(Fe=!0);let Q={...T,defaultShouldRevalidate:Fe},I=nd(re,Q);return N0(t,r,n,D,re,d,e,I,Q,te)}),le=[];return M.forEach((re,me)=>{if(g||!u.some(oe=>oe.route.id===re.routeId)||b.has(me))return;let fe=o.fetchers.get(me),Ne=fe&&fe.state!=="idle"&&fe.data===void 0,Fe=Tu(U,re.path,F);if(!Fe){if($&&Ne)return;le.push({key:me,routeId:re.routeId,path:re.path,matches:null,match:null,request:null,controller:null});return}if(P.has(me))return;let Q=tm(Fe,re.path),I=new AbortController,K=wh(s,re.path,I.signal),J=null;if(A.has(me))A.delete(me),J=Lh(t,r,K,Fe,Q,d,e);else if(Ne)w&&(J=Lh(t,r,K,Fe,Q,d,e));else{let oe;typeof te=="boolean"?oe=te:q?oe=!1:oe=w;let he={...T,defaultShouldRevalidate:oe};nd(Q,he)&&(J=Lh(t,r,K,Fe,Q,d,e,he))}J&&le.push({key:me,routeId:re.routeId,path:re.path,matches:J,match:Q,request:K,controller:I})}),{dsMatches:j,revalidatingFetchers:le}}function p2(n){return n.loader!=null||n.middleware!=null&&n.middleware.length>0}function T0(n,e,t){if(n.lazy)return!0;if(!p2(n))return!1;let r=e!=null&&n.id in e,s=t!=null&&t[n.id]!==void 0;return!r&&s?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!r&&!s}function xx(n,e,t){let r=!e||t.route.id!==e.route.id,s=!n.hasOwnProperty(t.route.id);return r||s}function Tx(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function nd(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function nb(n,e,t,r,s,o){let u;if(n){let d=r[n];Cn(d,`No route found to patch children into: routeId = ${n}`),d.children||(d.children=[]),u=d.children}else u=t;let c=[],f=[];if(e.forEach(d=>{let g=u.find(w=>A4(d,w));g?f.push({existingRoute:g,newRoute:d}):c.push(d)}),c.length>0){let d=dd(c,s,[n||"_","patch",String((u==null?void 0:u.length)||"0")],r);u.push(...d)}if(o&&f.length>0)for(let d=0;d<f.length;d++){let{existingRoute:g,newRoute:w}=f[d],A=g,[b]=dd([w],s,[],{},!0);Object.assign(A,{element:b.element?b.element:A.element,errorElement:b.errorElement?b.errorElement:A.errorElement,hydrateFallbackElement:b.hydrateFallbackElement?b.hydrateFallbackElement:A.hydrateFallbackElement})}}function A4(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,r)=>{var s;return(s=e.children)==null?void 0:s.some(o=>A4(t,o))}):!1}var rb=new WeakMap,S4=({key:n,route:e,manifest:t,mapRouteProperties:r})=>{let s=t[e.id];if(Cn(s,"No route found in manifest"),!s.lazy||typeof s.lazy!="object")return;let o=s.lazy[n];if(!o)return;let u=rb.get(s);u||(u={},rb.set(s,u));let c=u[n];if(c)return c;let f=(async()=>{let d=q6(n),w=s[n]!==void 0&&n!=="hasErrorBoundary";if(d)wi(!d,"Route property "+n+" is not a supported lazy route property. This property will be ignored."),u[n]=Promise.resolve();else if(w)wi(!1,`Route "${s.id}" has a static property "${n}" defined. The lazy property will be ignored.`);else{let A=await o();A!=null&&(Object.assign(s,{[n]:A}),Object.assign(s,r(s)))}typeof s.lazy=="object"&&(s.lazy[n]=void 0,Object.values(s.lazy).every(A=>A===void 0)&&(s.lazy=void 0))})();return u[n]=f,f},ib=new WeakMap;function Nx(n,e,t,r,s){let o=t[n.id];if(Cn(o,"No route found in manifest"),!n.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof n.lazy=="function"){let g=ib.get(o);if(g)return{lazyRoutePromise:g,lazyHandlerPromise:g};let w=(async()=>{Cn(typeof n.lazy=="function","No lazy route function found");let A=await n.lazy(),b={};for(let M in A){let P=A[M];if(P===void 0)continue;let U=G6(M),$=o[M]!==void 0&&M!=="hasErrorBoundary";U?wi(!U,"Route property "+M+" is not a supported property to be returned from a lazy route function. This property will be ignored."):$?wi(!$,`Route "${o.id}" has a static property "${M}" defined but its lazy function is also returning a value for this property. The lazy route property "${M}" will be ignored.`):b[M]=P}Object.assign(o,b),Object.assign(o,{...r(o),lazy:void 0})})();return ib.set(o,w),w.catch(()=>{}),{lazyRoutePromise:w,lazyHandlerPromise:w}}let u=Object.keys(n.lazy),c=[],f;for(let g of u){if(s&&s.includes(g))continue;let w=S4({key:g,route:n,manifest:t,mapRouteProperties:r});w&&(c.push(w),g===e&&(f=w))}let d=c.length>0?Promise.all(c).then(()=>{}):void 0;return d==null||d.catch(()=>{}),f==null||f.catch(()=>{}),{lazyRoutePromise:d,lazyHandlerPromise:f}}async function ab(n){let e=n.matches.filter(s=>s.shouldLoad),t={};return(await Promise.all(e.map(s=>s.resolve()))).forEach((s,o)=>{t[e[o].route.id]=s}),t}async function Cx(n){return n.matches.some(e=>e.route.middleware)?x4(n,()=>ab(n)):ab(n)}function x4(n,e){return Rx(n,e,r=>{if(zx(r))throw r;return r},Ux,t);function t(r,s,o){if(o)return Promise.resolve(Object.assign(o.value,{[s]:{type:"error",result:r}}));{let{matches:u}=n,c=Math.min(Math.max(u.findIndex(d=>d.route.id===s),0),Math.max(u.findIndex(d=>d.shouldCallHandler()),0)),f=Nu(u,u[c].route.id).route.id;return Promise.resolve({[f]:{type:"error",result:r}})}}}async function Rx(n,e,t,r,s){let{matches:o,request:u,params:c,context:f,unstable_pattern:d}=n,g=o.flatMap(A=>A.route.middleware?A.route.middleware.map(b=>[A.route.id,b]):[]);return await T4({request:u,params:c,context:f,unstable_pattern:d},g,e,t,r,s)}async function T4(n,e,t,r,s,o,u=0){let{request:c}=n;if(c.signal.aborted)throw c.signal.reason??new Error(`Request aborted: ${c.method} ${c.url}`);let f=e[u];if(!f)return await t();let[d,g]=f,w,A=async()=>{if(w)throw new Error("You may only call `next()` once per middleware");try{return w={value:await T4(n,e,t,r,s,o,u+1)},w.value}catch(b){return w={value:await o(b,d,w)},w.value}};try{let b=await g(n,A),M=b!=null?r(b):void 0;return s(M)?M:w?M??w.value:(w={value:await A()},w.value)}catch(b){return await o(b,d,w)}}function N4(n,e,t,r,s){let o=S4({key:"middleware",route:r.route,manifest:e,mapRouteProperties:n}),u=Nx(r.route,Ca(t.method)?"action":"loader",e,n,s);return{middleware:o,route:u.lazyRoutePromise,handler:u.lazyHandlerPromise}}function N0(n,e,t,r,s,o,u,c,f=null,d){let g=!1,w=N4(n,e,t,s,o);return{...s,_lazyPromises:w,shouldLoad:c,shouldRevalidateArgs:f,shouldCallHandler(A){return g=!0,f?typeof d=="boolean"?nd(s,{...f,defaultShouldRevalidate:d}):typeof A=="boolean"?nd(s,{...f,defaultShouldRevalidate:A}):nd(s,f):c},resolve(A){let{lazy:b,loader:M,middleware:P}=s.route,U=g||c||A&&!Ca(t.method)&&(b||M),F=P&&P.length>0&&!M&&!b;return U&&(Ca(t.method)||!F)?Ix({request:t,unstable_pattern:r,match:s,lazyHandlerPromise:w==null?void 0:w.handler,lazyRoutePromise:w==null?void 0:w.route,handlerOverride:A,scopedContext:u}):Promise.resolve({type:"data",result:void 0})}}}function Lh(n,e,t,r,s,o,u,c=null){return r.map(f=>f.route.id!==s.route.id?{...f,shouldLoad:!1,shouldRevalidateArgs:c,shouldCallHandler:()=>!1,_lazyPromises:N4(n,e,t,f,o),resolve:()=>Promise.resolve({type:"data",result:void 0})}:N0(n,e,t,Nd(r),f,o,u,!0,c))}async function Lx(n,e,t,r,s,o){t.some(d=>{var g;return(g=d._lazyPromises)==null?void 0:g.middleware})&&await Promise.all(t.map(d=>{var g;return(g=d._lazyPromises)==null?void 0:g.middleware}));let u={request:e,unstable_pattern:Nd(t),params:t[0].params,context:s,matches:t},f=await n({...u,fetcherKey:r,runClientMiddleware:d=>{let g=u;return x4(g,()=>d({...g,fetcherKey:r,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(t.flatMap(d=>{var g,w;return[(g=d._lazyPromises)==null?void 0:g.handler,(w=d._lazyPromises)==null?void 0:w.route]}))}catch{}return f}async function Ix({request:n,unstable_pattern:e,match:t,lazyHandlerPromise:r,lazyRoutePromise:s,handlerOverride:o,scopedContext:u}){let c,f,d=Ca(n.method),g=d?"action":"loader",w=A=>{let b,M=new Promise((F,$)=>b=$);f=()=>b(),n.signal.addEventListener("abort",f);let P=F=>typeof A!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${g}" [routeId: ${t.route.id}]`)):A({request:n,unstable_pattern:e,params:t.params,context:u},...F!==void 0?[F]:[]),U=(async()=>{try{return{type:"data",result:await(o?o($=>P($)):P())}}catch(F){return{type:"error",result:F}}})();return Promise.race([U,M])};try{let A=d?t.route.action:t.route.loader;if(r||s)if(A){let b,[M]=await Promise.all([w(A).catch(P=>{b=P}),r,s]);if(b!==void 0)throw b;c=M}else{await r;let b=d?t.route.action:t.route.loader;if(b)[c]=await Promise.all([w(b),s]);else if(g==="action"){let M=new URL(n.url),P=M.pathname+M.search;throw Gs(405,{method:n.method,pathname:P,routeId:t.route.id})}else return{type:"data",result:void 0}}else if(A)c=await w(A);else{let b=new URL(n.url),M=b.pathname+b.search;throw Gs(404,{pathname:M})}}catch(A){return{type:"error",result:A}}finally{f&&n.signal.removeEventListener("abort",f)}return c}async function kx(n){let e=n.headers.get("Content-Type");return e&&/\bapplication\/json\b/.test(e)?n.body==null?null:n.json():n.text()}async function Ox(n){var r,s,o,u,c;let{result:e,type:t}=n;if(m2(e)){let f;try{f=await kx(e)}catch(d){return{type:"error",error:d}}return t==="error"?{type:"error",error:new Td(e.status,e.statusText,f),statusCode:e.status,headers:e.headers}:{type:"data",data:f,statusCode:e.status,headers:e.headers}}return t==="error"?hb(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(r=e.init)==null?void 0:r.status,headers:(s=e.init)!=null&&s.headers?new Headers(e.init.headers):void 0}:{type:"error",error:jx(e),statusCode:pd(e)?e.status:void 0,headers:(o=e.init)!=null&&o.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:pd(e)?e.status:void 0}:hb(e)?{type:"data",data:e.data,statusCode:(u=e.init)==null?void 0:u.status,headers:(c=e.init)!=null&&c.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function Dx(n,e,t,r,s){let o=n.headers.get("Location");if(Cn(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!d2(o)){let u=r.slice(0,r.findIndex(c=>c.route.id===t)+1);o=x0(new URL(e.url),u,s,o),n.headers.set("Location",o)}return n}function sb(n,e,t,r){let s=["about:","blob:","chrome:","chrome-untrusted:","content:","data:","devtools:","file:","filesystem:","javascript:"];if(d2(n)){let o=n,u=o.startsWith("//")?new URL(e.protocol+o):new URL(o);if(s.includes(u.protocol))throw new Error("Invalid redirect location");let c=Ks(u.pathname,t)!=null;if(u.origin===e.origin&&c)return u.pathname+u.search+u.hash}try{let o=r.createURL(n);if(s.includes(o.protocol))throw new Error("Invalid redirect location")}catch{}return n}function wh(n,e,t,r){let s=n.createURL(C4(e)).toString(),o={signal:t};if(r&&Ca(r.formMethod)){let{formMethod:u,formEncType:c}=r;o.method=u.toUpperCase(),c==="application/json"?(o.headers=new Headers({"Content-Type":c}),o.body=JSON.stringify(r.json)):c==="text/plain"?o.body=r.text:c==="application/x-www-form-urlencoded"&&r.formData?o.body=C0(r.formData):o.body=r.formData}return new Request(s,o)}function C0(n){let e=new URLSearchParams;for(let[t,r]of n.entries())e.append(t,typeof r=="string"?r:r.name);return e}function ob(n){let e=new FormData;for(let[t,r]of n.entries())e.append(t,r);return e}function Px(n,e,t,r=!1,s=!1){let o={},u=null,c,f=!1,d={},g=t&&As(t[1])?t[1].error:void 0;return n.forEach(w=>{if(!(w.route.id in e))return;let A=w.route.id,b=e[A];if(Cn(!gc(b),"Cannot handle redirect results in processLoaderData"),As(b)){let M=b.error;if(g!==void 0&&(M=g,g=void 0),u=u||{},s)u[A]=M;else{let P=Nu(n,A);u[P.route.id]==null&&(u[P.route.id]=M)}r||(o[A]=E4),f||(f=!0,c=pd(b.error)?b.error.status:500),b.headers&&(d[A]=b.headers)}else o[A]=b.data,b.statusCode&&b.statusCode!==200&&!f&&(c=b.statusCode),b.headers&&(d[A]=b.headers)}),g!==void 0&&t&&(u={[t[0]]:g},t[2]&&(o[t[2]]=void 0)),{loaderData:o,errors:u,statusCode:c||200,loaderHeaders:d}}function lb(n,e,t,r,s,o){let{loaderData:u,errors:c}=Px(e,t,r);return s.filter(f=>!f.matches||f.matches.some(d=>d.shouldLoad)).forEach(f=>{let{key:d,match:g,controller:w}=f;if(w&&w.signal.aborted)return;let A=o[d];if(Cn(A,"Did not find corresponding fetcher result"),As(A)){let b=Nu(n.matches,g==null?void 0:g.route.id);c&&c[b.route.id]||(c={...c,[b.route.id]:A.error}),n.fetchers.delete(d)}else if(gc(A))Cn(!1,"Unhandled fetcher revalidation redirect");else{let b=jl(A.data);n.fetchers.set(d,b)}}),{loaderData:u,errors:c}}function ub(n,e,t,r){let s=Object.entries(e).filter(([,o])=>o!==E4).reduce((o,[u,c])=>(o[u]=c,o),{});for(let o of t){let u=o.route.id;if(!e.hasOwnProperty(u)&&n.hasOwnProperty(u)&&o.route.loader&&(s[u]=n[u]),r&&r.hasOwnProperty(u))break}return s}function cb(n){return n?As(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function Nu(n,e){return(e?n.slice(0,n.findIndex(r=>r.route.id===e)+1):[...n]).reverse().find(r=>r.route.hasErrorBoundary===!0)||n[0]}function Mp(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Gs(n,{pathname:e,routeId:t,method:r,type:s,message:o}={}){let u="Unknown Server Error",c="Unknown @remix-run/router error";return n===400?(u="Bad Request",r&&e&&t?c=`You made a ${r} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:s==="invalid-body"&&(c="Unable to encode submission body")):n===403?(u="Forbidden",c=`Route "${t}" does not match URL "${e}"`):n===404?(u="Not Found",c=`No route matches URL "${e}"`):n===405&&(u="Method Not Allowed",r&&e&&t?c=`You made a ${r.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:r&&(c=`Invalid request method "${r.toUpperCase()}"`)),new Td(n||500,u,new Error(c),!0)}function jp(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[r,s]=e[t];if(gc(s))return{key:r,result:s}}}function C4(n){let e=typeof n=="string"?Ku(n):n;return al({...e,hash:""})}function Mx(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function jx(n){var e,t;return new Td(((e=n.init)==null?void 0:e.status)??500,((t=n.init)==null?void 0:t.statusText)??"Internal Server Error",n.data)}function Ux(n){return n!=null&&typeof n=="object"&&Object.entries(n).every(([e,t])=>typeof e=="string"&&Fx(t))}function Fx(n){return n!=null&&typeof n=="object"&&"type"in n&&"result"in n&&(n.type==="data"||n.type==="error")}function Vx(n){return m2(n.result)&&_4.has(n.result.status)}function As(n){return n.type==="error"}function gc(n){return(n&&n.type)==="redirect"}function hb(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function m2(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function Bx(n){return _4.has(n)}function zx(n){return m2(n)&&Bx(n.status)&&n.headers.has("Location")}function qx(n){return bx.has(n.toUpperCase())}function Ca(n){return yx.has(n.toUpperCase())}function g2(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function tm(n,e){let t=typeof e=="string"?Ku(e).search:e.search;if(n[n.length-1].route.index&&g2(t||""))return n[n.length-1];let r=m4(n);return r[r.length-1]}function fb(n){let{formMethod:e,formAction:t,formEncType:r,text:s,formData:o,json:u}=n;if(!(!e||!t||!r)){if(s!=null)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:void 0,text:s};if(o!=null)return{formMethod:e,formAction:t,formEncType:r,formData:o,json:void 0,text:void 0};if(u!==void 0)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:u,text:void 0}}}function U1(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Hx(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function zf(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Gx(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function jl(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function $x(n,e){try{let t=n.sessionStorage.getItem(w4);if(t){let r=JSON.parse(t);for(let[s,o]of Object.entries(r||{}))o&&Array.isArray(o)&&e.set(s,new Set(o||[]))}}catch{}}function Yx(n,e){if(e.size>0){let t={};for(let[r,s]of e)t[r]=[...s];try{n.sessionStorage.setItem(w4,JSON.stringify(t))}catch(r){wi(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function db(){let n,e,t=new Promise((r,s)=>{n=async o=>{r(o);try{await t}catch{}},e=async o=>{s(o);try{await t}catch{}}});return{promise:t,resolve:n,reject:e}}var Ic=de.createContext(null);Ic.displayName="DataRouter";var Cd=de.createContext(null);Cd.displayName="DataRouterState";var R4=de.createContext(!1);function Kx(){return de.useContext(R4)}var y2=de.createContext({isTransitioning:!1});y2.displayName="ViewTransition";var L4=de.createContext(new Map);L4.displayName="Fetchers";var Wx=de.createContext(null);Wx.displayName="Await";var Ts=de.createContext(null);Ts.displayName="Navigation";var Ym=de.createContext(null);Ym.displayName="Location";var To=de.createContext({outlet:null,matches:[],isDataRoute:!1});To.displayName="Route";var v2=de.createContext(null);v2.displayName="RouteError";var I4="REACT_ROUTER_ERROR",Xx="REDIRECT",Qx="ROUTE_ERROR_RESPONSE";function Jx(n){if(n.startsWith(`${I4}:${Xx}:{`))try{let e=JSON.parse(n.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function Zx(n){if(n.startsWith(`${I4}:${Qx}:{`))try{let e=JSON.parse(n.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new Td(e.status,e.statusText,e.data)}catch{}}function eT(n,{relative:e}={}){Cn(Kh(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=de.useContext(Ts),{hash:s,pathname:o,search:u}=Rd(n,{relative:e}),c=o;return t!=="/"&&(c=o==="/"?t:Zo([t,o])),r.createHref({pathname:c,search:u,hash:s})}function Kh(){return de.useContext(Ym)!=null}function $l(){return Cn(Kh(),"useLocation() may be used only in the context of a <Router> component."),de.useContext(Ym).location}var k4="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function O4(n){de.useContext(Ts).static||de.useLayoutEffect(n)}function Km(){let{isDataRoute:n}=de.useContext(To);return n?mT():tT()}function tT(){Cn(Kh(),"useNavigate() may be used only in the context of a <Router> component.");let n=de.useContext(Ic),{basename:e,navigator:t}=de.useContext(Ts),{matches:r}=de.useContext(To),{pathname:s}=$l(),o=JSON.stringify(Gm(r)),u=de.useRef(!1);return O4(()=>{u.current=!0}),de.useCallback((f,d={})=>{if(wi(u.current,k4),!u.current)return;if(typeof f=="number"){t.go(f);return}let g=$m(f,JSON.parse(o),s,d.relative==="path");n==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Zo([e,g.pathname])),(d.replace?t.replace:t.push)(g,d.state,d)},[e,t,o,s,n])}var nT=de.createContext(null);function rT(n){let e=de.useContext(To).outlet;return de.useMemo(()=>e&&de.createElement(nT.Provider,{value:n},e),[e,n])}function Rd(n,{relative:e}={}){let{matches:t}=de.useContext(To),{pathname:r}=$l(),s=JSON.stringify(Gm(t));return de.useMemo(()=>$m(n,JSON.parse(s),r,e==="path"),[n,s,r,e])}function iT(n,e,t,r,s){Cn(Kh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=de.useContext(Ts),{matches:u}=de.useContext(To),c=u[u.length-1],f=c?c.params:{},d=c?c.pathname:"/",g=c?c.pathnameBase:"/",w=c&&c.route;{let $=w&&w.path||"";P4(d,!w||$.endsWith("*")||$.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${$}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${$}"> to <Route path="${$==="/"?"*":`${$}/*`}">.`)}let A=$l(),b;b=A;let M=b.pathname||"/",P=M;if(g!=="/"){let $=g.replace(/^\//,"").split("/");P="/"+M.replace(/^\//,"").split("/").slice($.length).join("/")}let U=Tu(n,{pathname:P});return wi(w||U!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),wi(U==null||U[U.length-1].route.element!==void 0||U[U.length-1].route.Component!==void 0||U[U.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),uT(U&&U.map($=>Object.assign({},$,{params:Object.assign({},f,$.params),pathname:Zo([g,o.encodeLocation?o.encodeLocation($.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:$.pathname]),pathnameBase:$.pathnameBase==="/"?g:Zo([g,o.encodeLocation?o.encodeLocation($.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:$.pathnameBase])})),u,t,r,s)}function aT(){let n=pT(),e=pd(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=de.createElement(de.Fragment,null,de.createElement("p",null," Hey developer "),de.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",de.createElement("code",{style:o},"ErrorBoundary")," or"," ",de.createElement("code",{style:o},"errorElement")," prop on your route.")),de.createElement(de.Fragment,null,de.createElement("h2",null,"Unexpected Application Error!"),de.createElement("h3",{style:{fontStyle:"italic"}},e),t?de.createElement("pre",{style:s},t):null,u)}var sT=de.createElement(aT,null),D4=class extends de.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const t=Zx(n.digest);t&&(n=t)}let e=n!==void 0?de.createElement(To.Provider,{value:this.props.routeContext},de.createElement(v2.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?de.createElement(oT,{error:n},e):e}};D4.contextType=R4;var F1=new WeakMap;function oT({children:n,error:e}){let{basename:t}=de.useContext(Ts);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=Jx(e.digest);if(r){let s=F1.get(e);if(s)throw s;let o=y4(r.location,t);if(g4&&!F1.get(e))if(o.isExternal||r.reloadDocument)window.location.href=o.absoluteURL||o.to;else{const u=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(o.to,{replace:r.replace}));throw F1.set(e,u),u}return de.createElement("meta",{httpEquiv:"refresh",content:`0;url=${o.absoluteURL||o.to}`})}}return n}function lT({routeContext:n,match:e,children:t}){let r=de.useContext(Ic);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),de.createElement(To.Provider,{value:n},t)}function uT(n,e=[],t=null,r=null,s=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,u=t==null?void 0:t.errors;if(u!=null){let g=o.findIndex(w=>w.route.id&&(u==null?void 0:u[w.route.id])!==void 0);Cn(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,g+1))}let c=!1,f=-1;if(t)for(let g=0;g<o.length;g++){let w=o[g];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(f=g),w.route.id){let{loaderData:A,errors:b}=t,M=w.route.loader&&!A.hasOwnProperty(w.route.id)&&(!b||b[w.route.id]===void 0);if(w.route.lazy||M){c=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}let d=t&&r?(g,w)=>{var A,b;r(g,{location:t.location,params:((b=(A=t.matches)==null?void 0:A[0])==null?void 0:b.params)??{},unstable_pattern:Nd(t.matches),errorInfo:w})}:void 0;return o.reduceRight((g,w,A)=>{let b,M=!1,P=null,U=null;t&&(b=u&&w.route.id?u[w.route.id]:void 0,P=w.route.errorElement||sT,c&&(f<0&&A===0?(P4("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),M=!0,U=null):f===A&&(M=!0,U=w.route.hydrateFallbackElement||null)));let F=e.concat(o.slice(0,A+1)),$=()=>{let ee;return b?ee=P:M?ee=U:w.route.Component?ee=de.createElement(w.route.Component,null):w.route.element?ee=w.route.element:ee=g,de.createElement(lT,{match:w,routeContext:{outlet:g,matches:F,isDataRoute:t!=null},children:ee})};return t&&(w.route.ErrorBoundary||w.route.errorElement||A===0)?de.createElement(D4,{location:t.location,revalidation:t.revalidation,component:P,error:b,children:$(),routeContext:{outlet:null,matches:F,isDataRoute:!0},onError:d}):$()},null)}function b2(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function cT(n){let e=de.useContext(Ic);return Cn(e,b2(n)),e}function hT(n){let e=de.useContext(Cd);return Cn(e,b2(n)),e}function fT(n){let e=de.useContext(To);return Cn(e,b2(n)),e}function _2(n){let e=fT(n),t=e.matches[e.matches.length-1];return Cn(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function dT(){return _2("useRouteId")}function pT(){var r;let n=de.useContext(v2),e=hT("useRouteError"),t=_2("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function mT(){let{router:n}=cT("useNavigate"),e=_2("useNavigate"),t=de.useRef(!1);return O4(()=>{t.current=!0}),de.useCallback(async(s,o={})=>{wi(t.current,k4),t.current&&(typeof s=="number"?await n.navigate(s):await n.navigate(s,{fromRouteId:e,...o}))},[n,e])}var pb={};function P4(n,e,t){!e&&!pb[n]&&(pb[n]=!0,wi(!1,t))}var mb={};function gb(n,e){!n&&!mb[e]&&(mb[e]=!0,console.warn(e))}var gT="useOptimistic",yb=L6[gT],yT=()=>{};function vT(n){return yb?yb(n):[n,yT]}function bT(n){let e={hasErrorBoundary:n.hasErrorBoundary||n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&(n.element&&wi(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:de.createElement(n.Component),Component:void 0})),n.HydrateFallback&&(n.hydrateFallbackElement&&wi(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:de.createElement(n.HydrateFallback),HydrateFallback:void 0})),n.ErrorBoundary&&(n.errorElement&&wi(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:de.createElement(n.ErrorBoundary),ErrorBoundary:void 0})),e}var _T=["HydrateFallback","hydrateFallbackElement"],wT=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",t(r))}})}};function ET({router:n,flushSync:e,onError:t,unstable_useTransitions:r}){r=Kx()||r;let[o,u]=de.useState(n.state),[c,f]=vT(o),[d,g]=de.useState(),[w,A]=de.useState({isTransitioning:!1}),[b,M]=de.useState(),[P,U]=de.useState(),[F,$]=de.useState(),ee=de.useRef(new Map),te=de.useCallback((k,{deletedFetchers:R,newErrors:q,flushSync:T,viewTransitionOpts:D})=>{q&&t&&Object.values(q).forEach(le=>{var xe;return t(le,{location:k.location,params:((xe=k.matches[0])==null?void 0:xe.params)??{},unstable_pattern:Nd(k.matches)})}),k.fetchers.forEach((le,xe)=>{le.data!==void 0&&ee.current.set(xe,le.data)}),R.forEach(le=>ee.current.delete(le)),gb(T===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let j=n.window!=null&&n.window.document!=null&&typeof n.window.document.startViewTransition=="function";if(gb(D==null||j,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!D||!j){e&&T?e(()=>u(k)):r===!1?u(k):de.startTransition(()=>{r===!0&&f(le=>vb(le,k)),u(k)});return}if(e&&T){e(()=>{P&&(b==null||b.resolve(),P.skipTransition()),A({isTransitioning:!0,flushSync:!0,currentLocation:D.currentLocation,nextLocation:D.nextLocation})});let le=n.window.document.startViewTransition(()=>{e(()=>u(k))});le.finished.finally(()=>{e(()=>{M(void 0),U(void 0),g(void 0),A({isTransitioning:!1})})}),e(()=>U(le));return}P?(b==null||b.resolve(),P.skipTransition(),$({state:k,currentLocation:D.currentLocation,nextLocation:D.nextLocation})):(g(k),A({isTransitioning:!0,flushSync:!1,currentLocation:D.currentLocation,nextLocation:D.nextLocation}))},[n.window,e,P,b,r,f,t]);de.useLayoutEffect(()=>n.subscribe(te),[n,te]),de.useEffect(()=>{w.isTransitioning&&!w.flushSync&&M(new wT)},[w]),de.useEffect(()=>{if(b&&d&&n.window){let k=d,R=b.promise,q=n.window.document.startViewTransition(async()=>{r===!1?u(k):de.startTransition(()=>{r===!0&&f(T=>vb(T,k)),u(k)}),await R});q.finished.finally(()=>{M(void 0),U(void 0),g(void 0),A({isTransitioning:!1})}),U(q)}},[d,b,n.window,r,f]),de.useEffect(()=>{b&&d&&c.location.key===d.location.key&&b.resolve()},[b,P,c.location,d]),de.useEffect(()=>{!w.isTransitioning&&F&&(g(F.state),A({isTransitioning:!0,flushSync:!1,currentLocation:F.currentLocation,nextLocation:F.nextLocation}),$(void 0))},[w.isTransitioning,F]);let ce=de.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:k=>n.navigate(k),push:(k,R,q)=>n.navigate(k,{state:R,preventScrollReset:q==null?void 0:q.preventScrollReset}),replace:(k,R,q)=>n.navigate(k,{replace:!0,state:R,preventScrollReset:q==null?void 0:q.preventScrollReset})}),[n]),Ee=n.basename||"/",O=de.useMemo(()=>({router:n,navigator:ce,static:!1,basename:Ee,onError:t}),[n,ce,Ee,t]);return de.createElement(de.Fragment,null,de.createElement(Ic.Provider,{value:O},de.createElement(Cd.Provider,{value:c},de.createElement(L4.Provider,{value:ee.current},de.createElement(y2.Provider,{value:w},de.createElement(NT,{basename:Ee,location:c.location,navigationType:c.historyAction,navigator:ce,unstable_useTransitions:r},de.createElement(AT,{routes:n.routes,future:n.future,state:c,onError:t})))))),null)}function vb(n,e){return{...n,navigation:e.navigation.state!=="idle"?e.navigation:n.navigation,revalidation:e.revalidation!=="idle"?e.revalidation:n.revalidation,actionData:e.navigation.state!=="submitting"?e.actionData:n.actionData,fetchers:e.fetchers}}var AT=de.memo(ST);function ST({routes:n,future:e,state:t,onError:r}){return iT(n,void 0,t,r,e)}function xT({to:n,replace:e,state:t,relative:r}){Cn(Kh(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=de.useContext(Ts);wi(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=de.useContext(To),{pathname:u}=$l(),c=Km(),f=$m(n,Gm(o),u,r==="path"),d=JSON.stringify(f);return de.useEffect(()=>{c(JSON.parse(d),{replace:e,state:t,relative:r})},[c,d,r,e,t]),null}function TT(n){return rT(n.context)}function NT({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:s,static:o=!1,unstable_useTransitions:u}){Cn(!Kh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),f=de.useMemo(()=>({basename:c,navigator:s,static:o,unstable_useTransitions:u,future:{}}),[c,s,o,u]);typeof t=="string"&&(t=Ku(t));let{pathname:d="/",search:g="",hash:w="",state:A=null,key:b="default"}=t,M=de.useMemo(()=>{let P=Ks(d,c);return P==null?null:{location:{pathname:P,search:g,hash:w,state:A,key:b},navigationType:r}},[c,d,g,w,A,b,r]);return wi(M!=null,`<Router basename="${c}"> is not able to match the URL "${d}${g}${w}" because it does not start with the basename, so the <Router> won't render anything.`),M==null?null:de.createElement(Ts.Provider,{value:f},de.createElement(Ym.Provider,{children:e,value:M}))}var nm="get",rm="application/x-www-form-urlencoded";function Wm(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function CT(n){return Wm(n)&&n.tagName.toLowerCase()==="button"}function RT(n){return Wm(n)&&n.tagName.toLowerCase()==="form"}function LT(n){return Wm(n)&&n.tagName.toLowerCase()==="input"}function IT(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function kT(n,e){return n.button===0&&(!e||e==="_self")&&!IT(n)}var Up=null;function OT(){if(Up===null)try{new FormData(document.createElement("form"),0),Up=!1}catch{Up=!0}return Up}var DT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function V1(n){return n!=null&&!DT.has(n)?(wi(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${rm}"`),null):n}function PT(n,e){let t,r,s,o,u;if(RT(n)){let c=n.getAttribute("action");r=c?Ks(c,e):null,t=n.getAttribute("method")||nm,s=V1(n.getAttribute("enctype"))||rm,o=new FormData(n)}else if(CT(n)||LT(n)&&(n.type==="submit"||n.type==="image")){let c=n.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||c.getAttribute("action");if(r=f?Ks(f,e):null,t=n.getAttribute("formmethod")||c.getAttribute("method")||nm,s=V1(n.getAttribute("formenctype"))||V1(c.getAttribute("enctype"))||rm,o=new FormData(c,n),!OT()){let{name:d,type:g,value:w}=n;if(g==="image"){let A=d?`${d}.`:"";o.append(`${A}x`,"0"),o.append(`${A}y`,"0")}else d&&o.append(d,w)}}else{if(Wm(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=nm,r=null,s=rm,u=n}return o&&s==="text/plain"&&(u=o,o=void 0),{action:r,method:t.toLowerCase(),encType:s,formData:o,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function w2(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function MT(n,e,t,r){let s=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t?s.pathname.endsWith("/")?s.pathname=`${s.pathname}_.${r}`:s.pathname=`${s.pathname}.${r}`:s.pathname==="/"?s.pathname=`_root.${r}`:e&&Ks(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${r}`,s}async function jT(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function UT(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function FT(n,e,t){let r=await Promise.all(n.map(async s=>{let o=e.routes[s.route.id];if(o){let u=await jT(o,t);return u.links?u.links():[]}return[]}));return qT(r.flat(1).filter(UT).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function bb(n,e,t,r,s,o){let u=(f,d)=>t[d]?f.route.id!==t[d].route.id:!0,c=(f,d)=>{var g;return t[d].pathname!==f.pathname||((g=t[d].route.path)==null?void 0:g.endsWith("*"))&&t[d].params["*"]!==f.params["*"]};return o==="assets"?e.filter((f,d)=>u(f,d)||c(f,d)):o==="data"?e.filter((f,d)=>{var w;let g=r.routes[f.route.id];if(!g||!g.hasLoader)return!1;if(u(f,d)||c(f,d))return!0;if(f.route.shouldRevalidate){let A=f.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((w=t[0])==null?void 0:w.params)||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function VT(n,e,{includeHydrateFallback:t}={}){return BT(n.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function BT(n){return[...new Set(n)]}function zT(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function qT(n,e){let t=new Set;return new Set(e),n.reduce((r,s)=>{let o=JSON.stringify(zT(s));return t.has(o)||(t.add(o),r.push({key:o,link:s})),r},[])}function M4(){let n=de.useContext(Ic);return w2(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function HT(){let n=de.useContext(Cd);return w2(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var E2=de.createContext(void 0);E2.displayName="FrameworkContext";function j4(){let n=de.useContext(E2);return w2(n,"You must render this element inside a <HydratedRouter> element"),n}function GT(n,e){let t=de.useContext(E2),[r,s]=de.useState(!1),[o,u]=de.useState(!1),{onFocus:c,onBlur:f,onMouseEnter:d,onMouseLeave:g,onTouchStart:w}=e,A=de.useRef(null);de.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let P=F=>{F.forEach($=>{u($.isIntersecting)})},U=new IntersectionObserver(P,{threshold:.5});return A.current&&U.observe(A.current),()=>{U.disconnect()}}},[n]),de.useEffect(()=>{if(r){let P=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(P)}}},[r]);let b=()=>{s(!0)},M=()=>{s(!1),u(!1)};return t?n!=="intent"?[o,A,{}]:[o,A,{onFocus:qf(c,b),onBlur:qf(f,M),onMouseEnter:qf(d,b),onMouseLeave:qf(g,M),onTouchStart:qf(w,b)}]:[!1,A,{}]}function qf(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function $T({page:n,...e}){let{router:t}=M4(),r=de.useMemo(()=>Tu(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?de.createElement(KT,{page:n,matches:r,...e}):null}function YT(n){let{manifest:e,routeModules:t}=j4(),[r,s]=de.useState([]);return de.useEffect(()=>{let o=!1;return FT(n,e,t).then(u=>{o||s(u)}),()=>{o=!0}},[n,e,t]),r}function KT({page:n,matches:e,...t}){let r=$l(),{future:s,manifest:o,routeModules:u}=j4(),{basename:c}=M4(),{loaderData:f,matches:d}=HT(),g=de.useMemo(()=>bb(n,e,d,o,r,"data"),[n,e,d,o,r]),w=de.useMemo(()=>bb(n,e,d,o,r,"assets"),[n,e,d,o,r]),A=de.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let P=new Set,U=!1;if(e.forEach($=>{var te;let ee=o.routes[$.route.id];!ee||!ee.hasLoader||(!g.some(ce=>ce.route.id===$.route.id)&&$.route.id in f&&((te=u[$.route.id])!=null&&te.shouldRevalidate)||ee.hasClientLoader?U=!0:P.add($.route.id))}),P.size===0)return[];let F=MT(n,c,s.unstable_trailingSlashAwareDataRequests,"data");return U&&P.size>0&&F.searchParams.set("_routes",e.filter($=>P.has($.route.id)).map($=>$.route.id).join(",")),[F.pathname+F.search]},[c,s.unstable_trailingSlashAwareDataRequests,f,r,o,g,e,n,u]),b=de.useMemo(()=>VT(w,o),[w,o]),M=YT(w);return de.createElement(de.Fragment,null,A.map(P=>de.createElement("link",{key:P,rel:"prefetch",as:"fetch",href:P,...t})),b.map(P=>de.createElement("link",{key:P,rel:"modulepreload",href:P,...t})),M.map(({key:P,link:U})=>de.createElement("link",{key:P,nonce:t.nonce,...U,crossOrigin:U.crossOrigin??t.crossOrigin})))}function WT(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var XT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{XT&&(window.__reactRouterVersion="7.13.0")}catch{}function QT(n,e){return Ax({basename:e==null?void 0:e.basename,getContext:e==null?void 0:e.getContext,future:e==null?void 0:e.future,history:F6({window:e==null?void 0:e.window}),hydrationData:JT(),routes:n,mapRouteProperties:bT,hydrationRouteProperties:_T,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window,unstable_instrumentations:e==null?void 0:e.unstable_instrumentations}).initialize()}function JT(){let n=window==null?void 0:window.__staticRouterHydrationData;return n&&n.errors&&(n={...n,errors:ZT(n.errors)}),n}function ZT(n){if(!n)return null;let e=Object.entries(n),t={};for(let[r,s]of e)if(s&&s.__type==="RouteErrorResponse")t[r]=new Td(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let o=window[s.__subType];if(typeof o=="function")try{let u=new o(s.message);u.stack="",t[r]=u}catch{}}if(t[r]==null){let o=new Error(s.message);o.stack="",t[r]=o}}else t[r]=s;return t}var U4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,F4=de.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:s,reloadDocument:o,replace:u,state:c,target:f,to:d,preventScrollReset:g,viewTransition:w,unstable_defaultShouldRevalidate:A,...b},M){let{basename:P,unstable_useTransitions:U}=de.useContext(Ts),F=typeof d=="string"&&U4.test(d),$=y4(d,P);d=$.to;let ee=eT(d,{relative:s}),[te,ce,Ee]=GT(r,b),O=nN(d,{replace:u,state:c,target:f,preventScrollReset:g,relative:s,viewTransition:w,unstable_defaultShouldRevalidate:A,unstable_useTransitions:U});function k(q){e&&e(q),q.defaultPrevented||O(q)}let R=de.createElement("a",{...b,...Ee,href:$.absoluteURL||ee,onClick:$.isExternal||o?e:k,ref:WT(M,ce),target:f,"data-discover":!F&&t==="render"?"true":void 0});return te&&!F?de.createElement(de.Fragment,null,R,de.createElement($T,{page:ee})):R});F4.displayName="Link";var Xf=de.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:s=!1,style:o,to:u,viewTransition:c,children:f,...d},g){let w=Rd(u,{relative:d.relative}),A=$l(),b=de.useContext(Cd),{navigator:M,basename:P}=de.useContext(Ts),U=b!=null&&oN(w)&&c===!0,F=M.encodeLocation?M.encodeLocation(w).pathname:w.pathname,$=A.pathname,ee=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;t||($=$.toLowerCase(),ee=ee?ee.toLowerCase():null,F=F.toLowerCase()),ee&&P&&(ee=Ks(ee,P)||ee);const te=F!=="/"&&F.endsWith("/")?F.length-1:F.length;let ce=$===F||!s&&$.startsWith(F)&&$.charAt(te)==="/",Ee=ee!=null&&(ee===F||!s&&ee.startsWith(F)&&ee.charAt(F.length)==="/"),O={isActive:ce,isPending:Ee,isTransitioning:U},k=ce?e:void 0,R;typeof r=="function"?R=r(O):R=[r,ce?"active":null,Ee?"pending":null,U?"transitioning":null].filter(Boolean).join(" ");let q=typeof o=="function"?o(O):o;return de.createElement(F4,{...d,"aria-current":k,className:R,ref:g,style:q,to:u,viewTransition:c},typeof f=="function"?f(O):f)});Xf.displayName="NavLink";var eN=de.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:s,state:o,method:u=nm,action:c,onSubmit:f,relative:d,preventScrollReset:g,viewTransition:w,unstable_defaultShouldRevalidate:A,...b},M)=>{let{unstable_useTransitions:P}=de.useContext(Ts),U=aN(),F=sN(c,{relative:d}),$=u.toLowerCase()==="get"?"get":"post",ee=typeof c=="string"&&U4.test(c),te=ce=>{if(f&&f(ce),ce.defaultPrevented)return;ce.preventDefault();let Ee=ce.nativeEvent.submitter,O=(Ee==null?void 0:Ee.getAttribute("formmethod"))||u,k=()=>U(Ee||ce.currentTarget,{fetcherKey:e,method:O,navigate:t,replace:s,state:o,relative:d,preventScrollReset:g,viewTransition:w,unstable_defaultShouldRevalidate:A});P&&t!==!1?de.startTransition(()=>k()):k()};return de.createElement("form",{ref:M,method:$,action:F,onSubmit:r?f:te,...b,"data-discover":!ee&&n==="render"?"true":void 0})});eN.displayName="Form";function tN(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function V4(n){let e=de.useContext(Ic);return Cn(e,tN(n)),e}function nN(n,{target:e,replace:t,state:r,preventScrollReset:s,relative:o,viewTransition:u,unstable_defaultShouldRevalidate:c,unstable_useTransitions:f}={}){let d=Km(),g=$l(),w=Rd(n,{relative:o});return de.useCallback(A=>{if(kT(A,e)){A.preventDefault();let b=t!==void 0?t:al(g)===al(w),M=()=>d(n,{replace:b,state:r,preventScrollReset:s,relative:o,viewTransition:u,unstable_defaultShouldRevalidate:c});f?de.startTransition(()=>M()):M()}},[g,d,w,t,r,e,n,s,o,u,c,f])}var rN=0,iN=()=>`__${String(++rN)}__`;function aN(){let{router:n}=V4("useSubmit"),{basename:e}=de.useContext(Ts),t=dT(),r=n.fetch,s=n.navigate;return de.useCallback(async(o,u={})=>{let{action:c,method:f,encType:d,formData:g,body:w}=PT(o,e);if(u.navigate===!1){let A=u.fetcherKey||iN();await r(A,t,u.action||c,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:g,body:w,formMethod:u.method||f,formEncType:u.encType||d,flushSync:u.flushSync})}else await s(u.action||c,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:g,body:w,formMethod:u.method||f,formEncType:u.encType||d,replace:u.replace,state:u.state,fromRouteId:t,flushSync:u.flushSync,viewTransition:u.viewTransition})},[r,s,e,t])}function sN(n,{relative:e}={}){let{basename:t}=de.useContext(Ts),r=de.useContext(To);Cn(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),o={...Rd(n||".",{relative:e})},u=$l();if(n==null){o.search=u.search;let c=new URLSearchParams(o.search),f=c.getAll("index");if(f.some(g=>g==="")){c.delete("index"),f.filter(w=>w).forEach(w=>c.append("index",w));let g=c.toString();o.search=g?`?${g}`:""}}return(!n||n===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:Zo([t,o.pathname])),al(o)}function oN(n,{relative:e}={}){let t=de.useContext(y2);Cn(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=V4("useViewTransitionState"),s=Rd(n,{relative:e});if(!t.isTransitioning)return!1;let o=Ks(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=Ks(t.nextLocation.pathname,r)||t.nextLocation.pathname;return _m(s.pathname,u)!=null||_m(s.pathname,o)!=null}var lN=u4();function uN(n){return de.createElement(ET,{flushSync:lN.flushSync,...n})}const B4=de.createContext(null),z4="vibe-finance-theme";function cN(){try{const n=localStorage.getItem(z4);if(n==="light"||n==="dark")return n}catch{}return"dark"}function hN({children:n}){const[e,t]=de.useState(cN);de.useEffect(()=>{const s=document.documentElement;s.classList.add("theme-transitioning"),s.classList.remove("light","dark"),s.classList.add(e),localStorage.setItem(z4,e);const o=setTimeout(()=>{s.classList.remove("theme-transitioning")},2100);return()=>clearTimeout(o)},[e]);const r=()=>t(s=>s==="dark"?"light":"dark");return B.jsx(B4.Provider,{value:{theme:e,toggleTheme:r,setTheme:t},children:n})}function fN(){const n=de.useContext(B4);if(!n)throw new Error("useTheme must be used within ThemeProvider");return n}const A2={GBP:{code:"GBP",symbol:"",label:" GBP"},USD:{code:"USD",symbol:"$",label:"$ USD"},EUR:{code:"EUR",symbol:"",label:" EUR"}};function br(n,e){const{symbol:t}=A2[e];return`${t}${n.toLocaleString("en-GB",{minimumFractionDigits:0,maximumFractionDigits:0})}`}const q4=de.createContext(null),H4="vibe-finance-currency";function dN(){try{const n=localStorage.getItem(H4);if(n&&A2[n])return n}catch{}return"GBP"}function pN({children:n}){const[e,t]=de.useState(dN);de.useEffect(()=>{localStorage.setItem(H4,e)},[e]);const r=s=>t(s);return B.jsx(q4.Provider,{value:{currency:A2[e],setCurrency:r},children:n})}function Ld(){const n=de.useContext(q4);if(!n)throw new Error("useCurrency must be used within CurrencyProvider");return n}let mN=0;function Qf(){return`expense-${Date.now()}-${++mN}`}function gN(n,e){switch(e.type){case"SET_INCOME":return{...n,income:e.payload};case"SET_INCOME_FREQUENCY":return{...n,incomeFrequency:e.payload};case"ADD_EXPENSE":return{...n,expenses:[...n.expenses,{id:Qf(),name:e.payload.name,amount:e.payload.amount,icon:e.payload.icon}]};case"REMOVE_EXPENSE":return{...n,expenses:n.expenses.filter(t=>t.id!==e.payload)};case"UPDATE_EXPENSE":return{...n,expenses:n.expenses.map(t=>t.id===e.payload.id?{...t,...e.payload}:t)};default:return n}}const yN=[{id:Qf(),name:"Housing",amount:1200,icon:""},{id:Qf(),name:"Groceries",amount:350,icon:""},{id:Qf(),name:"Transportation",amount:200,icon:""},{id:Qf(),name:"Dining Out",amount:150,icon:""}],vN={income:4500,incomeFrequency:"monthly",expenses:yN},G4="vf-calculator";function bN(){try{const n=localStorage.getItem(G4);if(n){const e=JSON.parse(n);if(e&&typeof e.income=="number"&&Array.isArray(e.expenses))return e}}catch{}return vN}const $4=de.createContext(null);function _N({children:n}){const[e,t]=de.useReducer(gN,null,bN);return de.useEffect(()=>{try{localStorage.setItem(G4,JSON.stringify(e))}catch{}},[e]),B.jsx($4.Provider,{value:{state:e,dispatch:t},children:n})}function Xm(){const n=de.useContext($4);if(!n)throw new Error("useCalculator must be used within CalculatorProvider");return n}const wN=()=>{};var _b={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y4=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},EN=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=n[t++];e[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=n[t++],u=n[t++],c=n[t++],f=((s&7)<<18|(o&63)<<12|(u&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const o=n[t++],u=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|u&63)}}return e.join("")},K4={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const o=n[s],u=s+1<n.length,c=u?n[s+1]:0,f=s+2<n.length,d=f?n[s+2]:0,g=o>>2,w=(o&3)<<4|c>>4;let A=(c&15)<<2|d>>6,b=d&63;f||(b=64,u||(A=64)),r.push(t[g],t[w],t[A],t[b])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Y4(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):EN(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const o=t[n.charAt(s++)],c=s<n.length?t[n.charAt(s)]:0;++s;const d=s<n.length?t[n.charAt(s)]:64;++s;const w=s<n.length?t[n.charAt(s)]:64;if(++s,o==null||c==null||d==null||w==null)throw new AN;const A=o<<2|c>>4;if(r.push(A),d!==64){const b=c<<4&240|d>>2;if(r.push(b),w!==64){const M=d<<6&192|w;r.push(M)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class AN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const SN=function(n){const e=Y4(n);return K4.encodeByteArray(e,!0)},wm=function(n){return SN(n).replace(/\./g,"")},W4=function(n){try{return K4.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TN=()=>xN().__FIREBASE_DEFAULTS__,NN=()=>{if(typeof process>"u"||typeof _b>"u")return;const n=_b.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},CN=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&W4(n[1]);return e&&JSON.parse(e)},Qm=()=>{try{return wN()||TN()||NN()||CN()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},X4=n=>{var e,t;return(t=(e=Qm())==null?void 0:e.emulatorHosts)==null?void 0:t[n]},RN=n=>{const e=X4(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Q4=()=>{var n;return(n=Qm())==null?void 0:n.config},J4=n=>{var e;return(e=Qm())==null?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wh(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Z4(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IN(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...n};return[wm(JSON.stringify(t)),wm(JSON.stringify(u)),""].join(".")}const rd={};function kN(){const n={prod:[],emulator:[]};for(const e of Object.keys(rd))rd[e]?n.emulator.push(e):n.prod.push(e);return n}function ON(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let wb=!1;function e3(n,e){if(typeof window>"u"||typeof document>"u"||!Wh(window.location.host)||rd[n]===e||rd[n]||wb)return;rd[n]=e;function t(A){return`__firebase__banner__${A}`}const r="__firebase__banner",o=kN().prod.length>0;function u(){const A=document.getElementById(r);A&&A.remove()}function c(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function f(A,b){A.setAttribute("width","24"),A.setAttribute("id",b),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function d(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{wb=!0,u()},A}function g(A,b){A.setAttribute("id",b),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function w(){const A=ON(r),b=t("text"),M=document.getElementById(b)||document.createElement("span"),P=t("learnmore"),U=document.getElementById(P)||document.createElement("a"),F=t("preprendIcon"),$=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const ee=A.element;c(ee),g(U,P);const te=d();f($,F),ee.append($,M,U,te),document.body.appendChild(ee)}o?(M.innerText="Preview backend disconnected.",$.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):($.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,M.innerText="Preview backend running in this workspace."),M.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ia(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function DN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ia())}function PN(){var e;const n=(e=Qm())==null?void 0:e.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function MN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function jN(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function UN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function FN(){const n=Ia();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function VN(){return!PN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function BN(){try{return typeof indexedDB=="object"}catch{return!1}}function zN(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var o;e(((o=s.error)==null?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qN="FirebaseError";class Yl extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=qN,Object.setPrototypeOf(this,Yl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Id.prototype.create)}}class Id{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,o=this.errors[e],u=o?HN(o,r):"Error",c=`${this.serviceName}: ${u} (${s}).`;return new Yl(s,c,r)}}function HN(n,e){return n.replace(GN,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const GN=/\{\$([^}]+)}/g;function $N(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ec(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const o=n[s],u=e[s];if(Eb(o)&&Eb(u)){if(!Ec(o,u))return!1}else if(o!==u)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function Eb(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kd(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function YN(n,e){const t=new KN(n,e);return t.subscribe.bind(t)}class KN{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");WN(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=B1),s.error===void 0&&(s.error=B1),s.complete===void 0&&(s.complete=B1);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function WN(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function B1(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xs(n){return n&&n._delegate?n._delegate:n}class Ac{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fc="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new LN;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(JN(e))try{this.getOrInitializeService({instanceIdentifier:fc})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(e=fc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=fc){return this.instances.has(e)}getOptions(e=fc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,u]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);r===c&&u.resolve(s)}return s}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:QN(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=fc){return this.component?this.component.multipleInstances?e:fc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function QN(n){return n===fc?void 0:n}function JN(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new XN(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Un;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Un||(Un={}));const e8={debug:Un.DEBUG,verbose:Un.VERBOSE,info:Un.INFO,warn:Un.WARN,error:Un.ERROR,silent:Un.SILENT},t8=Un.INFO,n8={[Un.DEBUG]:"log",[Un.VERBOSE]:"log",[Un.INFO]:"info",[Un.WARN]:"warn",[Un.ERROR]:"error"},r8=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=n8[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class S2{constructor(e){this.name=e,this._logLevel=t8,this._logHandler=r8,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Un))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?e8[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Un.DEBUG,...e),this._logHandler(this,Un.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Un.VERBOSE,...e),this._logHandler(this,Un.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Un.INFO,...e),this._logHandler(this,Un.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Un.WARN,...e),this._logHandler(this,Un.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Un.ERROR,...e),this._logHandler(this,Un.ERROR,...e)}}const i8=(n,e)=>e.some(t=>n instanceof t);let Ab,Sb;function a8(){return Ab||(Ab=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function s8(){return Sb||(Sb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const t3=new WeakMap,R0=new WeakMap,n3=new WeakMap,z1=new WeakMap,x2=new WeakMap;function o8(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",o),n.removeEventListener("error",u)},o=()=>{t(Du(n.result)),s()},u=()=>{r(n.error),s()};n.addEventListener("success",o),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&t3.set(t,n)}).catch(()=>{}),x2.set(e,n),e}function l8(n){if(R0.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",u),n.removeEventListener("abort",u)},o=()=>{t(),s()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",o),n.addEventListener("error",u),n.addEventListener("abort",u)});R0.set(n,e)}let L0={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return R0.get(n);if(e==="objectStoreNames")return n.objectStoreNames||n3.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Du(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function u8(n){L0=n(L0)}function c8(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(q1(this),e,...t);return n3.set(r,e.sort?e.sort():[e]),Du(r)}:s8().includes(n)?function(...e){return n.apply(q1(this),e),Du(t3.get(this))}:function(...e){return Du(n.apply(q1(this),e))}}function h8(n){return typeof n=="function"?c8(n):(n instanceof IDBTransaction&&l8(n),i8(n,a8())?new Proxy(n,L0):n)}function Du(n){if(n instanceof IDBRequest)return o8(n);if(z1.has(n))return z1.get(n);const e=h8(n);return e!==n&&(z1.set(n,e),x2.set(e,n)),e}const q1=n=>x2.get(n);function f8(n,e,{blocked:t,upgrade:r,blocking:s,terminated:o}={}){const u=indexedDB.open(n,e),c=Du(u);return r&&u.addEventListener("upgradeneeded",f=>{r(Du(u.result),f.oldVersion,f.newVersion,Du(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),c.then(f=>{o&&f.addEventListener("close",()=>o()),s&&f.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}const d8=["get","getKey","getAll","getAllKeys","count"],p8=["put","add","delete","clear"],H1=new Map;function xb(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(H1.get(e))return H1.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=p8.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||d8.includes(t)))return;const o=async function(u,...c){const f=this.transaction(u,s?"readwrite":"readonly");let d=f.store;return r&&(d=d.index(c.shift())),(await Promise.all([d[t](...c),s&&f.done]))[0]};return H1.set(e,o),o}u8(n=>({...n,get:(e,t,r)=>xb(e,t)||n.get(e,t,r),has:(e,t)=>!!xb(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m8{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(g8(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function g8(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const I0="@firebase/app",Tb="0.14.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zl=new S2("@firebase/app"),y8="@firebase/app-compat",v8="@firebase/analytics-compat",b8="@firebase/analytics",_8="@firebase/app-check-compat",w8="@firebase/app-check",E8="@firebase/auth",A8="@firebase/auth-compat",S8="@firebase/database",x8="@firebase/data-connect",T8="@firebase/database-compat",N8="@firebase/functions",C8="@firebase/functions-compat",R8="@firebase/installations",L8="@firebase/installations-compat",I8="@firebase/messaging",k8="@firebase/messaging-compat",O8="@firebase/performance",D8="@firebase/performance-compat",P8="@firebase/remote-config",M8="@firebase/remote-config-compat",j8="@firebase/storage",U8="@firebase/storage-compat",F8="@firebase/firestore",V8="@firebase/ai",B8="@firebase/firestore-compat",z8="firebase",q8="12.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k0="[DEFAULT]",H8={[I0]:"fire-core",[y8]:"fire-core-compat",[b8]:"fire-analytics",[v8]:"fire-analytics-compat",[w8]:"fire-app-check",[_8]:"fire-app-check-compat",[E8]:"fire-auth",[A8]:"fire-auth-compat",[S8]:"fire-rtdb",[x8]:"fire-data-connect",[T8]:"fire-rtdb-compat",[N8]:"fire-fn",[C8]:"fire-fn-compat",[R8]:"fire-iid",[L8]:"fire-iid-compat",[I8]:"fire-fcm",[k8]:"fire-fcm-compat",[O8]:"fire-perf",[D8]:"fire-perf-compat",[P8]:"fire-rc",[M8]:"fire-rc-compat",[j8]:"fire-gcs",[U8]:"fire-gcs-compat",[F8]:"fire-fst",[B8]:"fire-fst-compat",[V8]:"fire-vertex","fire-js":"fire-js",[z8]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Em=new Map,G8=new Map,O0=new Map;function Nb(n,e){try{n.container.addComponent(e)}catch(t){zl.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Bh(n){const e=n.name;if(O0.has(e))return zl.debug(`There were multiple attempts to register component ${e}.`),!1;O0.set(e,n);for(const t of Em.values())Nb(t,n);for(const t of G8.values())Nb(t,n);return!0}function T2(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function bo(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $8={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Pu=new Id("app","Firebase",$8);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y8{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ac("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Pu.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xh=q8;function r3(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:k0,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Pu.create("bad-app-name",{appName:String(s)});if(t||(t=Q4()),!t)throw Pu.create("no-options");const o=Em.get(s);if(o){if(Ec(t,o.options)&&Ec(r,o.config))return o;throw Pu.create("duplicate-app",{appName:s})}const u=new ZN(s);for(const f of O0.values())u.addComponent(f);const c=new Y8(t,r,u);return Em.set(s,c),c}function i3(n=k0){const e=Em.get(n);if(!e&&n===k0&&Q4())return r3();if(!e)throw Pu.create("no-app",{appName:n});return e}function Mu(n,e,t){let r=H8[n]??n;t&&(r+=`-${t}`);const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const u=[`Unable to register library "${r}" with version "${e}":`];s&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&u.push("and"),o&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),zl.warn(u.join(" "));return}Bh(new Ac(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K8="firebase-heartbeat-database",W8=1,md="firebase-heartbeat-store";let G1=null;function a3(){return G1||(G1=f8(K8,W8,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(md)}catch(t){console.warn(t)}}}}).catch(n=>{throw Pu.create("idb-open",{originalErrorMessage:n.message})})),G1}async function X8(n){try{const t=(await a3()).transaction(md),r=await t.objectStore(md).get(s3(n));return await t.done,r}catch(e){if(e instanceof Yl)zl.warn(e.message);else{const t=Pu.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});zl.warn(t.message)}}}async function Cb(n,e){try{const r=(await a3()).transaction(md,"readwrite");await r.objectStore(md).put(e,s3(n)),await r.done}catch(t){if(t instanceof Yl)zl.warn(t.message);else{const r=Pu.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});zl.warn(r.message)}}}function s3(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q8=1024,J8=30;class Z8{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new tC(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Rb();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(u=>u.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats.length>J8){const u=nC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){zl.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Rb(),{heartbeatsToSend:r,unsentEntries:s}=eC(this._heartbeatsCache.heartbeats),o=wm(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return zl.warn(t),""}}}function Rb(){return new Date().toISOString().substring(0,10)}function eC(n,e=Q8){const t=[];let r=n.slice();for(const s of n){const o=t.find(u=>u.agent===s.agent);if(o){if(o.dates.push(s.date),Lb(t)>e){o.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),Lb(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class tC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return BN()?zN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await X8(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Cb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Cb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Lb(n){return wm(JSON.stringify({version:2,heartbeats:n})).length}function nC(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rC(n){Bh(new Ac("platform-logger",e=>new m8(e),"PRIVATE")),Bh(new Ac("heartbeat",e=>new Z8(e),"PRIVATE")),Mu(I0,Tb,n),Mu(I0,Tb,"esm2020"),Mu("fire-js","")}rC("");function o3(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const iC=o3,l3=new Id("auth","Firebase",o3());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Am=new S2("@firebase/auth");function aC(n,...e){Am.logLevel<=Un.WARN&&Am.warn(`Auth (${Xh}): ${n}`,...e)}function im(n,...e){Am.logLevel<=Un.ERROR&&Am.error(`Auth (${Xh}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sl(n,...e){throw C2(n,...e)}function Eo(n,...e){return C2(n,...e)}function N2(n,e,t){const r={...iC(),[e]:t};return new Id("auth","Firebase",r).create(e,{appName:n.name})}function bc(n){return N2(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function sC(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&sl(n,"argument-error"),N2(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function C2(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return l3.create(n,...e)}function mn(n,e,...t){if(!n)throw C2(e,...t)}function Fl(n){const e="INTERNAL ASSERTION FAILED: "+n;throw im(e),new Error(e)}function ql(n,e){n||Fl(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D0(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.href)||""}function oC(){return Ib()==="http:"||Ib()==="https:"}function Ib(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(oC()||jN()||"connection"in navigator)?navigator.onLine:!0}function uC(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(e,t){this.shortDelay=e,this.longDelay=t,ql(t>e,"Short delay should be less than long delay!"),this.isMobile=DN()||UN()}get(){return lC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R2(n,e){ql(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u3{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Fl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Fl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Fl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],fC=new Od(3e4,6e4);function L2(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Qh(n,e,t,r,s={}){return c3(n,s,async()=>{let o={},u={};r&&(e==="GET"?u=r:o={body:JSON.stringify(r)});const c=kd({key:n.config.apiKey,...u}).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const d={method:e,headers:f,...o};return MN()||(d.referrerPolicy="no-referrer"),n.emulatorConfig&&Wh(n.emulatorConfig.host)&&(d.credentials="include"),u3.fetch()(await h3(n,n.config.apiHost,t,c),d)})}async function c3(n,e,t){n._canInitEmulator=!1;const r={...cC,...e};try{const s=new pC(n),o=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw Fp(n,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const c=o.ok?u.errorMessage:u.error.message,[f,d]=c.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Fp(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw Fp(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw Fp(n,"user-disabled",u);const g=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw N2(n,g,d);sl(n,g)}}catch(s){if(s instanceof Yl)throw s;sl(n,"network-request-failed",{message:String(s)})}}async function dC(n,e,t,r,s={}){const o=await Qh(n,e,t,r,s);return"mfaPendingCredential"in o&&sl(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function h3(n,e,t,r){const s=`${e}${t}?${r}`,o=n,u=o.config.emulator?R2(n.config,s):`${n.config.apiScheme}://${s}`;return hC.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(u).toString():u}class pC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Eo(this.auth,"network-request-failed")),fC.get())})}}function Fp(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=Eo(n,e,r);return s.customData._tokenResponse=t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mC(n,e){return Qh(n,"POST","/v1/accounts:delete",e)}async function Sm(n,e){return Qh(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function id(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function gC(n,e=!1){const t=xs(n),r=await t.getIdToken(e),s=I2(r);mn(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,u=o==null?void 0:o.sign_in_provider;return{claims:s,token:r,authTime:id($1(s.auth_time)),issuedAtTime:id($1(s.iat)),expirationTime:id($1(s.exp)),signInProvider:u||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function $1(n){return Number(n)*1e3}function I2(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return im("JWT malformed, contained fewer than 3 sections"),null;try{const s=W4(t);return s?JSON.parse(s):(im("Failed to decode base64 JWT payload"),null)}catch(s){return im("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function kb(n){const e=I2(n);return mn(e,"internal-error"),mn(typeof e.exp<"u","internal-error"),mn(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gd(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Yl&&yC(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function yC({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=id(this.lastLoginAt),this.creationTime=id(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xm(n){var w;const e=n.auth,t=await n.getIdToken(),r=await gd(n,Sm(e,{idToken:t}));mn(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];n._notifyReloadListener(s);const o=(w=s.providerUserInfo)!=null&&w.length?f3(s.providerUserInfo):[],u=_C(n.providerData,o),c=n.isAnonymous,f=!(n.email&&s.passwordHash)&&!(u!=null&&u.length),d=c?f:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:u,metadata:new P0(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(n,g)}async function bC(n){const e=xs(n);await xm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function _C(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function f3(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wC(n,e){const t=await c3(n,{},async()=>{const r=kd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=n.config,u=await h3(n,s,"/v1/token",`key=${o}`),c=await n._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:c,body:r};return n.emulatorConfig&&Wh(n.emulatorConfig.host)&&(f.credentials="include"),u3.fetch()(u,f)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function EC(n,e){return Qh(n,"POST","/v2/accounts:revokeToken",L2(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){mn(e.idToken,"internal-error"),mn(typeof e.idToken<"u","internal-error"),mn(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):kb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){mn(e.length!==0,"internal-error");const t=kb(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(mn(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:o}=await wC(e,t);this.updateTokensAndExpiration(r,s,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:o}=t,u=new Ih;return r&&(mn(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),s&&(mn(typeof s=="string","internal-error",{appName:e}),u.accessToken=s),o&&(mn(typeof o=="number","internal-error",{appName:e}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ih,this.toJSON())}_performRefresh(){return Fl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Au(n,e){mn(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class _o{constructor({uid:e,auth:t,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new vC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new P0(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await gd(this,this.stsTokenManager.getToken(this.auth,e));return mn(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return gC(this,e)}reload(){return bC(this)}_assign(e){this!==e&&(mn(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new _o({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){mn(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await xm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(bo(this.auth.app))return Promise.reject(bc(this.auth));const e=await this.getIdToken();return await gd(this,mC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,s=t.email??void 0,o=t.phoneNumber??void 0,u=t.photoURL??void 0,c=t.tenantId??void 0,f=t._redirectEventId??void 0,d=t.createdAt??void 0,g=t.lastLoginAt??void 0,{uid:w,emailVerified:A,isAnonymous:b,providerData:M,stsTokenManager:P}=t;mn(w&&P,e,"internal-error");const U=Ih.fromJSON(this.name,P);mn(typeof w=="string",e,"internal-error"),Au(r,e.name),Au(s,e.name),mn(typeof A=="boolean",e,"internal-error"),mn(typeof b=="boolean",e,"internal-error"),Au(o,e.name),Au(u,e.name),Au(c,e.name),Au(f,e.name),Au(d,e.name),Au(g,e.name);const F=new _o({uid:w,auth:e,email:s,emailVerified:A,displayName:r,isAnonymous:b,photoURL:u,phoneNumber:o,tenantId:c,stsTokenManager:U,createdAt:d,lastLoginAt:g});return M&&Array.isArray(M)&&(F.providerData=M.map($=>({...$}))),f&&(F._redirectEventId=f),F}static async _fromIdTokenResponse(e,t,r=!1){const s=new Ih;s.updateFromServerResponse(t);const o=new _o({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await xm(o),o}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];mn(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?f3(s.providerUserInfo):[],u=!(s.email&&s.passwordHash)&&!(o!=null&&o.length),c=new Ih;c.updateFromIdToken(r);const f=new _o({uid:s.localId,auth:e,stsTokenManager:c,isAnonymous:u}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new P0(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(o!=null&&o.length)};return Object.assign(f,d),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ob=new Map;function Vl(n){ql(n instanceof Function,"Expected a class definition");let e=Ob.get(n);return e?(ql(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Ob.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d3{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}d3.type="NONE";const Db=d3;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function am(n,e,t){return`firebase:${n}:${e}:${t}`}class kh{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:o}=this.auth;this.fullUserKey=am(this.userKey,s.apiKey,o),this.fullPersistenceKey=am("persistence",s.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Sm(this.auth,{idToken:e}).catch(()=>{});return t?_o._fromGetAccountInfoResponse(this.auth,t,e):null}return _o._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new kh(Vl(Db),e,r);const s=(await Promise.all(t.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let o=s[0]||Vl(Db);const u=am(r,e.config.apiKey,e.name);let c=null;for(const d of t)try{const g=await d._get(u);if(g){let w;if(typeof g=="string"){const A=await Sm(e,{idToken:g}).catch(()=>{});if(!A)break;w=await _o._fromGetAccountInfoResponse(e,A,g)}else w=_o._fromJSON(e,g);d!==o&&(c=w),o=d;break}}catch{}const f=s.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new kh(o,e,r):(o=f[0],c&&await o._set(u,c.toJSON()),await Promise.all(t.map(async d=>{if(d!==o)try{await d._remove(u)}catch{}})),new kh(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pb(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(y3(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(p3(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(b3(e))return"Blackberry";if(_3(e))return"Webos";if(m3(e))return"Safari";if((e.includes("chrome/")||g3(e))&&!e.includes("edge/"))return"Chrome";if(v3(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function p3(n=Ia()){return/firefox\//i.test(n)}function m3(n=Ia()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function g3(n=Ia()){return/crios\//i.test(n)}function y3(n=Ia()){return/iemobile/i.test(n)}function v3(n=Ia()){return/android/i.test(n)}function b3(n=Ia()){return/blackberry/i.test(n)}function _3(n=Ia()){return/webos/i.test(n)}function k2(n=Ia()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function AC(n=Ia()){var e;return k2(n)&&!!((e=window.navigator)!=null&&e.standalone)}function SC(){return FN()&&document.documentMode===10}function w3(n=Ia()){return k2(n)||v3(n)||_3(n)||b3(n)||/windows phone/i.test(n)||y3(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E3(n,e=[]){let t;switch(n){case"Browser":t=Pb(Ia());break;case"Worker":t=`${Pb(Ia())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Xh}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((u,c)=>{try{const f=e(o);u(f)}catch(f){c(f)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TC(n,e={}){return Qh(n,"GET","/v2/passwordPolicy",L2(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC=6;class CC{constructor(e){var r;const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??NC,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Mb(this),this.idTokenSubscription=new Mb(this),this.beforeStateQueue=new xC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=l3,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Vl(t)),this._initializationPromise=this.queue(async()=>{var r,s,o;if(!this._deleted&&(this.persistenceManager=await kh.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)==null?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Sm(this,{idToken:e}),r=await _o._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var o;if(bo(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(c,c))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(o=this.redirectUser)==null?void 0:o._redirectEventId,c=r==null?void 0:r._redirectEventId,f=await this.tryRedirectSignIn(e);(!u||u===c)&&(f!=null&&f.user)&&(r=f.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return mn(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await xm(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=uC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(bo(this.app))return Promise.reject(bc(this));const t=e?xs(e):null;return t&&mn(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&mn(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return bo(this.app)?Promise.reject(bc(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return bo(this.app)?Promise.reject(bc(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Vl(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await TC(this),t=new CC(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Id("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await EC(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Vl(e)||this._popupRedirectResolver;mn(t,this,"argument-error"),this.redirectPersistenceManager=await kh.create(this,[Vl(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)==null?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((t=this.currentUser)==null?void 0:t.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let u=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(mn(c,this,"internal-error"),c.then(()=>{u||o(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,s);return()=>{u=!0,f()}}else{const f=e.addObserver(t);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return mn(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=E3(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var t;if(bo(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:t.getToken());return e!=null&&e.error&&aC(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Jm(n){return xs(n)}class Mb{constructor(e){this.auth=e,this.observer=null,this.addObserver=YN(t=>this.observer=t)}get next(){return mn(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let O2={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function LC(n){O2=n}function IC(n){return O2.loadJS(n)}function kC(){return O2.gapiScript}function OC(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DC(n,e){const t=T2(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),o=t.getOptions();if(Ec(o,e??{}))return s;sl(s,"already-initialized")}return t.initialize({options:e})}function PC(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Vl);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function MC(n,e,t){const r=Jm(n);mn(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,o=A3(e),{host:u,port:c}=jC(e),f=c===null?"":`:${c}`,d={url:`${o}//${u}${f}/`},g=Object.freeze({host:u,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){mn(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),mn(Ec(d,r.config.emulator)&&Ec(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,Wh(u)?(Z4(`${o}//${u}${f}`),e3("Auth",!0)):UC()}function A3(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function jC(n){const e=A3(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const o=s[1];return{host:o,port:jb(r.substr(o.length+1))}}else{const[o,u]=r.split(":");return{host:o,port:jb(u)}}}function jb(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function UC(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S3{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Fl("not implemented")}_getIdTokenResponse(e){return Fl("not implemented")}_linkToIdToken(e,t){return Fl("not implemented")}_getReauthenticationResolver(e){return Fl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oh(n,e){return dC(n,"POST","/v1/accounts:signInWithIdp",L2(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC="http://localhost";class Sc extends S3{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Sc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):sl("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...o}=t;if(!r||!s)return null;const u=new Sc(r,s);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Oh(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Oh(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Oh(e,t)}buildRequest(){const e={requestUri:FC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=kd(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd extends D2{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu extends Dd{constructor(){super("facebook.com")}static credential(e){return Sc._fromParams({providerId:Cu.PROVIDER_ID,signInMethod:Cu.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Cu.credentialFromTaggedObject(e)}static credentialFromError(e){return Cu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Cu.credential(e.oauthAccessToken)}catch{return null}}}Cu.FACEBOOK_SIGN_IN_METHOD="facebook.com";Cu.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo extends Dd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Sc._fromParams({providerId:Qo.PROVIDER_ID,signInMethod:Qo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Qo.credentialFromTaggedObject(e)}static credentialFromError(e){return Qo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Qo.credential(t,r)}catch{return null}}}Qo.GOOGLE_SIGN_IN_METHOD="google.com";Qo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru extends Dd{constructor(){super("github.com")}static credential(e){return Sc._fromParams({providerId:Ru.PROVIDER_ID,signInMethod:Ru.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ru.credentialFromTaggedObject(e)}static credentialFromError(e){return Ru.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ru.credential(e.oauthAccessToken)}catch{return null}}}Ru.GITHUB_SIGN_IN_METHOD="github.com";Ru.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu extends Dd{constructor(){super("twitter.com")}static credential(e,t){return Sc._fromParams({providerId:Lu.PROVIDER_ID,signInMethod:Lu.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Lu.credentialFromTaggedObject(e)}static credentialFromError(e){return Lu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Lu.credential(t,r)}catch{return null}}}Lu.TWITTER_SIGN_IN_METHOD="twitter.com";Lu.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const o=await _o._fromIdTokenResponse(e,r,s),u=Ub(r);return new zh({user:o,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=Ub(r);return new zh({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function Ub(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm extends Yl{constructor(e,t,r,s){super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Tm.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new Tm(e,t,r,s)}}function x3(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Tm._fromErrorAndOperation(n,o,e,r):o})}async function VC(n,e,t=!1){const r=await gd(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return zh._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BC(n,e,t=!1){const{auth:r}=n;if(bo(r.app))return Promise.reject(bc(r));const s="reauthenticate";try{const o=await gd(n,x3(r,s,e,n),t);mn(o.idToken,r,"internal-error");const u=I2(o.idToken);mn(u,r,"internal-error");const{sub:c}=u;return mn(n.uid===c,r,"user-mismatch"),zh._forOperation(n,s,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&sl(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zC(n,e,t=!1){if(bo(n.app))return Promise.reject(bc(n));const r="signIn",s=await x3(n,r,e),o=await zh._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(o.user),o}function qC(n,e,t,r){return xs(n).onIdTokenChanged(e,t,r)}function HC(n,e,t){return xs(n).beforeAuthStateChanged(e,t)}function GC(n,e,t,r){return xs(n).onAuthStateChanged(e,t,r)}function $C(n){return xs(n).signOut()}const Nm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T3{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Nm,"1"),this.storage.removeItem(Nm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YC=1e3,KC=10;class N3 extends T3{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=w3(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,c,f)=>{this.notifyListeners(u,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},o=this.storage.getItem(r);SC()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,KC):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},YC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}N3.type="LOCAL";const WC=N3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C3 extends T3{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}C3.type="SESSION";const R3=C3;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XC(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new Zm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:o}=t.data,u=this.handlersMap[s];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const c=Array.from(u).map(async d=>d(t.origin,o)),f=await XC(c);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Zm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P2(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,u;return new Promise((c,f)=>{const d=P2("",20);s.port1.start();const g=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:s,onMessage(w){const A=w;if(A.data.eventId===d)switch(A.data.status){case"ack":clearTimeout(g),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(A.data.response);break;default:clearTimeout(g),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(u),s.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:d,data:t},[s.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function el(){return window}function JC(n){el().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L3(){return typeof el().WorkerGlobalScope<"u"&&typeof el().importScripts=="function"}async function ZC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function eR(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)==null?void 0:n.controller)||null}function tR(){return L3()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I3="firebaseLocalStorageDb",nR=1,Cm="firebaseLocalStorage",k3="fbase_key";class Pd{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function eg(n,e){return n.transaction([Cm],e?"readwrite":"readonly").objectStore(Cm)}function rR(){const n=indexedDB.deleteDatabase(I3);return new Pd(n).toPromise()}function M0(){const n=indexedDB.open(I3,nR);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Cm,{keyPath:k3})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Cm)?e(r):(r.close(),await rR(),e(await M0()))})})}async function Fb(n,e,t){const r=eg(n,!0).put({[k3]:e,value:t});return new Pd(r).toPromise()}async function iR(n,e){const t=eg(n,!1).get(e),r=await new Pd(t).toPromise();return r===void 0?null:r.value}function Vb(n,e){const t=eg(n,!0).delete(e);return new Pd(t).toPromise()}const aR=800,sR=3;class O3{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await M0(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>sR)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return L3()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Zm._getInstance(tR()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var t,r;if(this.activeServiceWorker=await ZC(),!this.activeServiceWorker)return;this.sender=new QC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(t=e[0])!=null&&t.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||eR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await M0();return await Fb(e,Nm,"1"),await Vb(e,Nm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>Fb(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>iR(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Vb(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=eg(s,!1).getAll();return new Pd(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),aR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}O3.type="LOCAL";const oR=O3;new Od(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D3(n,e){return e?Vl(e):(mn(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2 extends S3{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Oh(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Oh(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Oh(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function lR(n){return zC(n.auth,new M2(n),n.bypassAuthState)}function uR(n){const{auth:e,user:t}=n;return mn(t,e,"internal-error"),BC(t,new M2(n),n.bypassAuthState)}async function cR(n){const{auth:e,user:t}=n;return mn(t,e,"internal-error"),VC(t,new M2(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P3{constructor(e,t,r,s,o=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:o,error:u,type:c}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(f))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return lR;case"linkViaPopup":case"linkViaRedirect":return cR;case"reauthViaPopup":case"reauthViaRedirect":return uR;default:sl(this.auth,"internal-error")}}resolve(e){ql(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ql(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hR=new Od(2e3,1e4);async function fR(n,e,t){if(bo(n.app))return Promise.reject(Eo(n,"operation-not-supported-in-this-environment"));const r=Jm(n);sC(n,e,D2);const s=D3(r,t);return new yc(r,"signInViaPopup",e,s).executeNotNull()}class yc extends P3{constructor(e,t,r,s,o){super(e,t,s,o),this.provider=r,this.authWindow=null,this.pollId=null,yc.currentPopupAction&&yc.currentPopupAction.cancel(),yc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return mn(e,this.auth,"internal-error"),e}async onExecution(){ql(this.filter.length===1,"Popup operations only handle one event");const e=P2();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Eo(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Eo(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,yc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if((r=(t=this.authWindow)==null?void 0:t.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Eo(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,hR.get())};e()}}yc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR="pendingRedirect",sm=new Map;class pR extends P3{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=sm.get(this.auth._key());if(!e){try{const r=await mR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}sm.set(this.auth._key(),e)}return this.bypassAuthState||sm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function mR(n,e){const t=vR(e),r=yR(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}function gR(n,e){sm.set(n._key(),e)}function yR(n){return Vl(n._redirectPersistence)}function vR(n){return am(dR,n.config.apiKey,n.name)}async function bR(n,e,t=!1){if(bo(n.app))return Promise.reject(bc(n));const r=Jm(n),s=D3(r,e),u=await new pR(r,s,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R=600*1e3;class wR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!ER(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!M3(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";t.onError(Eo(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=_R&&this.cachedEventUids.clear(),this.cachedEventUids.has(Bb(e))}saveEventToCache(e){this.cachedEventUids.add(Bb(e)),this.lastProcessedEventTime=Date.now()}}function Bb(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function M3({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function ER(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return M3(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AR(n,e={}){return Qh(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xR=/^https?/;async function TR(n){if(n.config.emulator)return;const{authorizedDomains:e}=await AR(n);for(const t of e)try{if(NR(t))return}catch{}sl(n,"unauthorized-domain")}function NR(n){const e=D0(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!xR.test(t))return!1;if(SR.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR=new Od(3e4,6e4);function zb(){const n=el().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function RR(n){return new Promise((e,t)=>{var s,o,u;function r(){zb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{zb(),t(Eo(n,"network-request-failed"))},timeout:CR.get()})}if((o=(s=el().gapi)==null?void 0:s.iframes)!=null&&o.Iframe)e(gapi.iframes.getContext());else if((u=el().gapi)!=null&&u.load)r();else{const c=OC("iframefcb");return el()[c]=()=>{gapi.load?r():t(Eo(n,"network-request-failed"))},IC(`${kC()}?onload=${c}`).catch(f=>t(f))}}).catch(e=>{throw om=null,e})}let om=null;function LR(n){return om=om||RR(n),om}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IR=new Od(5e3,15e3),kR="__/auth/iframe",OR="emulator/auth/iframe",DR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},PR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function MR(n){const e=n.config;mn(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?R2(e,OR):`https://${n.config.authDomain}/${kR}`,r={apiKey:e.apiKey,appName:n.name,v:Xh},s=PR.get(n.config.apiHost);s&&(r.eid=s);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${kd(r).slice(1)}`}async function jR(n){const e=await LR(n),t=el().gapi;return mn(t,n,"internal-error"),e.open({where:document.body,url:MR(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:DR,dontclear:!0},r=>new Promise(async(s,o)=>{await r.restyle({setHideOnLeave:!1});const u=Eo(n,"network-request-failed"),c=el().setTimeout(()=>{o(u)},IR.get());function f(){el().clearTimeout(c),s(r)}r.ping(f).then(f,()=>{o(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},FR=500,VR=600,BR="_blank",zR="http://localhost";class qb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function qR(n,e,t,r=FR,s=VR){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const f={...UR,width:r.toString(),height:s.toString(),top:o,left:u},d=Ia().toLowerCase();t&&(c=g3(d)?BR:t),p3(d)&&(e=e||zR,f.scrollbars="yes");const g=Object.entries(f).reduce((A,[b,M])=>`${A}${b}=${M},`,"");if(AC(d)&&c!=="_self")return HR(e||"",c),new qb(null);const w=window.open(e||"",c,g);mn(w,n,"popup-blocked");try{w.focus()}catch{}return new qb(w)}function HR(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR="__/auth/handler",$R="emulator/auth/handler",YR=encodeURIComponent("fac");async function Hb(n,e,t,r,s,o){mn(n.config.authDomain,n,"auth-domain-config-required"),mn(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Xh,eventId:s};if(e instanceof D2){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",$N(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,w]of Object.entries({}))u[g]=w}if(e instanceof Dd){const g=e.getScopes().filter(w=>w!=="");g.length>0&&(u.scopes=g.join(","))}n.tenantId&&(u.tid=n.tenantId);const c=u;for(const g of Object.keys(c))c[g]===void 0&&delete c[g];const f=await n._getAppCheckToken(),d=f?`#${YR}=${encodeURIComponent(f)}`:"";return`${KR(n)}?${kd(c).slice(1)}${d}`}function KR({config:n}){return n.emulator?R2(n,$R):`https://${n.authDomain}/${GR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1="webStorageSupport";class WR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=R3,this._completeRedirectFn=bR,this._overrideRedirectResult=gR}async _openPopup(e,t,r,s){var u;ql((u=this.eventManagers[e._key()])==null?void 0:u.manager,"_initialize() not called before _openPopup()");const o=await Hb(e,t,r,D0(),s);return qR(e,o,P2())}async _openRedirect(e,t,r,s){await this._originValidation(e);const o=await Hb(e,t,r,D0(),s);return JC(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:o}=this.eventManagers[t];return s?Promise.resolve(s):(ql(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await jR(e),r=new wR(e);return t.register("authEvent",s=>(mn(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Y1,{type:Y1},s=>{var u;const o=(u=s==null?void 0:s[0])==null?void 0:u[Y1];o!==void 0&&t(!!o),sl(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=TR(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return w3()||m3()||k2()}}const XR=WR;var Gb="@firebase/auth",$b="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){mn(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JR(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ZR(n){Bh(new Ac("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:u,authDomain:c}=r.options;mn(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:E3(n)},d=new RC(r,s,o,f);return PC(d,t),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Bh(new Ac("auth-internal",e=>{const t=Jm(e.getProvider("auth").getImmediate());return(r=>new QR(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Mu(Gb,$b,JR(n)),Mu(Gb,$b,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eL=300,tL=J4("authIdTokenMaxAge")||eL;let Yb=null;const nL=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>tL)return;const s=t==null?void 0:t.token;Yb!==s&&(Yb=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function rL(n=i3()){const e=T2(n,"auth");if(e.isInitialized())return e.getImmediate();const t=DC(n,{popupRedirectResolver:XR,persistence:[oR,WC,R3]}),r=J4("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const u=nL(o.toString());HC(t,u,()=>u(t.currentUser)),qC(t,c=>u(c))}}const s=X4("auth");return s&&MC(t,`http://${s}`),t}function iL(){var n;return((n=document.getElementsByTagName("head"))==null?void 0:n[0])??document}LC({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const o=Eo("internal-error");o.customData=s,t(o)},r.type="text/javascript",r.charset="UTF-8",iL().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ZR("Browser");var aL="firebase",sL="12.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mu(aL,sL,"app");var Kb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ju,j3;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,k){function R(){}R.prototype=k.prototype,O.F=k.prototype,O.prototype=new R,O.prototype.constructor=O,O.D=function(q,T,D){for(var j=Array(arguments.length-2),le=2;le<arguments.length;le++)j[le-2]=arguments[le];return k.prototype[T].apply(q,j)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(O,k,R){R||(R=0);const q=Array(16);if(typeof k=="string")for(var T=0;T<16;++T)q[T]=k.charCodeAt(R++)|k.charCodeAt(R++)<<8|k.charCodeAt(R++)<<16|k.charCodeAt(R++)<<24;else for(T=0;T<16;++T)q[T]=k[R++]|k[R++]<<8|k[R++]<<16|k[R++]<<24;k=O.g[0],R=O.g[1],T=O.g[2];let D=O.g[3],j;j=k+(D^R&(T^D))+q[0]+3614090360&4294967295,k=R+(j<<7&4294967295|j>>>25),j=D+(T^k&(R^T))+q[1]+3905402710&4294967295,D=k+(j<<12&4294967295|j>>>20),j=T+(R^D&(k^R))+q[2]+606105819&4294967295,T=D+(j<<17&4294967295|j>>>15),j=R+(k^T&(D^k))+q[3]+3250441966&4294967295,R=T+(j<<22&4294967295|j>>>10),j=k+(D^R&(T^D))+q[4]+4118548399&4294967295,k=R+(j<<7&4294967295|j>>>25),j=D+(T^k&(R^T))+q[5]+1200080426&4294967295,D=k+(j<<12&4294967295|j>>>20),j=T+(R^D&(k^R))+q[6]+2821735955&4294967295,T=D+(j<<17&4294967295|j>>>15),j=R+(k^T&(D^k))+q[7]+4249261313&4294967295,R=T+(j<<22&4294967295|j>>>10),j=k+(D^R&(T^D))+q[8]+1770035416&4294967295,k=R+(j<<7&4294967295|j>>>25),j=D+(T^k&(R^T))+q[9]+2336552879&4294967295,D=k+(j<<12&4294967295|j>>>20),j=T+(R^D&(k^R))+q[10]+4294925233&4294967295,T=D+(j<<17&4294967295|j>>>15),j=R+(k^T&(D^k))+q[11]+2304563134&4294967295,R=T+(j<<22&4294967295|j>>>10),j=k+(D^R&(T^D))+q[12]+1804603682&4294967295,k=R+(j<<7&4294967295|j>>>25),j=D+(T^k&(R^T))+q[13]+4254626195&4294967295,D=k+(j<<12&4294967295|j>>>20),j=T+(R^D&(k^R))+q[14]+2792965006&4294967295,T=D+(j<<17&4294967295|j>>>15),j=R+(k^T&(D^k))+q[15]+1236535329&4294967295,R=T+(j<<22&4294967295|j>>>10),j=k+(T^D&(R^T))+q[1]+4129170786&4294967295,k=R+(j<<5&4294967295|j>>>27),j=D+(R^T&(k^R))+q[6]+3225465664&4294967295,D=k+(j<<9&4294967295|j>>>23),j=T+(k^R&(D^k))+q[11]+643717713&4294967295,T=D+(j<<14&4294967295|j>>>18),j=R+(D^k&(T^D))+q[0]+3921069994&4294967295,R=T+(j<<20&4294967295|j>>>12),j=k+(T^D&(R^T))+q[5]+3593408605&4294967295,k=R+(j<<5&4294967295|j>>>27),j=D+(R^T&(k^R))+q[10]+38016083&4294967295,D=k+(j<<9&4294967295|j>>>23),j=T+(k^R&(D^k))+q[15]+3634488961&4294967295,T=D+(j<<14&4294967295|j>>>18),j=R+(D^k&(T^D))+q[4]+3889429448&4294967295,R=T+(j<<20&4294967295|j>>>12),j=k+(T^D&(R^T))+q[9]+568446438&4294967295,k=R+(j<<5&4294967295|j>>>27),j=D+(R^T&(k^R))+q[14]+3275163606&4294967295,D=k+(j<<9&4294967295|j>>>23),j=T+(k^R&(D^k))+q[3]+4107603335&4294967295,T=D+(j<<14&4294967295|j>>>18),j=R+(D^k&(T^D))+q[8]+1163531501&4294967295,R=T+(j<<20&4294967295|j>>>12),j=k+(T^D&(R^T))+q[13]+2850285829&4294967295,k=R+(j<<5&4294967295|j>>>27),j=D+(R^T&(k^R))+q[2]+4243563512&4294967295,D=k+(j<<9&4294967295|j>>>23),j=T+(k^R&(D^k))+q[7]+1735328473&4294967295,T=D+(j<<14&4294967295|j>>>18),j=R+(D^k&(T^D))+q[12]+2368359562&4294967295,R=T+(j<<20&4294967295|j>>>12),j=k+(R^T^D)+q[5]+4294588738&4294967295,k=R+(j<<4&4294967295|j>>>28),j=D+(k^R^T)+q[8]+2272392833&4294967295,D=k+(j<<11&4294967295|j>>>21),j=T+(D^k^R)+q[11]+1839030562&4294967295,T=D+(j<<16&4294967295|j>>>16),j=R+(T^D^k)+q[14]+4259657740&4294967295,R=T+(j<<23&4294967295|j>>>9),j=k+(R^T^D)+q[1]+2763975236&4294967295,k=R+(j<<4&4294967295|j>>>28),j=D+(k^R^T)+q[4]+1272893353&4294967295,D=k+(j<<11&4294967295|j>>>21),j=T+(D^k^R)+q[7]+4139469664&4294967295,T=D+(j<<16&4294967295|j>>>16),j=R+(T^D^k)+q[10]+3200236656&4294967295,R=T+(j<<23&4294967295|j>>>9),j=k+(R^T^D)+q[13]+681279174&4294967295,k=R+(j<<4&4294967295|j>>>28),j=D+(k^R^T)+q[0]+3936430074&4294967295,D=k+(j<<11&4294967295|j>>>21),j=T+(D^k^R)+q[3]+3572445317&4294967295,T=D+(j<<16&4294967295|j>>>16),j=R+(T^D^k)+q[6]+76029189&4294967295,R=T+(j<<23&4294967295|j>>>9),j=k+(R^T^D)+q[9]+3654602809&4294967295,k=R+(j<<4&4294967295|j>>>28),j=D+(k^R^T)+q[12]+3873151461&4294967295,D=k+(j<<11&4294967295|j>>>21),j=T+(D^k^R)+q[15]+530742520&4294967295,T=D+(j<<16&4294967295|j>>>16),j=R+(T^D^k)+q[2]+3299628645&4294967295,R=T+(j<<23&4294967295|j>>>9),j=k+(T^(R|~D))+q[0]+4096336452&4294967295,k=R+(j<<6&4294967295|j>>>26),j=D+(R^(k|~T))+q[7]+1126891415&4294967295,D=k+(j<<10&4294967295|j>>>22),j=T+(k^(D|~R))+q[14]+2878612391&4294967295,T=D+(j<<15&4294967295|j>>>17),j=R+(D^(T|~k))+q[5]+4237533241&4294967295,R=T+(j<<21&4294967295|j>>>11),j=k+(T^(R|~D))+q[12]+1700485571&4294967295,k=R+(j<<6&4294967295|j>>>26),j=D+(R^(k|~T))+q[3]+2399980690&4294967295,D=k+(j<<10&4294967295|j>>>22),j=T+(k^(D|~R))+q[10]+4293915773&4294967295,T=D+(j<<15&4294967295|j>>>17),j=R+(D^(T|~k))+q[1]+2240044497&4294967295,R=T+(j<<21&4294967295|j>>>11),j=k+(T^(R|~D))+q[8]+1873313359&4294967295,k=R+(j<<6&4294967295|j>>>26),j=D+(R^(k|~T))+q[15]+4264355552&4294967295,D=k+(j<<10&4294967295|j>>>22),j=T+(k^(D|~R))+q[6]+2734768916&4294967295,T=D+(j<<15&4294967295|j>>>17),j=R+(D^(T|~k))+q[13]+1309151649&4294967295,R=T+(j<<21&4294967295|j>>>11),j=k+(T^(R|~D))+q[4]+4149444226&4294967295,k=R+(j<<6&4294967295|j>>>26),j=D+(R^(k|~T))+q[11]+3174756917&4294967295,D=k+(j<<10&4294967295|j>>>22),j=T+(k^(D|~R))+q[2]+718787259&4294967295,T=D+(j<<15&4294967295|j>>>17),j=R+(D^(T|~k))+q[9]+3951481745&4294967295,O.g[0]=O.g[0]+k&4294967295,O.g[1]=O.g[1]+(T+(j<<21&4294967295|j>>>11))&4294967295,O.g[2]=O.g[2]+T&4294967295,O.g[3]=O.g[3]+D&4294967295}r.prototype.v=function(O,k){k===void 0&&(k=O.length);const R=k-this.blockSize,q=this.C;let T=this.h,D=0;for(;D<k;){if(T==0)for(;D<=R;)s(this,O,D),D+=this.blockSize;if(typeof O=="string"){for(;D<k;)if(q[T++]=O.charCodeAt(D++),T==this.blockSize){s(this,q),T=0;break}}else for(;D<k;)if(q[T++]=O[D++],T==this.blockSize){s(this,q),T=0;break}}this.h=T,this.o+=k},r.prototype.A=function(){var O=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);O[0]=128;for(var k=1;k<O.length-8;++k)O[k]=0;k=this.o*8;for(var R=O.length-8;R<O.length;++R)O[R]=k&255,k/=256;for(this.v(O),O=Array(16),k=0,R=0;R<4;++R)for(let q=0;q<32;q+=8)O[k++]=this.g[R]>>>q&255;return O};function o(O,k){var R=c;return Object.prototype.hasOwnProperty.call(R,O)?R[O]:R[O]=k(O)}function u(O,k){this.h=k;const R=[];let q=!0;for(let T=O.length-1;T>=0;T--){const D=O[T]|0;q&&D==k||(R[T]=D,q=!1)}this.g=R}var c={};function f(O){return-128<=O&&O<128?o(O,function(k){return new u([k|0],k<0?-1:0)}):new u([O|0],O<0?-1:0)}function d(O){if(isNaN(O)||!isFinite(O))return w;if(O<0)return U(d(-O));const k=[];let R=1;for(let q=0;O>=R;q++)k[q]=O/R|0,R*=4294967296;return new u(k,0)}function g(O,k){if(O.length==0)throw Error("number format error: empty string");if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(O.charAt(0)=="-")return U(g(O.substring(1),k));if(O.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=d(Math.pow(k,8));let q=w;for(let D=0;D<O.length;D+=8){var T=Math.min(8,O.length-D);const j=parseInt(O.substring(D,D+T),k);T<8?(T=d(Math.pow(k,T)),q=q.j(T).add(d(j))):(q=q.j(R),q=q.add(d(j)))}return q}var w=f(0),A=f(1),b=f(16777216);n=u.prototype,n.m=function(){if(P(this))return-U(this).m();let O=0,k=1;for(let R=0;R<this.g.length;R++){const q=this.i(R);O+=(q>=0?q:4294967296+q)*k,k*=4294967296}return O},n.toString=function(O){if(O=O||10,O<2||36<O)throw Error("radix out of range: "+O);if(M(this))return"0";if(P(this))return"-"+U(this).toString(O);const k=d(Math.pow(O,6));var R=this;let q="";for(;;){const T=te(R,k).g;R=F(R,T.j(k));let D=((R.g.length>0?R.g[0]:R.h)>>>0).toString(O);if(R=T,M(R))return D+q;for(;D.length<6;)D="0"+D;q=D+q}},n.i=function(O){return O<0?0:O<this.g.length?this.g[O]:this.h};function M(O){if(O.h!=0)return!1;for(let k=0;k<O.g.length;k++)if(O.g[k]!=0)return!1;return!0}function P(O){return O.h==-1}n.l=function(O){return O=F(this,O),P(O)?-1:M(O)?0:1};function U(O){const k=O.g.length,R=[];for(let q=0;q<k;q++)R[q]=~O.g[q];return new u(R,~O.h).add(A)}n.abs=function(){return P(this)?U(this):this},n.add=function(O){const k=Math.max(this.g.length,O.g.length),R=[];let q=0;for(let T=0;T<=k;T++){let D=q+(this.i(T)&65535)+(O.i(T)&65535),j=(D>>>16)+(this.i(T)>>>16)+(O.i(T)>>>16);q=j>>>16,D&=65535,j&=65535,R[T]=j<<16|D}return new u(R,R[R.length-1]&-2147483648?-1:0)};function F(O,k){return O.add(U(k))}n.j=function(O){if(M(this)||M(O))return w;if(P(this))return P(O)?U(this).j(U(O)):U(U(this).j(O));if(P(O))return U(this.j(U(O)));if(this.l(b)<0&&O.l(b)<0)return d(this.m()*O.m());const k=this.g.length+O.g.length,R=[];for(var q=0;q<2*k;q++)R[q]=0;for(q=0;q<this.g.length;q++)for(let T=0;T<O.g.length;T++){const D=this.i(q)>>>16,j=this.i(q)&65535,le=O.i(T)>>>16,xe=O.i(T)&65535;R[2*q+2*T]+=j*xe,$(R,2*q+2*T),R[2*q+2*T+1]+=D*xe,$(R,2*q+2*T+1),R[2*q+2*T+1]+=j*le,$(R,2*q+2*T+1),R[2*q+2*T+2]+=D*le,$(R,2*q+2*T+2)}for(O=0;O<k;O++)R[O]=R[2*O+1]<<16|R[2*O];for(O=k;O<2*k;O++)R[O]=0;return new u(R,0)};function $(O,k){for(;(O[k]&65535)!=O[k];)O[k+1]+=O[k]>>>16,O[k]&=65535,k++}function ee(O,k){this.g=O,this.h=k}function te(O,k){if(M(k))throw Error("division by zero");if(M(O))return new ee(w,w);if(P(O))return k=te(U(O),k),new ee(U(k.g),U(k.h));if(P(k))return k=te(O,U(k)),new ee(U(k.g),k.h);if(O.g.length>30){if(P(O)||P(k))throw Error("slowDivide_ only works with positive integers.");for(var R=A,q=k;q.l(O)<=0;)R=ce(R),q=ce(q);var T=Ee(R,1),D=Ee(q,1);for(q=Ee(q,2),R=Ee(R,2);!M(q);){var j=D.add(q);j.l(O)<=0&&(T=T.add(R),D=j),q=Ee(q,1),R=Ee(R,1)}return k=F(O,T.j(k)),new ee(T,k)}for(T=w;O.l(k)>=0;){for(R=Math.max(1,Math.floor(O.m()/k.m())),q=Math.ceil(Math.log(R)/Math.LN2),q=q<=48?1:Math.pow(2,q-48),D=d(R),j=D.j(k);P(j)||j.l(O)>0;)R-=q,D=d(R),j=D.j(k);M(D)&&(D=A),T=T.add(D),O=F(O,j)}return new ee(T,O)}n.B=function(O){return te(this,O).h},n.and=function(O){const k=Math.max(this.g.length,O.g.length),R=[];for(let q=0;q<k;q++)R[q]=this.i(q)&O.i(q);return new u(R,this.h&O.h)},n.or=function(O){const k=Math.max(this.g.length,O.g.length),R=[];for(let q=0;q<k;q++)R[q]=this.i(q)|O.i(q);return new u(R,this.h|O.h)},n.xor=function(O){const k=Math.max(this.g.length,O.g.length),R=[];for(let q=0;q<k;q++)R[q]=this.i(q)^O.i(q);return new u(R,this.h^O.h)};function ce(O){const k=O.g.length+1,R=[];for(let q=0;q<k;q++)R[q]=O.i(q)<<1|O.i(q-1)>>>31;return new u(R,O.h)}function Ee(O,k){const R=k>>5;k%=32;const q=O.g.length-R,T=[];for(let D=0;D<q;D++)T[D]=k>0?O.i(D+R)>>>k|O.i(D+R+1)<<32-k:O.i(D+R);return new u(T,O.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,j3=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=d,u.fromString=g,ju=u}).apply(typeof Kb<"u"?Kb:typeof self<"u"?self:typeof window<"u"?window:{});var Vp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var U3,Jf,F3,lm,j0,V3,B3,z3;(function(){var n,e=Object.defineProperty;function t(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof Vp=="object"&&Vp];for(var x=0;x<m.length;++x){var L=m[x];if(L&&L.Math==Math)return L}throw Error("Cannot find global object")}var r=t(this);function s(m,x){if(x)e:{var L=r;m=m.split(".");for(var X=0;X<m.length-1;X++){var Ce=m[X];if(!(Ce in L))break e;L=L[Ce]}m=m[m.length-1],X=L[m],x=x(X),x!=X&&x!=null&&e(L,m,{configurable:!0,writable:!0,value:x})}}s("Symbol.dispose",function(m){return m||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(m){return m||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(m){return m||function(x){var L=[],X;for(X in x)Object.prototype.hasOwnProperty.call(x,X)&&L.push([X,x[X]]);return L}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},u=this||self;function c(m){var x=typeof m;return x=="object"&&m!=null||x=="function"}function f(m,x,L){return m.call.apply(m.bind,arguments)}function d(m,x,L){return d=f,d.apply(null,arguments)}function g(m,x){var L=Array.prototype.slice.call(arguments,1);return function(){var X=L.slice();return X.push.apply(X,arguments),m.apply(this,X)}}function w(m,x){function L(){}L.prototype=x.prototype,m.Z=x.prototype,m.prototype=new L,m.prototype.constructor=m,m.Ob=function(X,Ce,Me){for(var at=Array(arguments.length-2),hn=2;hn<arguments.length;hn++)at[hn-2]=arguments[hn];return x.prototype[Ce].apply(X,at)}}var A=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?m=>m&&AsyncContext.Snapshot.wrap(m):m=>m;function b(m){const x=m.length;if(x>0){const L=Array(x);for(let X=0;X<x;X++)L[X]=m[X];return L}return[]}function M(m,x){for(let X=1;X<arguments.length;X++){const Ce=arguments[X];var L=typeof Ce;if(L=L!="object"?L:Ce?Array.isArray(Ce)?"array":L:"null",L=="array"||L=="object"&&typeof Ce.length=="number"){L=m.length||0;const Me=Ce.length||0;m.length=L+Me;for(let at=0;at<Me;at++)m[L+at]=Ce[at]}else m.push(Ce)}}class P{constructor(x,L){this.i=x,this.j=L,this.h=0,this.g=null}get(){let x;return this.h>0?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function U(m){u.setTimeout(()=>{throw m},0)}function F(){var m=O;let x=null;return m.g&&(x=m.g,m.g=m.g.next,m.g||(m.h=null),x.next=null),x}class ${constructor(){this.h=this.g=null}add(x,L){const X=ee.get();X.set(x,L),this.h?this.h.next=X:this.g=X,this.h=X}}var ee=new P(()=>new te,m=>m.reset());class te{constructor(){this.next=this.g=this.h=null}set(x,L){this.h=x,this.g=L,this.next=null}reset(){this.next=this.g=this.h=null}}let ce,Ee=!1,O=new $,k=()=>{const m=Promise.resolve(void 0);ce=()=>{m.then(R)}};function R(){for(var m;m=F();){try{m.h.call(m.g)}catch(L){U(L)}var x=ee;x.j(m),x.h<100&&(x.h++,m.next=x.g,x.g=m)}Ee=!1}function q(){this.u=this.u,this.C=this.C}q.prototype.u=!1,q.prototype.dispose=function(){this.u||(this.u=!0,this.N())},q.prototype[Symbol.dispose]=function(){this.dispose()},q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function T(m,x){this.type=m,this.g=this.target=x,this.defaultPrevented=!1}T.prototype.h=function(){this.defaultPrevented=!0};var D=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var m=!1,x=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const L=()=>{};u.addEventListener("test",L,x),u.removeEventListener("test",L,x)}catch{}return m})();function j(m){return/^[\s\xa0]*$/.test(m)}function le(m,x){T.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m&&this.init(m,x)}w(le,T),le.prototype.init=function(m,x){const L=this.type=m.type,X=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;this.target=m.target||m.srcElement,this.g=x,x=m.relatedTarget,x||(L=="mouseover"?x=m.fromElement:L=="mouseout"&&(x=m.toElement)),this.relatedTarget=x,X?(this.clientX=X.clientX!==void 0?X.clientX:X.pageX,this.clientY=X.clientY!==void 0?X.clientY:X.pageY,this.screenX=X.screenX||0,this.screenY=X.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=m.pointerType,this.state=m.state,this.i=m,m.defaultPrevented&&le.Z.h.call(this)},le.prototype.h=function(){le.Z.h.call(this);const m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var xe="closure_listenable_"+(Math.random()*1e6|0),re=0;function me(m,x,L,X,Ce){this.listener=m,this.proxy=null,this.src=x,this.type=L,this.capture=!!X,this.ha=Ce,this.key=++re,this.da=this.fa=!1}function fe(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function Ne(m,x,L){for(const X in m)x.call(L,m[X],X,m)}function Fe(m,x){for(const L in m)x.call(void 0,m[L],L,m)}function Q(m){const x={};for(const L in m)x[L]=m[L];return x}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function K(m,x){let L,X;for(let Ce=1;Ce<arguments.length;Ce++){X=arguments[Ce];for(L in X)m[L]=X[L];for(let Me=0;Me<I.length;Me++)L=I[Me],Object.prototype.hasOwnProperty.call(X,L)&&(m[L]=X[L])}}function J(m){this.src=m,this.g={},this.h=0}J.prototype.add=function(m,x,L,X,Ce){const Me=m.toString();m=this.g[Me],m||(m=this.g[Me]=[],this.h++);const at=he(m,x,X,Ce);return at>-1?(x=m[at],L||(x.fa=!1)):(x=new me(x,this.src,Me,!!X,Ce),x.fa=L,m.push(x)),x};function oe(m,x){const L=x.type;if(L in m.g){var X=m.g[L],Ce=Array.prototype.indexOf.call(X,x,void 0),Me;(Me=Ce>=0)&&Array.prototype.splice.call(X,Ce,1),Me&&(fe(x),m.g[L].length==0&&(delete m.g[L],m.h--))}}function he(m,x,L,X){for(let Ce=0;Ce<m.length;++Ce){const Me=m[Ce];if(!Me.da&&Me.listener==x&&Me.capture==!!L&&Me.ha==X)return Ce}return-1}var be="closure_lm_"+(Math.random()*1e6|0),Ie={};function De(m,x,L,X,Ce){if(Array.isArray(x)){for(let Me=0;Me<x.length;Me++)De(m,x[Me],L,X,Ce);return null}return L=Ut(L),m&&m[xe]?m.J(x,L,c(X)?!!X.capture:!1,Ce):ze(m,x,L,!1,X,Ce)}function ze(m,x,L,X,Ce,Me){if(!x)throw Error("Invalid event type");const at=c(Ce)?!!Ce.capture:!!Ce;let hn=ot(m);if(hn||(m[be]=hn=new J(m)),L=hn.add(x,L,X,at,Me),L.proxy)return L;if(X=tt(),L.proxy=X,X.src=m,X.listener=L,m.addEventListener)D||(Ce=at),Ce===void 0&&(Ce=!1),m.addEventListener(x.toString(),X,Ce);else if(m.attachEvent)m.attachEvent(bt(x.toString()),X);else if(m.addListener&&m.removeListener)m.addListener(X);else throw Error("addEventListener and attachEvent are unavailable.");return L}function tt(){function m(L){return x.call(m.src,m.listener,L)}const x=ne;return m}function it(m,x,L,X,Ce){if(Array.isArray(x))for(var Me=0;Me<x.length;Me++)it(m,x[Me],L,X,Ce);else X=c(X)?!!X.capture:!!X,L=Ut(L),m&&m[xe]?(m=m.i,Me=String(x).toString(),Me in m.g&&(x=m.g[Me],L=he(x,L,X,Ce),L>-1&&(fe(x[L]),Array.prototype.splice.call(x,L,1),x.length==0&&(delete m.g[Me],m.h--)))):m&&(m=ot(m))&&(x=m.g[x.toString()],m=-1,x&&(m=he(x,L,X,Ce)),(L=m>-1?x[m]:null)&&lt(L))}function lt(m){if(typeof m!="number"&&m&&!m.da){var x=m.src;if(x&&x[xe])oe(x.i,m);else{var L=m.type,X=m.proxy;x.removeEventListener?x.removeEventListener(L,X,m.capture):x.detachEvent?x.detachEvent(bt(L),X):x.addListener&&x.removeListener&&x.removeListener(X),(L=ot(x))?(oe(L,m),L.h==0&&(L.src=null,x[be]=null)):fe(m)}}}function bt(m){return m in Ie?Ie[m]:Ie[m]="on"+m}function ne(m,x){if(m.da)m=!0;else{x=new le(x,this);const L=m.listener,X=m.ha||m.src;m.fa&&lt(m),m=L.call(X,x)}return m}function ot(m){return m=m[be],m instanceof J?m:null}var un="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ut(m){return typeof m=="function"?m:(m[un]||(m[un]=function(x){return m.handleEvent(x)}),m[un])}function $e(){q.call(this),this.i=new J(this),this.M=this,this.G=null}w($e,q),$e.prototype[xe]=!0,$e.prototype.removeEventListener=function(m,x,L,X){it(this,m,x,L,X)};function pt(m,x){var L,X=m.G;if(X)for(L=[];X;X=X.G)L.push(X);if(m=m.M,X=x.type||x,typeof x=="string")x=new T(x,m);else if(x instanceof T)x.target=x.target||m;else{var Ce=x;x=new T(X,m),K(x,Ce)}Ce=!0;let Me,at;if(L)for(at=L.length-1;at>=0;at--)Me=x.g=L[at],Ce=ft(Me,X,!0,x)&&Ce;if(Me=x.g=m,Ce=ft(Me,X,!0,x)&&Ce,Ce=ft(Me,X,!1,x)&&Ce,L)for(at=0;at<L.length;at++)Me=x.g=L[at],Ce=ft(Me,X,!1,x)&&Ce}$e.prototype.N=function(){if($e.Z.N.call(this),this.i){var m=this.i;for(const x in m.g){const L=m.g[x];for(let X=0;X<L.length;X++)fe(L[X]);delete m.g[x],m.h--}}this.G=null},$e.prototype.J=function(m,x,L,X){return this.i.add(String(m),x,!1,L,X)},$e.prototype.K=function(m,x,L,X){return this.i.add(String(m),x,!0,L,X)};function ft(m,x,L,X){if(x=m.i.g[String(x)],!x)return!0;x=x.concat();let Ce=!0;for(let Me=0;Me<x.length;++Me){const at=x[Me];if(at&&!at.da&&at.capture==L){const hn=at.listener,Er=at.ha||at.src;at.fa&&oe(m.i,at),Ce=hn.call(Er,X)!==!1&&Ce}}return Ce&&!X.defaultPrevented}function Vt(m,x){if(typeof m!="function")if(m&&typeof m.handleEvent=="function")m=d(m.handleEvent,m);else throw Error("Invalid listener argument");return Number(x)>2147483647?-1:u.setTimeout(m,x||0)}function kt(m){m.g=Vt(()=>{m.g=null,m.i&&(m.i=!1,kt(m))},m.l);const x=m.h;m.h=null,m.m.apply(null,x)}class Qt extends q{constructor(x,L){super(),this.m=x,this.l=L,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:kt(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rn(m){q.call(this),this.h=m,this.g={}}w(rn,q);var en=[];function gn(m){Ne(m.g,function(x,L){this.g.hasOwnProperty(L)&&lt(x)},m),m.g={}}rn.prototype.N=function(){rn.Z.N.call(this),gn(this)},rn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $t=u.JSON.stringify,mt=u.JSON.parse,an=class{stringify(m){return u.JSON.stringify(m,void 0)}parse(m){return u.JSON.parse(m,void 0)}};function xt(){}function ur(){}var fn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Et(){T.call(this,"d")}w(Et,T);function Yt(){T.call(this,"c")}w(Yt,T);var on={},Ot=null;function Bn(){return Ot=Ot||new $e}on.Ia="serverreachability";function qt(m){T.call(this,on.Ia,m)}w(qt,T);function Ft(m){const x=Bn();pt(x,new qt(x))}on.STAT_EVENT="statevent";function zn(m,x){T.call(this,on.STAT_EVENT,m),this.stat=x}w(zn,T);function Rt(m){const x=Bn();pt(x,new zn(x,m))}on.Ja="timingevent";function Lt(m,x){T.call(this,on.Ja,m),this.size=x}w(Lt,T);function vn(m,x){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){m()},x)}function hi(){this.g=!0}hi.prototype.ua=function(){this.g=!1};function Wr(m,x,L,X,Ce,Me){m.info(function(){if(m.g)if(Me){var at="",hn=Me.split("&");for(let Tn=0;Tn<hn.length;Tn++){var Er=hn[Tn].split("=");if(Er.length>1){const nr=Er[0];Er=Er[1];const Si=nr.split("_");at=Si.length>=2&&Si[1]=="type"?at+(nr+"="+Er+"&"):at+(nr+"=redacted&")}}}else at=null;else at=Me;return"XMLHTTP REQ ("+X+") [attempt "+Ce+"]: "+x+`
`+L+`
`+at})}function Li(m,x,L,X,Ce,Me,at){m.info(function(){return"XMLHTTP RESP ("+X+") [ attempt "+Ce+"]: "+x+`
`+L+`
`+Me+" "+at})}function Dr(m,x,L,X){m.info(function(){return"XMLHTTP TEXT ("+x+"): "+ka(m,L)+(X?" "+X:"")})}function Dt(m,x){m.info(function(){return"TIMEOUT: "+x})}hi.prototype.info=function(){};function ka(m,x){if(!m.g)return x;if(!x)return null;try{const Me=JSON.parse(x);if(Me){for(m=0;m<Me.length;m++)if(Array.isArray(Me[m])){var L=Me[m];if(!(L.length<2)){var X=L[1];if(Array.isArray(X)&&!(X.length<1)){var Ce=X[0];if(Ce!="noop"&&Ce!="stop"&&Ce!="close")for(let at=1;at<X.length;at++)X[at]=""}}}}return $t(Me)}catch{return x}}var Ii={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ue={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},_e;function Te(){}w(Te,xt),Te.prototype.g=function(){return new XMLHttpRequest},_e=new Te;function qe(m){return encodeURIComponent(String(m))}function Ze(m){var x=1;m=m.split(":");const L=[];for(;x>0&&m.length;)L.push(m.shift()),x--;return m.length&&L.push(m.join(":")),L}function ht(m,x,L,X){this.j=m,this.i=x,this.l=L,this.S=X||1,this.V=new rn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new dt}function dt(){this.i=null,this.g="",this.h=!1}var rt={},st={};function ct(m,x,L){m.M=1,m.A=Ns(er(x)),m.u=L,m.R=!0,Pt(m,null)}function Pt(m,x){m.F=Date.now(),Pn(m),m.B=er(m.A);var L=m.B,X=m.S;Array.isArray(X)||(X=[String(X)]),Ro(L.i,"t",X),m.C=0,L=m.j.L,m.h=new dt,m.g=_t(m.j,L?x:null,!m.u),m.P>0&&(m.O=new Qt(d(m.Y,m,m.g),m.P)),x=m.V,L=m.g,X=m.ba;var Ce="readystatechange";Array.isArray(Ce)||(Ce&&(en[0]=Ce.toString()),Ce=en);for(let Me=0;Me<Ce.length;Me++){const at=De(L,Ce[Me],X||x.handleEvent,!1,x.h||x);if(!at)break;x.g[at.key]=at}x=m.J?Q(m.J):{},m.u?(m.v||(m.v="POST"),x["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.B,m.v,m.u,x)):(m.v="GET",m.g.ea(m.B,m.v,null,x)),Ft(),Wr(m.i,m.v,m.B,m.l,m.S,m.u)}ht.prototype.ba=function(m){m=m.target;const x=this.O;x&&oa(m)==3?x.j():this.Y(m)},ht.prototype.Y=function(m){try{if(m==this.g)e:{const hn=oa(this.g),Er=this.g.ya(),Tn=this.g.ca();if(!(hn<3)&&(hn!=3||this.g&&(this.h.h||this.g.la()||Qr(this.g)))){this.K||hn!=4||Er==7||(Er==8||Tn<=0?Ft(3):Ft(2)),Xn(this);var x=this.g.ca();this.X=x;var L=gt(this);if(this.o=x==200,Li(this.i,this.v,this.B,this.l,this.S,hn,x),this.o){if(this.U&&!this.L){t:{if(this.g){var X,Ce=this.g;if((X=Ce.g?Ce.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j(X)){var Me=X;break t}}Me=null}if(m=Me)Dr(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,zr(this,m);else{this.o=!1,this.m=3,Rt(12),cr(this),cn(this);break e}}if(this.R){m=!0;let nr;for(;!this.K&&this.C<L.length;)if(nr=sn(this,L),nr==st){hn==4&&(this.m=4,Rt(14),m=!1),Dr(this.i,this.l,null,"[Incomplete Response]");break}else if(nr==rt){this.m=4,Rt(15),Dr(this.i,this.l,L,"[Invalid Chunk]"),m=!1;break}else Dr(this.i,this.l,nr,null),zr(this,nr);if(Jt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),hn!=4||L.length!=0||this.h.h||(this.m=1,Rt(16),m=!1),this.o=this.o&&m,!m)Dr(this.i,this.l,L,"[Invalid Chunked Response]"),cr(this),cn(this);else if(L.length>0&&!this.W){this.W=!0;var at=this.j;at.g==this&&at.aa&&!at.P&&(at.j.info("Great, no buffering proxy detected. Bytes received: "+L.length),Oo(at),at.P=!0,Rt(11))}}else Dr(this.i,this.l,L,null),zr(this,L);hn==4&&cr(this),this.o&&!this.K&&(hn==4?ae(this.j,this):(this.o=!1,Pn(this)))}else qa(this.g),x==400&&L.indexOf("Unknown SID")>0?(this.m=3,Rt(12)):(this.m=0,Rt(13)),cr(this),cn(this)}}}catch{}finally{}};function gt(m){if(!Jt(m))return m.g.la();const x=Qr(m.g);if(x==="")return"";let L="";const X=x.length,Ce=oa(m.g)==4;if(!m.h.i){if(typeof TextDecoder>"u")return cr(m),cn(m),"";m.h.i=new u.TextDecoder}for(let Me=0;Me<X;Me++)m.h.h=!0,L+=m.h.i.decode(x[Me],{stream:!(Ce&&Me==X-1)});return x.length=0,m.h.g+=L,m.C=0,m.h.g}function Jt(m){return m.g?m.v=="GET"&&m.M!=2&&m.j.Aa:!1}function sn(m,x){var L=m.C,X=x.indexOf(`
`,L);return X==-1?st:(L=Number(x.substring(L,X)),isNaN(L)?rt:(X+=1,X+L>x.length?st:(x=x.slice(X,X+L),m.C=X+L,x)))}ht.prototype.cancel=function(){this.K=!0,cr(this)};function Pn(m){m.T=Date.now()+m.H,Zn(m,m.H)}function Zn(m,x){if(m.D!=null)throw Error("WatchDog timer not null");m.D=vn(d(m.aa,m),x)}function Xn(m){m.D&&(u.clearTimeout(m.D),m.D=null)}ht.prototype.aa=function(){this.D=null;const m=Date.now();m-this.T>=0?(Dt(this.i,this.B),this.M!=2&&(Ft(),Rt(17)),cr(this),this.m=2,cn(this)):Zn(this,this.T-m)};function cn(m){m.j.I==0||m.K||ae(m.j,m)}function cr(m){Xn(m);var x=m.O;x&&typeof x.dispose=="function"&&x.dispose(),m.O=null,gn(m.V),m.g&&(x=m.g,m.g=null,x.abort(),x.dispose())}function zr(m,x){try{var L=m.j;if(L.I!=0&&(L.g==m||fi(L.h,m))){if(!m.L&&fi(L.h,m)&&L.I==3){try{var X=L.Ba.g.parse(x)}catch{X=null}if(Array.isArray(X)&&X.length==3){var Ce=X;if(Ce[0]==0){e:if(!L.v){if(L.g)if(L.g.F+3e3<m.F)V(L),Ga(L);else break e;ja(L),Rt(18)}}else L.xa=Ce[1],0<L.xa-L.K&&Ce[2]<37500&&L.F&&L.A==0&&!L.C&&(L.C=vn(d(L.Va,L),6e3));Ei(L.h)<=1&&L.ta&&(L.ta=void 0)}else Ae(L,11)}else if((m.L||L.g==m)&&V(L),!j(x))for(Ce=L.Ba.g.parse(x),x=0;x<Ce.length;x++){let Tn=Ce[x];const nr=Tn[0];if(!(nr<=L.K))if(L.K=nr,Tn=Tn[1],L.I==2)if(Tn[0]=="c"){L.M=Tn[1],L.ba=Tn[2];const Si=Tn[3];Si!=null&&(L.ka=Si,L.j.info("VER="+L.ka));const Mi=Tn[4];Mi!=null&&(L.za=Mi,L.j.info("SVER="+L.za));const pr=Tn[5];pr!=null&&typeof pr=="number"&&pr>0&&(X=1.5*pr,L.O=X,L.j.info("backChannelRequestTimeoutMs_="+X)),X=L;const ji=m.g;if(ji){const Ua=ji.g?ji.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ua){var Me=X.h;Me.g||Ua.indexOf("spdy")==-1&&Ua.indexOf("quic")==-1&&Ua.indexOf("h2")==-1||(Me.j=Me.l,Me.g=new Set,Me.h&&(Oi(Me,Me.h),Me.h=null))}if(X.G){const ks=ji.g?ji.g.getResponseHeader("X-HTTP-Session-Id"):null;ks&&(X.wa=ks,Rn(X.J,X.G,ks))}}L.I=3,L.l&&L.l.ra(),L.aa&&(L.T=Date.now()-m.F,L.j.info("Handshake RTT: "+L.T+"ms")),X=L;var at=m;if(X.na=Qe(X,X.L?X.ba:null,X.W),at.L){Oa(X.h,at);var hn=at,Er=X.O;Er&&(hn.H=Er),hn.D&&(Xn(hn),Pn(hn)),X.g=at}else ml(X);L.i.length>0&&va(L)}else Tn[0]!="stop"&&Tn[0]!="close"||Ae(L,7);else L.I==3&&(Tn[0]=="stop"||Tn[0]=="close"?Tn[0]=="stop"?Ae(L,7):Is(L):Tn[0]!="noop"&&L.l&&L.l.qa(Tn),L.A=0)}}Ft(4)}catch{}}var ar=class{constructor(m,x){this.g=m,this.map=x}};function ki(m){this.l=m||10,u.PerformanceNavigationTiming?(m=u.performance.getEntriesByType("navigation"),m=m.length>0&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function dr(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function Ei(m){return m.h?1:m.g?m.g.size:0}function fi(m,x){return m.h?m.h==x:m.g?m.g.has(x):!1}function Oi(m,x){m.g?m.g.add(x):m.h=x}function Oa(m,x){m.h&&m.h==x?m.h=null:m.g&&m.g.has(x)&&m.g.delete(x)}ki.prototype.cancel=function(){if(this.i=Da(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function Da(m){if(m.h!=null)return m.i.concat(m.h.G);if(m.g!=null&&m.g.size!==0){let x=m.i;for(const L of m.g.values())x=x.concat(L.G);return x}return b(m.i)}var An=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Gn(m,x){if(m){m=m.split("&");for(let L=0;L<m.length;L++){const X=m[L].indexOf("=");let Ce,Me=null;X>=0?(Ce=m[L].substring(0,X),Me=m[L].substring(X+1)):Ce=m[L],x(Ce,Me?decodeURIComponent(Me.replace(/\+/g," ")):"")}}}function Cr(m){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let x;m instanceof Cr?(this.l=m.l,It(this,m.j),this.o=m.o,this.g=m.g,Ki(this,m.u),this.h=m.h,Di(this,Lo(m.i)),this.m=m.m):m&&(x=String(m).match(An))?(this.l=!1,It(this,x[1]||"",!0),this.o=Xr(x[2]||""),this.g=Xr(x[3]||"",!0),Ki(this,x[4]),this.h=Xr(x[5]||"",!0),Di(this,x[6]||"",!0),this.m=Xr(x[7]||"")):(this.l=!1,this.i=new hs(null,this.l))}Cr.prototype.toString=function(){const m=[];var x=this.j;x&&m.push(Rr(x,Qs,!0),":");var L=this.g;return(L||x=="file")&&(m.push("//"),(x=this.o)&&m.push(Rr(x,Qs,!0),"@"),m.push(qe(L).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),L=this.u,L!=null&&m.push(":",String(L))),(L=this.h)&&(this.g&&L.charAt(0)!="/"&&m.push("/"),m.push(Rr(L,L.charAt(0)=="/"?cl:Kl,!0))),(L=this.i.toString())&&m.push("?",L),(L=this.m)&&m.push("#",Rr(L,hl)),m.join("")},Cr.prototype.resolve=function(m){const x=er(this);let L=!!m.j;L?It(x,m.j):L=!!m.o,L?x.o=m.o:L=!!m.g,L?x.g=m.g:L=m.u!=null;var X=m.h;if(L)Ki(x,m.u);else if(L=!!m.h){if(X.charAt(0)!="/")if(this.g&&!this.h)X="/"+X;else{var Ce=x.h.lastIndexOf("/");Ce!=-1&&(X=x.h.slice(0,Ce+1)+X)}if(Ce=X,Ce==".."||Ce==".")X="";else if(Ce.indexOf("./")!=-1||Ce.indexOf("/.")!=-1){X=Ce.lastIndexOf("/",0)==0,Ce=Ce.split("/");const Me=[];for(let at=0;at<Ce.length;){const hn=Ce[at++];hn=="."?X&&at==Ce.length&&Me.push(""):hn==".."?((Me.length>1||Me.length==1&&Me[0]!="")&&Me.pop(),X&&at==Ce.length&&Me.push("")):(Me.push(hn),X=!0)}X=Me.join("/")}else X=Ce}return L?x.h=X:L=m.i.toString()!=="",L?Di(x,Lo(m.i)):L=!!m.m,L&&(x.m=m.m),x};function er(m){return new Cr(m)}function It(m,x,L){m.j=L?Xr(x,!0):x,m.j&&(m.j=m.j.replace(/:$/,""))}function Ki(m,x){if(x){if(x=Number(x),isNaN(x)||x<0)throw Error("Bad port number "+x);m.u=x}else m.u=null}function Di(m,x,L){x instanceof hs?(m.i=x,Wi(m.i,m.l)):(L||(x=Rr(x,Pi)),m.i=new hs(x,m.l))}function Rn(m,x,L){m.i.set(x,L)}function Ns(m){return Rn(m,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),m}function Xr(m,x){return m?x?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function Rr(m,x,L){return typeof m=="string"?(m=encodeURI(m).replace(x,qr),L&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function qr(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var Qs=/[#\/\?@]/g,Kl=/[#\?:]/g,cl=/[#\?]/g,Pi=/[#\?@]/g,hl=/#/g;function hs(m,x){this.h=this.g=null,this.i=m||null,this.j=!!x}function di(m){m.g||(m.g=new Map,m.h=0,m.i&&Gn(m.i,function(x,L){m.add(decodeURIComponent(x.replace(/\+/g," ")),L)}))}n=hs.prototype,n.add=function(m,x){di(this),this.i=null,m=fs(this,m);let L=this.g.get(m);return L||this.g.set(m,L=[]),L.push(x),this.h+=1,this};function Cs(m,x){di(m),x=fs(m,x),m.g.has(x)&&(m.i=null,m.h-=m.g.get(x).length,m.g.delete(x))}function fl(m,x){return di(m),x=fs(m,x),m.g.has(x)}n.forEach=function(m,x){di(this),this.g.forEach(function(L,X){L.forEach(function(Ce){m.call(x,Ce,X,this)},this)},this)};function dl(m,x){di(m);let L=[];if(typeof x=="string")fl(m,x)&&(L=L.concat(m.g.get(fs(m,x))));else for(m=Array.from(m.g.values()),x=0;x<m.length;x++)L=L.concat(m[x]);return L}n.set=function(m,x){return di(this),this.i=null,m=fs(this,m),fl(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[x]),this.h+=1,this},n.get=function(m,x){return m?(m=dl(this,m),m.length>0?String(m[0]):x):x};function Ro(m,x,L){Cs(m,x),L.length>0&&(m.i=null,m.g.set(fs(m,x),b(L)),m.h+=L.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],x=Array.from(this.g.keys());for(let X=0;X<x.length;X++){var L=x[X];const Ce=qe(L);L=dl(this,L);for(let Me=0;Me<L.length;Me++){let at=Ce;L[Me]!==""&&(at+="="+qe(L[Me])),m.push(at)}}return this.i=m.join("&")};function Lo(m){const x=new hs;return x.i=m.i,m.g&&(x.g=new Map(m.g),x.h=m.h),x}function fs(m,x){return x=String(x),m.j&&(x=x.toLowerCase()),x}function Wi(m,x){x&&!m.j&&(di(m),m.i=null,m.g.forEach(function(L,X){const Ce=X.toLowerCase();X!=Ce&&(Cs(this,X),Ro(this,Ce,L))},m)),m.j=x}function Pa(m,x){const L=new hi;if(u.Image){const X=new Image;X.onload=g(Xi,L,"TestLoadImage: loaded",!0,x,X),X.onerror=g(Xi,L,"TestLoadImage: error",!1,x,X),X.onabort=g(Xi,L,"TestLoadImage: abort",!1,x,X),X.ontimeout=g(Xi,L,"TestLoadImage: timeout",!1,x,X),u.setTimeout(function(){X.ontimeout&&X.ontimeout()},1e4),X.src=m}else x(!1)}function ds(m,x){const L=new hi,X=new AbortController,Ce=setTimeout(()=>{X.abort(),Xi(L,"TestPingServer: timeout",!1,x)},1e4);fetch(m,{signal:X.signal}).then(Me=>{clearTimeout(Ce),Me.ok?Xi(L,"TestPingServer: ok",!0,x):Xi(L,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(Ce),Xi(L,"TestPingServer: error",!1,x)})}function Xi(m,x,L,X,Ce){try{Ce&&(Ce.onload=null,Ce.onerror=null,Ce.onabort=null,Ce.ontimeout=null),X(L)}catch{}}function Rs(){this.g=new an}function Ht(m){this.i=m.Sb||null,this.h=m.ab||!1}w(Ht,xt),Ht.prototype.g=function(){return new Js(this.i,this.h)};function Js(m,x){$e.call(this),this.H=m,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(Js,$e),n=Js.prototype,n.open=function(m,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=m,this.D=x,this.readyState=1,pi(this)},n.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const x={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};m&&(x.body=m),(this.H||u).fetch(new Request(this.D,x)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ls(this)),this.readyState=0},n.Pa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,pi(this)),this.g&&(this.readyState=3,pi(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Io(this)}else m.text().then(this.Oa.bind(this),this.ga.bind(this))};function Io(m){m.j.read().then(m.Ma.bind(m)).catch(m.ga.bind(m))}n.Ma=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var x=m.value?m.value:new Uint8Array(0);(x=this.B.decode(x,{stream:!m.done}))&&(this.response=this.responseText+=x)}m.done?Ls(this):pi(this),this.readyState==3&&Io(this)}},n.Oa=function(m){this.g&&(this.response=this.responseText=m,Ls(this))},n.Na=function(m){this.g&&(this.response=m,Ls(this))},n.ga=function(){this.g&&Ls(this)};function Ls(m){m.readyState=4,m.l=null,m.j=null,m.B=null,pi(m)}n.setRequestHeader=function(m,x){this.A.append(m,x)},n.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],x=this.h.entries();for(var L=x.next();!L.done;)L=L.value,m.push(L[0]+": "+L[1]),L=x.next();return m.join(`\r
`)};function pi(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(Js.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function ri(m){let x="";return Ne(m,function(L,X){x+=X,x+=":",x+=L,x+=`\r
`}),x}function Zs(m,x,L){e:{for(X in L){var X=!1;break e}X=!0}X||(L=ri(L),typeof m=="string"?L!=null&&qe(L):Rn(m,x,L))}function tr(m){$e.call(this),this.headers=new Map,this.L=m||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(tr,$e);var aa=/^https?$/i,eo=["POST","PUT"];n=tr.prototype,n.Fa=function(m){this.H=m},n.ea=function(m,x,L,X){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);x=x?x.toUpperCase():"GET",this.D=m,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():_e.g(),this.g.onreadystatechange=A(d(this.Ca,this));try{this.B=!0,this.g.open(x,String(m),!0),this.B=!1}catch(Me){Ma(this,Me);return}if(m=L||"",L=new Map(this.headers),X)if(Object.getPrototypeOf(X)===Object.prototype)for(var Ce in X)L.set(Ce,X[Ce]);else if(typeof X.keys=="function"&&typeof X.get=="function")for(const Me of X.keys())L.set(Me,X.get(Me));else throw Error("Unknown input type for opt_headers: "+String(X));X=Array.from(L.keys()).find(Me=>Me.toLowerCase()=="content-type"),Ce=u.FormData&&m instanceof u.FormData,!(Array.prototype.indexOf.call(eo,x,void 0)>=0)||X||Ce||L.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Me,at]of L)this.g.setRequestHeader(Me,at);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(m),this.v=!1}catch(Me){Ma(this,Me)}};function Ma(m,x){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=x,m.o=5,pl(m),ps(m)}function pl(m){m.A||(m.A=!0,pt(m,"complete"),pt(m,"error"))}n.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=m||7,pt(this,"complete"),pt(this,"abort"),ps(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ps(this,!0)),tr.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?sa(this):this.Xa())},n.Xa=function(){sa(this)};function sa(m){if(m.h&&typeof o<"u"){if(m.v&&oa(m)==4)setTimeout(m.Ca.bind(m),0);else if(pt(m,"readystatechange"),oa(m)==4){m.h=!1;try{const Me=m.ca();e:switch(Me){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var L;if(!(L=x)){var X;if(X=Me===0){let at=String(m.D).match(An)[1]||null;!at&&u.self&&u.self.location&&(at=u.self.location.protocol.slice(0,-1)),X=!aa.test(at?at.toLowerCase():"")}L=X}if(L)pt(m,"complete"),pt(m,"success");else{m.o=6;try{var Ce=oa(m)>2?m.g.statusText:""}catch{Ce=""}m.l=Ce+" ["+m.ca()+"]",pl(m)}}finally{ps(m)}}}}function ps(m,x){if(m.g){m.m&&(clearTimeout(m.m),m.m=null);const L=m.g;m.g=null,x||pt(m,"ready");try{L.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function oa(m){return m.g?m.g.readyState:0}n.ca=function(){try{return oa(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(m){if(this.g){var x=this.g.responseText;return m&&x.indexOf(m)==0&&(x=x.substring(m.length)),mt(x)}};function Qr(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.F){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function qa(m){const x={};m=(m.g&&oa(m)>=2&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let X=0;X<m.length;X++){if(j(m[X]))continue;var L=Ze(m[X]);const Ce=L[0];if(L=L[1],typeof L!="string")continue;L=L.trim();const Me=x[Ce]||[];x[Ce]=Me,Me.push(L)}Fe(x,function(X){return X.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ai(m,x,L){return L&&L.internalChannelParams&&L.internalChannelParams[m]||x}function Ha(m){this.za=0,this.i=[],this.j=new hi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ai("failFast",!1,m),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ai("baseRetryDelayMs",5e3,m),this.Za=Ai("retryDelaySeedMs",1e4,m),this.Ta=Ai("forwardChannelMaxRetries",2,m),this.va=Ai("forwardChannelRequestTimeoutMs",2e4,m),this.ma=m&&m.xmlHttpFactory||void 0,this.Ua=m&&m.Rb||void 0,this.Aa=m&&m.useFetchStreams||!1,this.O=void 0,this.L=m&&m.supportsCrossDomainXhr||!1,this.M="",this.h=new ki(m&&m.concurrentRequestLimit),this.Ba=new Rs,this.S=m&&m.fastHandshake||!1,this.R=m&&m.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=m&&m.Pb||!1,m&&m.ua&&this.j.ua(),m&&m.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&m&&m.detectBufferingProxy||!1,this.ia=void 0,m&&m.longPollingTimeout&&m.longPollingTimeout>0&&(this.ia=m.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Ha.prototype,n.ka=8,n.I=1,n.connect=function(m,x,L,X){Rt(0),this.W=m,this.H=x||{},L&&X!==void 0&&(this.H.OSID=L,this.H.OAID=X),this.F=this.X,this.J=Qe(this,null,this.W),va(this)};function Is(m){if($a(m),m.I==3){var x=m.V++,L=er(m.J);if(Rn(L,"SID",m.M),Rn(L,"RID",x),Rn(L,"TYPE","terminate"),la(m,L),x=new ht(m,m.j,x),x.M=2,x.A=Ns(er(L)),L=!1,u.navigator&&u.navigator.sendBeacon)try{L=u.navigator.sendBeacon(x.A.toString(),"")}catch{}!L&&u.Image&&(new Image().src=x.A,L=!0),L||(x.g=_t(x.j,null),x.g.ea(x.A)),x.F=Date.now(),Pn(x)}He(m)}function Ga(m){m.g&&(Oo(m),m.g.cancel(),m.g=null)}function $a(m){Ga(m),m.v&&(u.clearTimeout(m.v),m.v=null),V(m),m.h.cancel(),m.m&&(typeof m.m=="number"&&u.clearTimeout(m.m),m.m=null)}function va(m){if(!dr(m.h)&&!m.m){m.m=!0;var x=m.Ea;ce||k(),Ee||(ce(),Ee=!0),O.add(x,m),m.D=0}}function to(m,x){return Ei(m.h)>=m.h.j-(m.m?1:0)?!1:m.m?(m.i=x.G.concat(m.i),!0):m.I==1||m.I==2||m.D>=(m.Sa?0:m.Ta)?!1:(m.m=vn(d(m.Ea,m,x),ge(m,m.D)),m.D++,!0)}n.Ea=function(m){if(this.m)if(this.m=null,this.I==1){if(!m){this.V=Math.floor(Math.random()*1e5),m=this.V++;const Ce=new ht(this,this.j,m);let Me=this.o;if(this.U&&(Me?(Me=Q(Me),K(Me,this.U)):Me=this.U),this.u!==null||this.R||(Ce.J=Me,Me=null),this.S)e:{for(var x=0,L=0;L<this.i.length;L++){t:{var X=this.i[L];if("__data__"in X.map&&(X=X.map.__data__,typeof X=="string")){X=X.length;break t}X=void 0}if(X===void 0)break;if(x+=X,x>4096){x=L;break e}if(x===4096||L===this.i.length-1){x=L+1;break e}}x=1e3}else x=1e3;x=Ya(this,Ce,x),L=er(this.J),Rn(L,"RID",m),Rn(L,"CVER",22),this.G&&Rn(L,"X-HTTP-Session-Id",this.G),la(this,L),Me&&(this.R?x="headers="+qe(ri(Me))+"&"+x:this.u&&Zs(L,this.u,Me)),Oi(this.h,Ce),this.Ra&&Rn(L,"TYPE","init"),this.S?(Rn(L,"$req",x),Rn(L,"SID","null"),Ce.U=!0,ct(Ce,L,null)):ct(Ce,L,x),this.I=2}}else this.I==3&&(m?ko(this,m):this.i.length==0||dr(this.h)||ko(this))};function ko(m,x){var L;x?L=x.l:L=m.V++;const X=er(m.J);Rn(X,"SID",m.M),Rn(X,"RID",L),Rn(X,"AID",m.K),la(m,X),m.u&&m.o&&Zs(X,m.u,m.o),L=new ht(m,m.j,L,m.D+1),m.u===null&&(L.J=m.o),x&&(m.i=x.G.concat(m.i)),x=Ya(m,L,1e3),L.H=Math.round(m.va*.5)+Math.round(m.va*.5*Math.random()),Oi(m.h,L),ct(L,X,x)}function la(m,x){m.H&&Ne(m.H,function(L,X){Rn(x,X,L)}),m.l&&Ne({},function(L,X){Rn(x,X,L)})}function Ya(m,x,L){L=Math.min(m.i.length,L);const X=m.l?d(m.l.Ka,m.l,m):null;e:{var Ce=m.i;let hn=-1;for(;;){const Er=["count="+L];hn==-1?L>0?(hn=Ce[0].g,Er.push("ofs="+hn)):hn=0:Er.push("ofs="+hn);let Tn=!0;for(let nr=0;nr<L;nr++){var Me=Ce[nr].g;const Si=Ce[nr].map;if(Me-=hn,Me<0)hn=Math.max(0,Ce[nr].g-100),Tn=!1;else try{Me="req"+Me+"_"||"";try{var at=Si instanceof Map?Si:Object.entries(Si);for(const[Mi,pr]of at){let ji=pr;c(pr)&&(ji=$t(pr)),Er.push(Me+Mi+"="+encodeURIComponent(ji))}}catch(Mi){throw Er.push(Me+"type="+encodeURIComponent("_badmap")),Mi}}catch{X&&X(Si)}}if(Tn){at=Er.join("&");break e}}at=void 0}return m=m.i.splice(0,L),x.G=m,at}function ml(m){if(!m.g&&!m.v){m.Y=1;var x=m.Da;ce||k(),Ee||(ce(),Ee=!0),O.add(x,m),m.A=0}}function ja(m){return m.g||m.v||m.A>=3?!1:(m.Y++,m.v=vn(d(m.Da,m),ge(m,m.A)),m.A++,!0)}n.Da=function(){if(this.v=null,E(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var m=4*this.T;this.j.info("BP detection timer enabled: "+m),this.B=vn(d(this.Wa,this),m)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Rt(10),Ga(this),E(this))};function Oo(m){m.B!=null&&(u.clearTimeout(m.B),m.B=null)}function E(m){m.g=new ht(m,m.j,"rpc",m.Y),m.u===null&&(m.g.J=m.o),m.g.P=0;var x=er(m.na);Rn(x,"RID","rpc"),Rn(x,"SID",m.M),Rn(x,"AID",m.K),Rn(x,"CI",m.F?"0":"1"),!m.F&&m.ia&&Rn(x,"TO",m.ia),Rn(x,"TYPE","xmlhttp"),la(m,x),m.u&&m.o&&Zs(x,m.u,m.o),m.O&&(m.g.H=m.O);var L=m.g;m=m.ba,L.M=1,L.A=Ns(er(x)),L.u=null,L.R=!0,Pt(L,m)}n.Va=function(){this.C!=null&&(this.C=null,Ga(this),ja(this),Rt(19))};function V(m){m.C!=null&&(u.clearTimeout(m.C),m.C=null)}function ae(m,x){var L=null;if(m.g==x){V(m),Oo(m),m.g=null;var X=2}else if(fi(m.h,x))L=x.G,Oa(m.h,x),X=1;else return;if(m.I!=0){if(x.o)if(X==1){L=x.u?x.u.length:0,x=Date.now()-x.F;var Ce=m.D;X=Bn(),pt(X,new Lt(X,L)),va(m)}else ml(m);else if(Ce=x.m,Ce==3||Ce==0&&x.X>0||!(X==1&&to(m,x)||X==2&&ja(m)))switch(L&&L.length>0&&(x=m.h,x.i=x.i.concat(L)),Ce){case 1:Ae(m,5);break;case 4:Ae(m,10);break;case 3:Ae(m,6);break;default:Ae(m,2)}}}function ge(m,x){let L=m.Qa+Math.floor(Math.random()*m.Za);return m.isActive()||(L*=2),L*x}function Ae(m,x){if(m.j.info("Error code "+x),x==2){var L=d(m.bb,m),X=m.Ua;const Ce=!X;X=new Cr(X||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||It(X,"https"),Ns(X),Ce?Pa(X.toString(),L):ds(X.toString(),L)}else Rt(2);m.I=0,m.l&&m.l.pa(x),He(m),$a(m)}n.bb=function(m){m?(this.j.info("Successfully pinged google.com"),Rt(2)):(this.j.info("Failed to ping google.com"),Rt(1))};function He(m){if(m.I=0,m.ja=[],m.l){const x=Da(m.h);(x.length!=0||m.i.length!=0)&&(M(m.ja,x),M(m.ja,m.i),m.h.i.length=0,b(m.i),m.i.length=0),m.l.oa()}}function Qe(m,x,L){var X=L instanceof Cr?er(L):new Cr(L);if(X.g!="")x&&(X.g=x+"."+X.g),Ki(X,X.u);else{var Ce=u.location;X=Ce.protocol,x=x?x+"."+Ce.hostname:Ce.hostname,Ce=+Ce.port;const Me=new Cr(null);X&&It(Me,X),x&&(Me.g=x),Ce&&Ki(Me,Ce),L&&(Me.h=L),X=Me}return L=m.G,x=m.wa,L&&x&&Rn(X,L,x),Rn(X,"VER",m.ka),la(m,X),X}function _t(m,x,L){if(x&&!m.L)throw Error("Can't create secondary domain capable XhrIo object.");return x=m.Aa&&!m.ma?new tr(new Ht({ab:L})):new tr(m.ma),x.Fa(m.L),x}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Tt(){}n=Tt.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Kt(){}Kt.prototype.g=function(m,x){return new Bt(m,x)};function Bt(m,x){$e.call(this),this.g=new Ha(x),this.l=m,this.h=x&&x.messageUrlParams||null,m=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(m?m["X-WebChannel-Content-Type"]=x.messageContentType:m={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.sa&&(m?m["X-WebChannel-Client-Profile"]=x.sa:m={"X-WebChannel-Client-Profile":x.sa}),this.g.U=m,(m=x&&x.Qb)&&!j(m)&&(this.g.u=m),this.A=x&&x.supportsCrossDomainXhr||!1,this.v=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!j(x)&&(this.g.G=x,m=this.h,m!==null&&x in m&&(m=this.h,x in m&&delete m[x])),this.j=new hr(this)}w(Bt,$e),Bt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Bt.prototype.close=function(){Is(this.g)},Bt.prototype.o=function(m){var x=this.g;if(typeof m=="string"){var L={};L.__data__=m,m=L}else this.v&&(L={},L.__data__=$t(m),m=L);x.i.push(new ar(x.Ya++,m)),x.I==3&&va(x)},Bt.prototype.N=function(){this.g.l=null,delete this.j,Is(this.g),delete this.g,Bt.Z.N.call(this)};function Ln(m){Et.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var x=m.__sm__;if(x){e:{for(const L in x){m=L;break e}m=void 0}(this.i=m)&&(m=this.i,x=x!==null&&m in x?x[m]:void 0),this.data=x}else this.data=m}w(Ln,Et);function wr(){Yt.call(this),this.status=1}w(wr,Yt);function hr(m){this.g=m}w(hr,Tt),hr.prototype.ra=function(){pt(this.g,"a")},hr.prototype.qa=function(m){pt(this.g,new Ln(m))},hr.prototype.pa=function(m){pt(this.g,new wr)},hr.prototype.oa=function(){pt(this.g,"b")},Kt.prototype.createWebChannel=Kt.prototype.g,Bt.prototype.send=Bt.prototype.o,Bt.prototype.open=Bt.prototype.m,Bt.prototype.close=Bt.prototype.close,z3=function(){return new Kt},B3=function(){return Bn()},V3=on,j0={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ii.NO_ERROR=0,Ii.TIMEOUT=8,Ii.HTTP_ERROR=6,lm=Ii,ue.COMPLETE="complete",F3=ue,ur.EventType=fn,fn.OPEN="a",fn.CLOSE="b",fn.ERROR="c",fn.MESSAGE="d",$e.prototype.listen=$e.prototype.J,Jf=ur,tr.prototype.listenOnce=tr.prototype.K,tr.prototype.getLastError=tr.prototype.Ha,tr.prototype.getLastErrorCode=tr.prototype.ya,tr.prototype.getStatus=tr.prototype.ca,tr.prototype.getResponseJson=tr.prototype.La,tr.prototype.getResponseText=tr.prototype.la,tr.prototype.send=tr.prototype.ea,tr.prototype.setWithCredentials=tr.prototype.Fa,U3=tr}).apply(typeof Vp<"u"?Vp:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ra.UNAUTHENTICATED=new Ra(null),Ra.GOOGLE_CREDENTIALS=new Ra("google-credentials-uid"),Ra.FIRST_PARTY=new Ra("first-party-uid"),Ra.MOCK_USER=new Ra("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jh="12.9.0";function oL(n){Jh=n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xc=new S2("@firebase/firestore");function Eh(){return xc.logLevel}function wt(n,...e){if(xc.logLevel<=Un.DEBUG){const t=e.map(j2);xc.debug(`Firestore (${Jh}): ${n}`,...t)}}function Hl(n,...e){if(xc.logLevel<=Un.ERROR){const t=e.map(j2);xc.error(`Firestore (${Jh}): ${n}`,...t)}}function Tc(n,...e){if(xc.logLevel<=Un.WARN){const t=e.map(j2);xc.warn(`Firestore (${Jh}): ${n}`,...t)}}function j2(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,q3(n,r,t)}function q3(n,e,t){let r=`FIRESTORE (${Jh}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Hl(r),new Error(r)}function fr(n,e,t,r){let s="Unexpected state";typeof t=="string"?s=t:r=t,n||q3(e,s,r)}function En(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const et={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class jt extends Yl{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H3{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class lL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Ra.UNAUTHENTICATED)))}shutdown(){}}class uL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class cL{constructor(e){this.t=e,this.currentUser=Ra.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){fr(this.o===void 0,42304);let r=this.i;const s=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let o=new Bl;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Bl,e.enqueueRetryable((()=>s(this.currentUser)))};const u=()=>{const f=o;e.enqueueRetryable((async()=>{await f.promise,await s(this.currentUser)}))},c=f=>{wt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((f=>c(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?c(f):(wt("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Bl)}}),0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(wt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(fr(typeof r.accessToken=="string",31837,{l:r}),new H3(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return fr(e===null||typeof e=="string",2055,{h:e}),new Ra(e)}}class hL{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Ra.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class fL{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new hL(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Ra.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Wb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class dL{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,bo(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){fr(this.o===void 0,3512);const r=o=>{o.error!=null&&wt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.m;return this.m=o.token,wt("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const s=o=>{wt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>s(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?s(o):wt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Wb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(fr(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Wb(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pL(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=pL(40);for(let o=0;o<s.length;++o)r.length<20&&s[o]<t&&(r+=e.charAt(s[o]%62))}return r}}function Fn(n,e){return n<e?-1:n>e?1:0}function U0(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const s=n.charAt(r),o=e.charAt(r);if(s!==o)return K1(s)===K1(o)?Fn(s,o):K1(s)?1:-1}return Fn(n.length,e.length)}const mL=55296,gL=57343;function K1(n){const e=n.charCodeAt(0);return e>=mL&&e<=gL}function qh(n,e,t){return n.length===e.length&&n.every(((r,s)=>t(r,e[s])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xb="__name__";class Xo{constructor(e,t,r){t===void 0?t=0:t>e.length&&ln(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&ln(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Xo.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Xo?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const o=Xo.compareSegments(e.get(s),t.get(s));if(o!==0)return o}return Fn(e.length,t.length)}static compareSegments(e,t){const r=Xo.isNumericId(e),s=Xo.isNumericId(t);return r&&!s?-1:!r&&s?1:r&&s?Xo.extractNumericId(e).compare(Xo.extractNumericId(t)):U0(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ju.fromString(e.substring(4,e.length-2))}}class Fr extends Xo{construct(e,t,r){return new Fr(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new jt(et.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((s=>s.length>0)))}return new Fr(t)}static emptyPath(){return new Fr([])}}const yL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ga extends Xo{construct(e,t,r){return new ga(e,t,r)}static isValidIdentifier(e){return yL.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ga.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Xb}static keyField(){return new ga([Xb])}static fromServerFormat(e){const t=[];let r="",s=0;const o=()=>{if(r.length===0)throw new jt(et.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;s<e.length;){const c=e[s];if(c==="\\"){if(s+1===e.length)throw new jt(et.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[s+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new jt(et.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,s+=2}else c==="`"?(u=!u,s++):c!=="."||u?(r+=c,s++):(o(),s++)}if(o(),u)throw new jt(et.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ga(t)}static emptyPath(){return new ga([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.path=e}static fromPath(e){return new Zt(Fr.fromString(e))}static fromName(e){return new Zt(Fr.fromString(e).popFirst(5))}static empty(){return new Zt(Fr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Fr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Fr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Zt(new Fr(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G3(n,e,t){if(!t)throw new jt(et.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function vL(n,e,t,r){if(e===!0&&r===!0)throw new jt(et.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Qb(n){if(!Zt.isDocumentKey(n))throw new jt(et.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Jb(n){if(Zt.isDocumentKey(n))throw new jt(et.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function $3(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function F2(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ln(12329,{type:typeof n})}function Vu(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new jt(et.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=F2(n);throw new jt(et.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ri(n,e){const t={typeString:n};return e&&(t.value=e),t}function Md(n,e){if(!$3(n))throw new jt(et.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const s=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const u=n[r];if(s&&typeof u!==s){t=`JSON field '${r}' must be a ${s}.`;break}if(o!==void 0&&u!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new jt(et.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zb=-62135596800,e_=1e6;class Vr{static now(){return Vr.fromMillis(Date.now())}static fromDate(e){return Vr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*e_);return new Vr(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new jt(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new jt(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Zb)throw new jt(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new jt(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/e_}_compareTo(e){return this.seconds===e.seconds?Fn(this.nanoseconds,e.nanoseconds):Fn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Vr._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Md(e,Vr._jsonSchema))return new Vr(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Zb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Vr._jsonSchemaVersion="firestore/timestamp/1.0",Vr._jsonSchema={type:Ri("string",Vr._jsonSchemaVersion),seconds:Ri("number"),nanoseconds:Ri("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{static fromTimestamp(e){return new yn(e)}static min(){return new yn(new Vr(0,0))}static max(){return new yn(new Vr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yd=-1;function bL(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=yn.fromTimestamp(r===1e9?new Vr(t+1,0):new Vr(t,r));return new Bu(s,Zt.empty(),e)}function _L(n){return new Bu(n.readTime,n.key,yd)}class Bu{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Bu(yn.min(),Zt.empty(),yd)}static max(){return new Bu(yn.max(),Zt.empty(),yd)}}function wL(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Zt.comparator(n.documentKey,e.documentKey),t!==0?t:Fn(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class AL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zh(n){if(n.code!==et.FAILED_PRECONDITION||n.message!==EL)throw n;wt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ln(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Je(((r,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,s)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,s)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Je?t:Je.resolve(t)}catch(t){return Je.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Je.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Je.reject(t)}static resolve(e){return new Je(((t,r)=>{t(e)}))}static reject(e){return new Je(((t,r)=>{r(e)}))}static waitFor(e){return new Je(((t,r)=>{let s=0,o=0,u=!1;e.forEach((c=>{++s,c.next((()=>{++o,u&&o===s&&t()}),(f=>r(f)))})),u=!0,o===s&&t()}))}static or(e){let t=Je.resolve(!1);for(const r of e)t=t.next((s=>s?Je.resolve(s):r()));return t}static forEach(e,t){const r=[];return e.forEach(((s,o)=>{r.push(t.call(this,s,o))})),this.waitFor(r)}static mapArray(e,t){return new Je(((r,s)=>{const o=e.length,u=new Array(o);let c=0;for(let f=0;f<o;f++){const d=f;t(e[d]).next((g=>{u[d]=g,++c,c===o&&r(u)}),(g=>s(g)))}}))}static doWhile(e,t){return new Je(((r,s)=>{const o=()=>{e()===!0?t().next((()=>{o()}),s):r()};o()}))}}function SL(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ef(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}tg.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V2=-1;function ng(n){return n==null}function Rm(n){return n===0&&1/n==-1/0}function xL(n){return typeof n=="number"&&Number.isInteger(n)&&!Rm(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y3="";function TL(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=t_(e)),e=NL(n.get(t),e);return t_(e)}function NL(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const o=n.charAt(s);switch(o){case"\0":t+="";break;case Y3:t+="";break;default:t+=o}}return t}function t_(n){return n+Y3+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n_(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function kc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function K3(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e,t){this.comparator=e,this.root=t||ma.EMPTY}insert(e,t){return new ni(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ma.BLACK,null,null))}remove(e){return new ni(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ma.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bp(this.root,e,this.comparator,!0)}}class Bp{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ma{constructor(e,t,r,s,o){this.key=e,this.value=t,this.color=r??ma.RED,this.left=s??ma.EMPTY,this.right=o??ma.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,o){return new ma(e??this.key,t??this.value,r??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const o=r(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,t,r),null):o===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return ma.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return ma.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ma.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ma.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ln(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ln(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ln(27949);return e+(this.isRed()?0:1)}}ma.EMPTY=null,ma.RED=!0,ma.BLACK=!1;ma.EMPTY=new class{constructor(){this.size=0}get key(){throw ln(57766)}get value(){throw ln(16141)}get color(){throw ln(16727)}get left(){throw ln(29726)}get right(){throw ln(36894)}copy(e,t,r,s,o){return this}insert(e,t,r){return new ma(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(e){this.comparator=e,this.data=new ni(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new r_(this.data.getIterator())}getIteratorFrom(e){return new r_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof Yi)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=r.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Yi(this.comparator);return t.data=e,t}}class r_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(e){this.fields=e,e.sort(ga.comparator)}static empty(){return new wo([])}unionWith(e){let t=new Yi(ga.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new wo(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return qh(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W3 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new W3("Invalid base64 string: "+o):o}})(e);return new ya(t)}static fromUint8Array(e){const t=(function(s){let o="";for(let u=0;u<s.length;++u)o+=String.fromCharCode(s[u]);return o})(e);return new ya(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ya.EMPTY_BYTE_STRING=new ya("");const CL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zu(n){if(fr(!!n,39018),typeof n=="string"){let e=0;const t=CL.exec(n);if(fr(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:yi(n.seconds),nanos:yi(n.nanos)}}function yi(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function qu(n){return typeof n=="string"?ya.fromBase64String(n):ya.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X3="server_timestamp",Q3="__type__",J3="__previous_value__",Z3="__local_write_time__";function B2(n){var t,r;return((r=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[Q3])==null?void 0:r.stringValue)===X3}function rg(n){const e=n.mapValue.fields[J3];return B2(e)?rg(e):e}function vd(n){const e=zu(n.mapValue.fields[Z3].timestampValue);return new Vr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RL{constructor(e,t,r,s,o,u,c,f,d,g,w){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=c,this.longPollingOptions=f,this.useFetchStreams=d,this.isUsingEmulator=g,this.apiKey=w}}const Lm="(default)";class bd{constructor(e,t){this.projectId=e,this.database=t||Lm}static empty(){return new bd("","")}get isDefaultDatabase(){return this.database===Lm}isEqual(e){return e instanceof bd&&e.projectId===this.projectId&&e.database===this.database}}function LL(n,e){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new jt(et.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bd(n.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE="__type__",IL="__max__",zp={mapValue:{}},tE="__vector__",Im="value";function Hu(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?B2(n)?4:OL(n)?9007199254740991:kL(n)?10:11:ln(28295,{value:n})}function ol(n,e){if(n===e)return!0;const t=Hu(n);if(t!==Hu(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return vd(n).isEqual(vd(e));case 3:return(function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const u=zu(s.timestampValue),c=zu(o.timestampValue);return u.seconds===c.seconds&&u.nanos===c.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(s,o){return qu(s.bytesValue).isEqual(qu(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(s,o){return yi(s.geoPointValue.latitude)===yi(o.geoPointValue.latitude)&&yi(s.geoPointValue.longitude)===yi(o.geoPointValue.longitude)})(n,e);case 2:return(function(s,o){if("integerValue"in s&&"integerValue"in o)return yi(s.integerValue)===yi(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const u=yi(s.doubleValue),c=yi(o.doubleValue);return u===c?Rm(u)===Rm(c):isNaN(u)&&isNaN(c)}return!1})(n,e);case 9:return qh(n.arrayValue.values||[],e.arrayValue.values||[],ol);case 10:case 11:return(function(s,o){const u=s.mapValue.fields||{},c=o.mapValue.fields||{};if(n_(u)!==n_(c))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(c[f]===void 0||!ol(u[f],c[f])))return!1;return!0})(n,e);default:return ln(52216,{left:n})}}function _d(n,e){return(n.values||[]).find((t=>ol(t,e)))!==void 0}function Hh(n,e){if(n===e)return 0;const t=Hu(n),r=Hu(e);if(t!==r)return Fn(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Fn(n.booleanValue,e.booleanValue);case 2:return(function(o,u){const c=yi(o.integerValue||o.doubleValue),f=yi(u.integerValue||u.doubleValue);return c<f?-1:c>f?1:c===f?0:isNaN(c)?isNaN(f)?0:-1:1})(n,e);case 3:return i_(n.timestampValue,e.timestampValue);case 4:return i_(vd(n),vd(e));case 5:return U0(n.stringValue,e.stringValue);case 6:return(function(o,u){const c=qu(o),f=qu(u);return c.compareTo(f)})(n.bytesValue,e.bytesValue);case 7:return(function(o,u){const c=o.split("/"),f=u.split("/");for(let d=0;d<c.length&&d<f.length;d++){const g=Fn(c[d],f[d]);if(g!==0)return g}return Fn(c.length,f.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,u){const c=Fn(yi(o.latitude),yi(u.latitude));return c!==0?c:Fn(yi(o.longitude),yi(u.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return a_(n.arrayValue,e.arrayValue);case 10:return(function(o,u){var A,b,M,P;const c=o.fields||{},f=u.fields||{},d=(A=c[Im])==null?void 0:A.arrayValue,g=(b=f[Im])==null?void 0:b.arrayValue,w=Fn(((M=d==null?void 0:d.values)==null?void 0:M.length)||0,((P=g==null?void 0:g.values)==null?void 0:P.length)||0);return w!==0?w:a_(d,g)})(n.mapValue,e.mapValue);case 11:return(function(o,u){if(o===zp.mapValue&&u===zp.mapValue)return 0;if(o===zp.mapValue)return 1;if(u===zp.mapValue)return-1;const c=o.fields||{},f=Object.keys(c),d=u.fields||{},g=Object.keys(d);f.sort(),g.sort();for(let w=0;w<f.length&&w<g.length;++w){const A=U0(f[w],g[w]);if(A!==0)return A;const b=Hh(c[f[w]],d[g[w]]);if(b!==0)return b}return Fn(f.length,g.length)})(n.mapValue,e.mapValue);default:throw ln(23264,{he:t})}}function i_(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Fn(n,e);const t=zu(n),r=zu(e),s=Fn(t.seconds,r.seconds);return s!==0?s:Fn(t.nanos,r.nanos)}function a_(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const o=Hh(t[s],r[s]);if(o)return o}return Fn(t.length,r.length)}function Gh(n){return F0(n)}function F0(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=zu(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return qu(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Zt.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",s=!0;for(const o of t.values||[])s?s=!1:r+=",",r+=F0(o);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let s="{",o=!0;for(const u of r)o?o=!1:s+=",",s+=`${u}:${F0(t.fields[u])}`;return s+"}"})(n.mapValue):ln(61005,{value:n})}function um(n){switch(Hu(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=rg(n);return e?16+um(e):16;case 5:return 2*n.stringValue.length;case 6:return qu(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,o)=>s+um(o)),0)})(n.arrayValue);case 10:case 11:return(function(r){let s=0;return kc(r.fields,((o,u)=>{s+=o.length+um(u)})),s})(n.mapValue);default:throw ln(13486,{value:n})}}function V0(n){return!!n&&"integerValue"in n}function z2(n){return!!n&&"arrayValue"in n}function s_(n){return!!n&&"nullValue"in n}function o_(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function cm(n){return!!n&&"mapValue"in n}function kL(n){var t,r;return((r=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[eE])==null?void 0:r.stringValue)===tE}function ad(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return kc(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=ad(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ad(n.arrayValue.values[t]);return e}return{...n}}function OL(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===IL}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e){this.value=e}static empty(){return new $s({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!cm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ad(t)}setAll(e){let t=ga.emptyPath(),r={},s=[];e.forEach(((u,c)=>{if(!t.isImmediateParentOf(c)){const f=this.getFieldsMap(t);this.applyChanges(f,r,s),r={},s=[],t=c.popLast()}u?r[c.lastSegment()]=ad(u):s.push(c.lastSegment())}));const o=this.getFieldsMap(t);this.applyChanges(o,r,s)}delete(e){const t=this.field(e.popLast());cm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ol(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];cm(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){kc(t,((s,o)=>e[s]=o));for(const s of r)delete e[s]}clone(){return new $s(ad(this.value))}}function nE(n){const e=[];return kc(n.fields,((t,r)=>{const s=new ga([t]);if(cm(r)){const o=nE(r.mapValue).fields;if(o.length===0)e.push(s);else for(const u of o)e.push(s.child(u))}else e.push(s)})),new wo(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(e,t,r,s,o,u,c){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=o,this.data=u,this.documentState=c}static newInvalidDocument(e){return new La(e,0,yn.min(),yn.min(),yn.min(),$s.empty(),0)}static newFoundDocument(e,t,r,s){return new La(e,1,t,yn.min(),r,s,0)}static newNoDocument(e,t){return new La(e,2,t,yn.min(),yn.min(),$s.empty(),0)}static newUnknownDocument(e,t){return new La(e,3,t,yn.min(),yn.min(),$s.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(yn.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$s.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$s.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=yn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof La&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new La(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(e,t){this.position=e,this.inclusive=t}}function l_(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const o=e[s],u=n.position[s];if(o.field.isKeyField()?r=Zt.comparator(Zt.fromName(u.referenceValue),t.key):r=Hh(u,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function u_(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ol(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(e,t="asc"){this.field=e,this.dir=t}}function DL(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{}class Gi extends rE{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new ML(e,t,r):t==="array-contains"?new FL(e,r):t==="in"?new VL(e,r):t==="not-in"?new BL(e,r):t==="array-contains-any"?new zL(e,r):new Gi(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new jL(e,r):new UL(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Hh(t,this.value)):t!==null&&Hu(this.value)===Hu(t)&&this.matchesComparison(Hh(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ln(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ll extends rE{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new ll(e,t)}matches(e){return iE(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function iE(n){return n.op==="and"}function aE(n){return PL(n)&&iE(n)}function PL(n){for(const e of n.filters)if(e instanceof ll)return!1;return!0}function B0(n){if(n instanceof Gi)return n.field.canonicalString()+n.op.toString()+Gh(n.value);if(aE(n))return n.filters.map((e=>B0(e))).join(",");{const e=n.filters.map((t=>B0(t))).join(",");return`${n.op}(${e})`}}function sE(n,e){return n instanceof Gi?(function(r,s){return s instanceof Gi&&r.op===s.op&&r.field.isEqual(s.field)&&ol(r.value,s.value)})(n,e):n instanceof ll?(function(r,s){return s instanceof ll&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((o,u,c)=>o&&sE(u,s.filters[c])),!0):!1})(n,e):void ln(19439)}function oE(n){return n instanceof Gi?(function(t){return`${t.field.canonicalString()} ${t.op} ${Gh(t.value)}`})(n):n instanceof ll?(function(t){return t.op.toString()+" {"+t.getFilters().map(oE).join(" ,")+"}"})(n):"Filter"}class ML extends Gi{constructor(e,t,r){super(e,t,r),this.key=Zt.fromName(r.referenceValue)}matches(e){const t=Zt.comparator(e.key,this.key);return this.matchesComparison(t)}}class jL extends Gi{constructor(e,t){super(e,"in",t),this.keys=lE("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class UL extends Gi{constructor(e,t){super(e,"not-in",t),this.keys=lE("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function lE(n,e){var t;return(((t=e.arrayValue)==null?void 0:t.values)||[]).map((r=>Zt.fromName(r.referenceValue)))}class FL extends Gi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return z2(t)&&_d(t.arrayValue,this.value)}}class VL extends Gi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&_d(this.value.arrayValue,t)}}class BL extends Gi{constructor(e,t){super(e,"not-in",t)}matches(e){if(_d(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!_d(this.value.arrayValue,t)}}class zL extends Gi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!z2(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>_d(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qL{constructor(e,t=null,r=[],s=[],o=null,u=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=o,this.startAt=u,this.endAt=c,this.Te=null}}function c_(n,e=null,t=[],r=[],s=null,o=null,u=null){return new qL(n,e,t,r,s,o,u)}function q2(n){const e=En(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>B0(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),ng(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>Gh(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>Gh(r))).join(",")),e.Te=t}return e.Te}function H2(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!DL(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!sE(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!u_(n.startAt,e.startAt)&&u_(n.endAt,e.endAt)}function z0(n){return Zt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e,t=null,r=[],s=[],o=null,u="F",c=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=o,this.limitType=u,this.startAt=c,this.endAt=f,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function HL(n,e,t,r,s,o,u,c){return new ig(n,e,t,r,s,o,u,c)}function G2(n){return new ig(n)}function h_(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function GL(n){return Zt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function $L(n){return n.collectionGroup!==null}function sd(n){const e=En(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let c=new Yi(ga.comparator);return u.filters.forEach((f=>{f.getFlattenedFilters().forEach((d=>{d.isInequality()&&(c=c.add(d.field))}))})),c})(e).forEach((o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new Om(o,r))})),t.has(ga.keyField().canonicalString())||e.Ie.push(new Om(ga.keyField(),r))}return e.Ie}function tl(n){const e=En(n);return e.Ee||(e.Ee=YL(e,sd(n))),e.Ee}function YL(n,e){if(n.limitType==="F")return c_(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((s=>{const o=s.dir==="desc"?"asc":"desc";return new Om(s.field,o)}));const t=n.endAt?new km(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new km(n.startAt.position,n.startAt.inclusive):null;return c_(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function q0(n,e,t){return new ig(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function ag(n,e){return H2(tl(n),tl(e))&&n.limitType===e.limitType}function uE(n){return`${q2(tl(n))}|lt:${n.limitType}`}function Ah(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((s=>oE(s))).join(", ")}]`),ng(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((s=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(s))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((s=>Gh(s))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((s=>Gh(s))).join(",")),`Target(${r})`})(tl(n))}; limitType=${n.limitType})`}function sg(n,e){return e.isFoundDocument()&&(function(r,s){const o=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Zt.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(n,e)&&(function(r,s){for(const o of sd(r))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(r,s){for(const o of r.filters)if(!o.matches(s))return!1;return!0})(n,e)&&(function(r,s){return!(r.startAt&&!(function(u,c,f){const d=l_(u,c,f);return u.inclusive?d<=0:d<0})(r.startAt,sd(r),s)||r.endAt&&!(function(u,c,f){const d=l_(u,c,f);return u.inclusive?d>=0:d>0})(r.endAt,sd(r),s))})(n,e)}function KL(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function cE(n){return(e,t)=>{let r=!1;for(const s of sd(n)){const o=WL(s,e,t);if(o!==0)return o;r=r||s.field.isKeyField()}return 0}}function WL(n,e,t){const r=n.field.isKeyField()?Zt.comparator(e.key,t.key):(function(o,u,c){const f=u.data.field(o),d=c.data.field(o);return f!==null&&d!==null?Hh(f,d):ln(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ln(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,o]of r)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){kc(this.inner,((t,r)=>{for(const[s,o]of r)e(s,o)}))}isEmpty(){return K3(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XL=new ni(Zt.comparator);function Gl(){return XL}const hE=new ni(Zt.comparator);function Zf(...n){let e=hE;for(const t of n)e=e.insert(t.key,t);return e}function fE(n){let e=hE;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function vc(){return od()}function dE(){return od()}function od(){return new Oc((n=>n.toString()),((n,e)=>n.isEqual(e)))}const QL=new ni(Zt.comparator),JL=new Yi(Zt.comparator);function Vn(...n){let e=JL;for(const t of n)e=e.add(t);return e}const ZL=new Yi(Fn);function eI(){return ZL}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $2(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Rm(e)?"-0":e}}function pE(n){return{integerValue:""+n}}function tI(n,e){return xL(e)?pE(e):$2(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(){this._=void 0}}function nI(n,e,t){return n instanceof wd?(function(s,o){const u={fields:{[Q3]:{stringValue:X3},[Z3]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&B2(o)&&(o=rg(o)),o&&(u.fields[J3]=o),{mapValue:u}})(t,e):n instanceof Ed?gE(n,e):n instanceof Ad?yE(n,e):(function(s,o){const u=mE(s,o),c=f_(u)+f_(s.Ae);return V0(u)&&V0(s.Ae)?pE(c):$2(s.serializer,c)})(n,e)}function rI(n,e,t){return n instanceof Ed?gE(n,e):n instanceof Ad?yE(n,e):t}function mE(n,e){return n instanceof Dm?(function(r){return V0(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class wd extends og{}class Ed extends og{constructor(e){super(),this.elements=e}}function gE(n,e){const t=vE(e);for(const r of n.elements)t.some((s=>ol(s,r)))||t.push(r);return{arrayValue:{values:t}}}class Ad extends og{constructor(e){super(),this.elements=e}}function yE(n,e){let t=vE(e);for(const r of n.elements)t=t.filter((s=>!ol(s,r)));return{arrayValue:{values:t}}}class Dm extends og{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function f_(n){return yi(n.integerValue||n.doubleValue)}function vE(n){return z2(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(e,t){this.field=e,this.transform=t}}function aI(n,e){return n.field.isEqual(e.field)&&(function(r,s){return r instanceof Ed&&s instanceof Ed||r instanceof Ad&&s instanceof Ad?qh(r.elements,s.elements,ol):r instanceof Dm&&s instanceof Dm?ol(r.Ae,s.Ae):r instanceof wd&&s instanceof wd})(n.transform,e.transform)}class sI{constructor(e,t){this.version=e,this.transformResults=t}}class nl{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new nl}static exists(e){return new nl(void 0,e)}static updateTime(e){return new nl(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function hm(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class lg{}function bE(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Y2(n.key,nl.none()):new jd(n.key,n.data,nl.none());{const t=n.data,r=$s.empty();let s=new Yi(ga.comparator);for(let o of e.fields)if(!s.has(o)){let u=t.field(o);u===null&&o.length>1&&(o=o.popLast(),u=t.field(o)),u===null?r.delete(o):r.set(o,u),s=s.add(o)}return new Dc(n.key,r,new wo(s.toArray()),nl.none())}}function oI(n,e,t){n instanceof jd?(function(s,o,u){const c=s.value.clone(),f=p_(s.fieldTransforms,o,u.transformResults);c.setAll(f),o.convertToFoundDocument(u.version,c).setHasCommittedMutations()})(n,e,t):n instanceof Dc?(function(s,o,u){if(!hm(s.precondition,o))return void o.convertToUnknownDocument(u.version);const c=p_(s.fieldTransforms,o,u.transformResults),f=o.data;f.setAll(_E(s)),f.setAll(c),o.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(n,e,t):(function(s,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,t)}function ld(n,e,t,r){return n instanceof jd?(function(o,u,c,f){if(!hm(o.precondition,u))return c;const d=o.value.clone(),g=m_(o.fieldTransforms,f,u);return d.setAll(g),u.convertToFoundDocument(u.version,d).setHasLocalMutations(),null})(n,e,t,r):n instanceof Dc?(function(o,u,c,f){if(!hm(o.precondition,u))return c;const d=m_(o.fieldTransforms,f,u),g=u.data;return g.setAll(_E(o)),g.setAll(d),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((w=>w.field)))})(n,e,t,r):(function(o,u,c){return hm(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):c})(n,e,t)}function lI(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),o=mE(r.transform,s||null);o!=null&&(t===null&&(t=$s.empty()),t.set(r.field,o))}return t||null}function d_(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&qh(r,s,((o,u)=>aI(o,u)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class jd extends lg{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Dc extends lg{constructor(e,t,r,s,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function _E(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function p_(n,e,t){const r=new Map;fr(n.length===t.length,32656,{Ve:t.length,de:n.length});for(let s=0;s<t.length;s++){const o=n[s],u=o.transform,c=e.data.field(o.field);r.set(o.field,rI(u,c,t[s]))}return r}function m_(n,e,t){const r=new Map;for(const s of n){const o=s.transform,u=t.data.field(s.field);r.set(s.field,nI(o,u,e))}return r}class Y2 extends lg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class uI extends lg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&oI(o,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=ld(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=ld(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=dE();return this.mutations.forEach((s=>{const o=e.get(s.key),u=o.overlayedDocument;let c=this.applyToLocalView(u,o.mutatedFields);c=t.has(s.key)?null:c;const f=bE(u,c);f!==null&&r.set(s.key,f),u.isValidDocument()||u.convertToNoDocument(yn.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Vn())}isEqual(e){return this.batchId===e.batchId&&qh(this.mutations,e.mutations,((t,r)=>d_(t,r)))&&qh(this.baseMutations,e.baseMutations,((t,r)=>d_(t,r)))}}class K2{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){fr(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=(function(){return QL})();const o=e.mutations;for(let u=0;u<o.length;u++)s=s.insert(o[u].key,r[u].version);return new K2(e,t,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ci,Wn;function dI(n){switch(n){case et.OK:return ln(64938);case et.CANCELLED:case et.UNKNOWN:case et.DEADLINE_EXCEEDED:case et.RESOURCE_EXHAUSTED:case et.INTERNAL:case et.UNAVAILABLE:case et.UNAUTHENTICATED:return!1;case et.INVALID_ARGUMENT:case et.NOT_FOUND:case et.ALREADY_EXISTS:case et.PERMISSION_DENIED:case et.FAILED_PRECONDITION:case et.ABORTED:case et.OUT_OF_RANGE:case et.UNIMPLEMENTED:case et.DATA_LOSS:return!0;default:return ln(15467,{code:n})}}function wE(n){if(n===void 0)return Hl("GRPC error has no .code"),et.UNKNOWN;switch(n){case Ci.OK:return et.OK;case Ci.CANCELLED:return et.CANCELLED;case Ci.UNKNOWN:return et.UNKNOWN;case Ci.DEADLINE_EXCEEDED:return et.DEADLINE_EXCEEDED;case Ci.RESOURCE_EXHAUSTED:return et.RESOURCE_EXHAUSTED;case Ci.INTERNAL:return et.INTERNAL;case Ci.UNAVAILABLE:return et.UNAVAILABLE;case Ci.UNAUTHENTICATED:return et.UNAUTHENTICATED;case Ci.INVALID_ARGUMENT:return et.INVALID_ARGUMENT;case Ci.NOT_FOUND:return et.NOT_FOUND;case Ci.ALREADY_EXISTS:return et.ALREADY_EXISTS;case Ci.PERMISSION_DENIED:return et.PERMISSION_DENIED;case Ci.FAILED_PRECONDITION:return et.FAILED_PRECONDITION;case Ci.ABORTED:return et.ABORTED;case Ci.OUT_OF_RANGE:return et.OUT_OF_RANGE;case Ci.UNIMPLEMENTED:return et.UNIMPLEMENTED;case Ci.DATA_LOSS:return et.DATA_LOSS;default:return ln(39323,{code:n})}}(Wn=Ci||(Ci={}))[Wn.OK=0]="OK",Wn[Wn.CANCELLED=1]="CANCELLED",Wn[Wn.UNKNOWN=2]="UNKNOWN",Wn[Wn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Wn[Wn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Wn[Wn.NOT_FOUND=5]="NOT_FOUND",Wn[Wn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Wn[Wn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Wn[Wn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Wn[Wn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Wn[Wn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Wn[Wn.ABORTED=10]="ABORTED",Wn[Wn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Wn[Wn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Wn[Wn.INTERNAL=13]="INTERNAL",Wn[Wn.UNAVAILABLE=14]="UNAVAILABLE",Wn[Wn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pI(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI=new ju([4294967295,4294967295],0);function g_(n){const e=pI().encode(n),t=new j3;return t.update(e),new Uint8Array(t.digest())}function y_(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ju([t,r],0),new ju([s,o],0)]}class W2{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new ed(`Invalid padding: ${t}`);if(r<0)throw new ed(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ed(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new ed(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=ju.fromNumber(this.ge)}ye(e,t,r){let s=e.add(t.multiply(ju.fromNumber(r)));return s.compare(mI)===1&&(s=new ju([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=g_(e),[r,s]=y_(t);for(let o=0;o<this.hashCount;o++){const u=this.ye(r,s,o);if(!this.we(u))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new W2(o,s,t);return r.forEach((c=>u.insert(c))),u}insert(e){if(this.ge===0)return;const t=g_(e),[r,s]=y_(t);for(let o=0;o<this.hashCount;o++){const u=this.ye(r,s,o);this.be(u)}}be(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class ed extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(e,t,r,s,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,Ud.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new ug(yn.min(),s,new ni(Fn),Gl(),Vn())}}class Ud{constructor(e,t,r,s,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Ud(r,t,Vn(),Vn(),Vn())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(e,t,r,s){this.Se=e,this.removedTargetIds=t,this.key=r,this.De=s}}class EE{constructor(e,t){this.targetId=e,this.Ce=t}}class AE{constructor(e,t,r=ya.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class v_{constructor(){this.ve=0,this.Fe=b_(),this.Me=ya.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Vn(),t=Vn(),r=Vn();return this.Fe.forEach(((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:ln(38017,{changeType:o})}})),new Ud(this.Me,this.xe,e,t,r)}Ke(){this.Oe=!1,this.Fe=b_()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,fr(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class gI{constructor(e){this.Ge=e,this.ze=new Map,this.je=Gl(),this.He=qp(),this.Je=qp(),this.Ze=new ni(Fn)}Xe(e){for(const t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:ln(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,s)=>{this.rt(s)&&t(s)}))}st(e){const t=e.targetId,r=e.Ce.count,s=this.ot(t);if(s){const o=s.target;if(z0(o))if(r===0){const u=new Zt(o.path);this.et(t,u,La.newNoDocument(u,yn.min()))}else fr(r===1,20013,{expectedCount:r});else{const u=this._t(t);if(u!==r){const c=this.ut(e),f=c?this.ct(c,e,u):1;if(f!==0){this.it(t);const d=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,d)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:o=0}=t;let u,c;try{u=qu(r).toUint8Array()}catch(f){if(f instanceof W3)return Tc("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{c=new W2(u,s,o)}catch(f){return Tc(f instanceof ed?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return c.ge===0?null:c}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let s=0;return r.forEach((o=>{const u=this.Ge.ht(),c=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.et(t,o,null),s++)})),s}Tt(e){const t=new Map;this.ze.forEach(((o,u)=>{const c=this.ot(u);if(c){if(o.current&&z0(c.target)){const f=new Zt(c.target.path);this.It(f).has(u)||this.Et(u,f)||this.et(u,f,La.newNoDocument(f,e))}o.Be&&(t.set(u,o.ke()),o.Ke())}}));let r=Vn();this.Je.forEach(((o,u)=>{let c=!0;u.forEachWhile((f=>{const d=this.ot(f);return!d||d.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(r=r.add(o))})),this.je.forEach(((o,u)=>u.setReadTime(e)));const s=new ug(e,t,this.Ze,this.je,r);return this.je=Gl(),this.He=qp(),this.Je=qp(),this.Ze=new ni(Fn),s}Ye(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,r),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,t)?s.qe(t,1):s.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new v_,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new Yi(Fn),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new Yi(Fn),this.He=this.He.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||wt("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new v_),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function qp(){return new ni(Zt.comparator)}function b_(){return new ni(Zt.comparator)}const yI={asc:"ASCENDING",desc:"DESCENDING"},vI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},bI={and:"AND",or:"OR"};class _I{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function H0(n,e){return n.useProto3Json||ng(e)?e:{value:e}}function Pm(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function SE(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function wI(n,e){return Pm(n,e.toTimestamp())}function rl(n){return fr(!!n,49232),yn.fromTimestamp((function(t){const r=zu(t);return new Vr(r.seconds,r.nanos)})(n))}function X2(n,e){return G0(n,e).canonicalString()}function G0(n,e){const t=(function(s){return new Fr(["projects",s.projectId,"databases",s.database])})(n).child("documents");return e===void 0?t:t.child(e)}function xE(n){const e=Fr.fromString(n);return fr(LE(e),10190,{key:e.toString()}),e}function $0(n,e){return X2(n.databaseId,e.path)}function W1(n,e){const t=xE(e);if(t.get(1)!==n.databaseId.projectId)throw new jt(et.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new jt(et.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Zt(NE(t))}function TE(n,e){return X2(n.databaseId,e)}function EI(n){const e=xE(n);return e.length===4?Fr.emptyPath():NE(e)}function Y0(n){return new Fr(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function NE(n){return fr(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function __(n,e,t){return{name:$0(n,e),fields:t.value.mapValue.fields}}function AI(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:ln(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=(function(d,g){return d.useProto3Json?(fr(g===void 0||typeof g=="string",58123),ya.fromBase64String(g||"")):(fr(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),ya.fromUint8Array(g||new Uint8Array))})(n,e.targetChange.resumeToken),u=e.targetChange.cause,c=u&&(function(d){const g=d.code===void 0?et.UNKNOWN:wE(d.code);return new jt(g,d.message||"")})(u);t=new AE(r,s,o,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=W1(n,r.document.name),o=rl(r.document.updateTime),u=r.document.createTime?rl(r.document.createTime):yn.min(),c=new $s({mapValue:{fields:r.document.fields}}),f=La.newFoundDocument(s,o,u,c),d=r.targetIds||[],g=r.removedTargetIds||[];t=new fm(d,g,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=W1(n,r.document),o=r.readTime?rl(r.readTime):yn.min(),u=La.newNoDocument(s,o),c=r.removedTargetIds||[];t=new fm([],c,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=W1(n,r.document),o=r.removedTargetIds||[];t=new fm([],o,s,null)}else{if(!("filter"in e))return ln(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:o}=r,u=new fI(s,o),c=r.targetId;t=new EE(c,u)}}return t}function SI(n,e){let t;if(e instanceof jd)t={update:__(n,e.key,e.value)};else if(e instanceof Y2)t={delete:$0(n,e.key)};else if(e instanceof Dc)t={update:__(n,e.key,e.data),updateMask:OI(e.fieldMask)};else{if(!(e instanceof uI))return ln(16599,{dt:e.type});t={verify:$0(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(o,u){const c=u.transform;if(c instanceof wd)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Ed)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Ad)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Dm)return{fieldPath:u.field.canonicalString(),increment:c.Ae};throw ln(20930,{transform:u.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(s,o){return o.updateTime!==void 0?{updateTime:wI(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ln(27497)})(n,e.precondition)),t}function xI(n,e){return n&&n.length>0?(fr(e!==void 0,14353),n.map((t=>(function(s,o){let u=s.updateTime?rl(s.updateTime):rl(o);return u.isEqual(yn.min())&&(u=rl(o)),new sI(u,s.transformResults||[])})(t,e)))):[]}function TI(n,e){return{documents:[TE(n,e.path)]}}function NI(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=TE(n,s);const o=(function(d){if(d.length!==0)return RE(ll.create(d,"and"))})(e.filters);o&&(t.structuredQuery.where=o);const u=(function(d){if(d.length!==0)return d.map((g=>(function(A){return{field:Sh(A.field),direction:LI(A.dir)}})(g)))})(e.orderBy);u&&(t.structuredQuery.orderBy=u);const c=H0(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{ft:t,parent:s}}function CI(n){let e=EI(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){fr(r===1,65062);const g=t.from[0];g.allDescendants?s=g.collectionId:e=e.child(g.collectionId)}let o=[];t.where&&(o=(function(w){const A=CE(w);return A instanceof ll&&aE(A)?A.getFilters():[A]})(t.where));let u=[];t.orderBy&&(u=(function(w){return w.map((A=>(function(M){return new Om(xh(M.field),(function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(M.direction))})(A)))})(t.orderBy));let c=null;t.limit&&(c=(function(w){let A;return A=typeof w=="object"?w.value:w,ng(A)?null:A})(t.limit));let f=null;t.startAt&&(f=(function(w){const A=!!w.before,b=w.values||[];return new km(b,A)})(t.startAt));let d=null;return t.endAt&&(d=(function(w){const A=!w.before,b=w.values||[];return new km(b,A)})(t.endAt)),HL(e,s,u,o,c,"F",f,d)}function RI(n,e){const t=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ln(28987,{purpose:s})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function CE(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=xh(t.unaryFilter.field);return Gi.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=xh(t.unaryFilter.field);return Gi.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=xh(t.unaryFilter.field);return Gi.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=xh(t.unaryFilter.field);return Gi.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ln(61313);default:return ln(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Gi.create(xh(t.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ln(58110);default:return ln(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return ll.create(t.compositeFilter.filters.map((r=>CE(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ln(1026)}})(t.compositeFilter.op))})(n):ln(30097,{filter:n})}function LI(n){return yI[n]}function II(n){return vI[n]}function kI(n){return bI[n]}function Sh(n){return{fieldPath:n.canonicalString()}}function xh(n){return ga.fromServerFormat(n.fieldPath)}function RE(n){return n instanceof Gi?(function(t){if(t.op==="=="){if(o_(t.value))return{unaryFilter:{field:Sh(t.field),op:"IS_NAN"}};if(s_(t.value))return{unaryFilter:{field:Sh(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(o_(t.value))return{unaryFilter:{field:Sh(t.field),op:"IS_NOT_NAN"}};if(s_(t.value))return{unaryFilter:{field:Sh(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Sh(t.field),op:II(t.op),value:t.value}}})(n):n instanceof ll?(function(t){const r=t.getFilters().map((s=>RE(s)));return r.length===1?r[0]:{compositeFilter:{op:kI(t.op),filters:r}}})(n):ln(54877,{filter:n})}function OI(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function LE(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function IE(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(e,t,r,s,o=yn.min(),u=yn.min(),c=ya.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=c,this.expectedCount=f}withSequenceNumber(e){return new ku(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ku(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ku(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ku(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(e){this.yt=e}}function PI(n){const e=CI({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?q0(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(){this.Sn=new jI}addToCollectionParentIndex(e,t){return this.Sn.add(t),Je.resolve()}getCollectionParents(e,t){return Je.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return Je.resolve()}deleteFieldIndex(e,t){return Je.resolve()}deleteAllFieldIndexes(e){return Je.resolve()}createTargetIndexes(e,t){return Je.resolve()}getDocumentsMatchingTarget(e,t){return Je.resolve(null)}getIndexType(e,t){return Je.resolve(0)}getFieldIndexes(e,t){return Je.resolve([])}getNextCollectionGroupToUpdate(e){return Je.resolve(null)}getMinOffset(e,t){return Je.resolve(Bu.min())}getMinOffsetFromCollectionGroup(e,t){return Je.resolve(Bu.min())}updateCollectionGroup(e,t,r){return Je.resolve()}updateIndexEntries(e,t){return Je.resolve()}}class jI{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new Yi(Fr.comparator),o=!s.has(r);return this.index[t]=s.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Yi(Fr.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},kE=41943040;class us{static withCacheSize(e){return new us(e,us.DEFAULT_COLLECTION_PERCENTILE,us.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */us.DEFAULT_COLLECTION_PERCENTILE=10,us.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,us.DEFAULT=new us(kE,us.DEFAULT_COLLECTION_PERCENTILE,us.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),us.DISABLED=new us(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new $h(0)}static ar(){return new $h(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_="LruGarbageCollector",UI=1048576;function A_([n,e],[t,r]){const s=Fn(n,t);return s===0?Fn(e,r):s}class FI{constructor(e){this.Pr=e,this.buffer=new Yi(A_),this.Tr=0}Ir(){return++this.Tr}Er(e){const t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();A_(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class VI{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){wt(E_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ef(t)?wt(E_,"Ignoring IndexedDB error during garbage collection: ",t):await Zh(t)}await this.Ar(3e5)}))}}class BI{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return Je.resolve(tg.ce);const r=new FI(t);return this.Vr.forEachTarget(e,(s=>r.Er(s.sequenceNumber))).next((()=>this.Vr.mr(e,(s=>r.Er(s))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(wt("LruGarbageCollector","Garbage collection skipped; disabled"),Je.resolve(w_)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(wt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),w_):this.gr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let r,s,o,u,c,f,d;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(wt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),s=this.params.maximumSequenceNumbersToCollect):s=w,u=Date.now(),this.nthSequenceNumber(e,s)))).next((w=>(r=w,c=Date.now(),this.removeTargets(e,r,t)))).next((w=>(o=w,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((w=>(d=Date.now(),Eh()<=Un.DEBUG&&wt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-g}ms
	Determined least recently used ${s} in `+(c-u)+`ms
	Removed ${o} targets in `+(f-c)+`ms
	Removed ${w} documents in `+(d-f)+`ms
Total Duration: ${d-g}ms`),Je.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:w}))))}}function zI(n,e){return new BI(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(){this.changes=new Oc((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,La.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?Je.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,t)))).next((s=>(r!==null&&ld(r.mutation,s,wo.empty(),Vr.now()),s)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,Vn()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=Vn()){const s=vc();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,r).next((o=>{let u=Zf();return o.forEach(((c,f)=>{u=u.insert(c,f.overlayedDocument)})),u}))))}getOverlayedDocuments(e,t){const r=vc();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,Vn())))}populateOverlays(e,t,r){const s=[];return r.forEach((o=>{t.has(o)||s.push(o)})),this.documentOverlayCache.getOverlays(e,s).next((o=>{o.forEach(((u,c)=>{t.set(u,c)}))}))}computeViews(e,t,r,s){let o=Gl();const u=od(),c=(function(){return od()})();return t.forEach(((f,d)=>{const g=r.get(d.key);s.has(d.key)&&(g===void 0||g.mutation instanceof Dc)?o=o.insert(d.key,d):g!==void 0?(u.set(d.key,g.mutation.getFieldMask()),ld(g.mutation,d,g.mutation.getFieldMask(),Vr.now())):u.set(d.key,wo.empty())})),this.recalculateAndSaveOverlays(e,o).next((f=>(f.forEach(((d,g)=>u.set(d,g))),t.forEach(((d,g)=>c.set(d,new HI(g,u.get(d)??null)))),c)))}recalculateAndSaveOverlays(e,t){const r=od();let s=new ni(((u,c)=>u-c)),o=Vn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((u=>{for(const c of u)c.keys().forEach((f=>{const d=t.get(f);if(d===null)return;let g=r.get(f)||wo.empty();g=c.applyToLocalView(d,g),r.set(f,g);const w=(s.get(c.batchId)||Vn()).add(f);s=s.insert(c.batchId,w)}))})).next((()=>{const u=[],c=s.getReverseIterator();for(;c.hasNext();){const f=c.getNext(),d=f.key,g=f.value,w=dE();g.forEach((A=>{if(!o.has(A)){const b=bE(t.get(A),r.get(A));b!==null&&w.set(A,b),o=o.add(A)}})),u.push(this.documentOverlayCache.saveOverlays(e,d,w))}return Je.waitFor(u)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,s){return GL(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):$L(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next((o=>{const u=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-o.size):Je.resolve(vc());let c=yd,f=o;return u.next((d=>Je.forEach(d,((g,w)=>(c<w.largestBatchId&&(c=w.largestBatchId),o.get(g)?Je.resolve():this.remoteDocumentCache.getEntry(e,g).next((A=>{f=f.insert(g,A)}))))).next((()=>this.populateOverlays(e,d,o))).next((()=>this.computeViews(e,f,d,Vn()))).next((g=>({batchId:c,changes:fE(g)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Zt(t)).next((r=>{let s=Zf();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const o=t.collectionGroup;let u=Zf();return this.indexManager.getCollectionParents(e,o).next((c=>Je.forEach(c,(f=>{const d=(function(w,A){return new ig(A,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(t,f.child(o));return this.getDocumentsMatchingCollectionQuery(e,d,r,s).next((g=>{g.forEach(((w,A)=>{u=u.insert(w,A)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,t,r,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,s)))).next((u=>{o.forEach(((f,d)=>{const g=d.getKey();u.get(g)===null&&(u=u.insert(g,La.newInvalidDocument(g)))}));let c=Zf();return u.forEach(((f,d)=>{const g=o.get(f);g!==void 0&&ld(g.mutation,d,wo.empty(),Vr.now()),sg(t,d)&&(c=c.insert(f,d))})),c}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return Je.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,(function(s){return{id:s.id,version:s.version,createTime:rl(s.createTime)}})(t)),Je.resolve()}getNamedQuery(e,t){return Je.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,(function(s){return{name:s.name,query:PI(s.bundledQuery),readTime:rl(s.readTime)}})(t)),Je.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(){this.overlays=new ni(Zt.comparator),this.Lr=new Map}getOverlay(e,t){return Je.resolve(this.overlays.get(t))}getOverlays(e,t){const r=vc();return Je.forEach(t,(s=>this.getOverlay(e,s).next((o=>{o!==null&&r.set(s,o)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((s,o)=>{this.bt(e,t,o)})),Je.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.Lr.get(r);return s!==void 0&&(s.forEach((o=>this.overlays=this.overlays.remove(o))),this.Lr.delete(r)),Je.resolve()}getOverlaysForCollection(e,t,r){const s=vc(),o=t.length+1,u=new Zt(t.child("")),c=this.overlays.getIteratorFrom(u);for(;c.hasNext();){const f=c.getNext().value,d=f.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===o&&f.largestBatchId>r&&s.set(f.getKey(),f)}return Je.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let o=new ni(((d,g)=>d-g));const u=this.overlays.getIterator();for(;u.hasNext();){const d=u.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>r){let g=o.get(d.largestBatchId);g===null&&(g=vc(),o=o.insert(d.largestBatchId,g)),g.set(d.getKey(),d)}}const c=vc(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((d,g)=>c.set(d,g))),!(c.size()>=s)););return Je.resolve(c)}bt(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const u=this.Lr.get(s.largestBatchId).delete(r.key);this.Lr.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new hI(t,r));let o=this.Lr.get(t);o===void 0&&(o=Vn(),this.Lr.set(t,o)),this.Lr.set(t,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(){this.sessionToken=ya.EMPTY_BYTE_STRING}getSessionToken(e){return Je.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Je.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(){this.kr=new Yi(ra.Kr),this.qr=new Yi(ra.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){const r=new ra(e,t);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Wr(new ra(e,t))}Qr(e,t){e.forEach((r=>this.removeReference(r,t)))}Gr(e){const t=new Zt(new Fr([])),r=new ra(t,e),s=new ra(t,e+1),o=[];return this.qr.forEachInRange([r,s],(u=>{this.Wr(u),o.push(u.key)})),o}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const t=new Zt(new Fr([])),r=new ra(t,e),s=new ra(t,e+1);let o=Vn();return this.qr.forEachInRange([r,s],(u=>{o=o.add(u.key)})),o}containsKey(e){const t=new ra(e,0),r=this.kr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class ra{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return Zt.comparator(e.key,t.key)||Fn(e.Hr,t.Hr)}static Ur(e,t){return Fn(e.Hr,t.Hr)||Zt.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new Yi(ra.Kr)}checkEmpty(e){return Je.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const o=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new cI(o,t,r,s);this.mutationQueue.push(u);for(const c of s)this.Jr=this.Jr.add(new ra(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return Je.resolve(u)}lookupMutationBatch(e,t){return Je.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.Xr(r),o=s<0?0:s;return Je.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Je.resolve(this.mutationQueue.length===0?V2:this.Yn-1)}getAllMutationBatches(e){return Je.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new ra(t,0),s=new ra(t,Number.POSITIVE_INFINITY),o=[];return this.Jr.forEachInRange([r,s],(u=>{const c=this.Zr(u.Hr);o.push(c)})),Je.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Yi(Fn);return t.forEach((s=>{const o=new ra(s,0),u=new ra(s,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([o,u],(c=>{r=r.add(c.Hr)}))})),Je.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let o=r;Zt.isDocumentKey(o)||(o=o.child(""));const u=new ra(new Zt(o),0);let c=new Yi(Fn);return this.Jr.forEachWhile((f=>{const d=f.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(c=c.add(f.Hr)),!0)}),u),Je.resolve(this.Yr(c))}Yr(e){const t=[];return e.forEach((r=>{const s=this.Zr(r);s!==null&&t.push(s)})),t}removeMutationBatch(e,t){fr(this.ei(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return Je.forEach(t.mutations,(s=>{const o=new ra(s.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,t){const r=new ra(t,0),s=this.Jr.firstAfterOrEqual(r);return Je.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Je.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(e){this.ti=e,this.docs=(function(){return new ni(Zt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),o=s?s.size:0,u=this.ti(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Je.resolve(r?r.document.mutableCopy():La.newInvalidDocument(t))}getEntries(e,t){let r=Gl();return t.forEach((s=>{const o=this.docs.get(s);r=r.insert(s,o?o.document.mutableCopy():La.newInvalidDocument(s))})),Je.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let o=Gl();const u=t.path,c=new Zt(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(c);for(;f.hasNext();){const{key:d,value:{document:g}}=f.getNext();if(!u.isPrefixOf(d.path))break;d.path.length>u.length+1||wL(_L(g),r)<=0||(s.has(g.key)||sg(t,g))&&(o=o.insert(g.key,g.mutableCopy()))}return Je.resolve(o)}getAllFromCollectionGroup(e,t,r,s){ln(9500)}ni(e,t){return Je.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new QI(this)}getSize(e){return Je.resolve(this.size)}}class QI extends qI{constructor(e){super(),this.Mr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?t.push(this.Mr.addEntry(e,s)):this.Mr.removeEntry(r)})),Je.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(e){this.persistence=e,this.ri=new Oc((t=>q2(t)),H2),this.lastRemoteSnapshotVersion=yn.min(),this.highestTargetId=0,this.ii=0,this.si=new Q2,this.targetCount=0,this.oi=$h._r()}forEachTarget(e,t){return this.ri.forEach(((r,s)=>t(s))),Je.resolve()}getLastRemoteSnapshotVersion(e){return Je.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Je.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),Je.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.ii&&(this.ii=t),Je.resolve()}lr(e){this.ri.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.oi=new $h(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,Je.resolve()}updateTargetData(e,t){return this.lr(t),Je.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,Je.resolve()}removeTargets(e,t,r){let s=0;const o=[];return this.ri.forEach(((u,c)=>{c.sequenceNumber<=t&&r.get(c.targetId)===null&&(this.ri.delete(u),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),s++)})),Je.waitFor(o).next((()=>s))}getTargetCount(e){return Je.resolve(this.targetCount)}getTargetData(e,t){const r=this.ri.get(t)||null;return Je.resolve(r)}addMatchingKeys(e,t,r){return this.si.$r(t,r),Je.resolve()}removeMatchingKeys(e,t,r){this.si.Qr(t,r);const s=this.persistence.referenceDelegate,o=[];return s&&t.forEach((u=>{o.push(s.markPotentiallyOrphaned(e,u))})),Je.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),Je.resolve()}getMatchingKeysForTargetId(e,t){const r=this.si.jr(t);return Je.resolve(r)}containsKey(e,t){return Je.resolve(this.si.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(e,t){this._i={},this.overlays={},this.ai=new tg(0),this.ui=!1,this.ui=!0,this.ci=new KI,this.referenceDelegate=e(this),this.li=new JI(this),this.indexManager=new MI,this.remoteDocumentCache=(function(s){return new XI(s)})((r=>this.referenceDelegate.hi(r))),this.serializer=new DI(t),this.Pi=new $I(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new YI,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this._i[e.toKey()];return r||(r=new WI(t,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,r){wt("MemoryPersistence","Starting transaction:",e);const s=new ZI(this.ai.next());return this.referenceDelegate.Ti(),r(s).next((o=>this.referenceDelegate.Ii(s).next((()=>o)))).toPromise().then((o=>(s.raiseOnCommittedEvent(),o)))}Ei(e,t){return Je.or(Object.values(this._i).map((r=>()=>r.containsKey(e,t))))}}class ZI extends AL{constructor(e){super(),this.currentSequenceNumber=e}}class J2{constructor(e){this.persistence=e,this.Ri=new Q2,this.Ai=null}static Vi(e){return new J2(e)}get di(){if(this.Ai)return this.Ai;throw ln(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.di.delete(r.toString()),Je.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.di.add(r.toString()),Je.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),Je.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach((s=>this.di.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((s=>{s.forEach((o=>this.di.add(o.toString())))})).next((()=>r.removeTargetData(e,t)))}Ti(){this.Ai=new Set}Ii(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Je.forEach(this.di,(r=>{const s=Zt.fromPath(r);return this.mi(e,s).next((o=>{o||t.removeEntry(s,yn.min())}))})).next((()=>(this.Ai=null,t.apply(e))))}updateLimboDocument(e,t){return this.mi(e,t).next((r=>{r?this.di.delete(t.toString()):this.di.add(t.toString())}))}hi(e){return 0}mi(e,t){return Je.or([()=>Je.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class Mm{constructor(e,t){this.persistence=e,this.fi=new Oc((r=>TL(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=zI(this,t)}static Vi(e,t){return new Mm(e,t)}Ti(){}Ii(e){return Je.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((s=>r+s))))}pr(e){let t=0;return this.mr(e,(r=>{t++})).next((()=>t))}mr(e,t){return Je.forEach(this.fi,((r,s)=>this.wr(e,r,s).next((o=>o?Je.resolve():t(s)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.ni(e,(u=>this.wr(e,u,t).next((c=>{c||(r++,o.removeEntry(u,yn.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),Je.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.fi.set(r,e.currentSequenceNumber),Je.resolve()}removeReference(e,t,r){return this.fi.set(r,e.currentSequenceNumber),Je.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),Je.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=um(e.data.value)),t}wr(e,t,r){return Je.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.fi.get(t);return Je.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Ts=r,this.Is=s}static Es(e,t){let r=Vn(),s=Vn();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new Z2(e,t.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e7{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t7{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return VN()?8:SL(Ia())>0?6:4})()}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,s){const o={result:null};return this.gs(e,t).next((u=>{o.result=u})).next((()=>{if(!o.result)return this.ps(e,t,s,r).next((u=>{o.result=u}))})).next((()=>{if(o.result)return;const u=new e7;return this.ys(e,t,u).next((c=>{if(o.result=c,this.As)return this.ws(e,t,u,c.size)}))})).next((()=>o.result))}ws(e,t,r,s){return r.documentReadCount<this.Vs?(Eh()<=Un.DEBUG&&wt("QueryEngine","SDK will not create cache indexes for query:",Ah(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Je.resolve()):(Eh()<=Un.DEBUG&&wt("QueryEngine","Query:",Ah(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ds*s?(Eh()<=Un.DEBUG&&wt("QueryEngine","The SDK decides to create cache indexes for query:",Ah(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,tl(t))):Je.resolve())}gs(e,t){if(h_(t))return Je.resolve(null);let r=tl(t);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(t.limit!==null&&s===1&&(t=q0(t,null,"F"),r=tl(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const u=Vn(...o);return this.fs.getDocuments(e,u).next((c=>this.indexManager.getMinOffset(e,r).next((f=>{const d=this.bs(t,c);return this.Ss(t,d,u,f.readTime)?this.gs(e,q0(t,null,"F")):this.Ds(e,d,t,f)}))))})))))}ps(e,t,r,s){return h_(t)||s.isEqual(yn.min())?Je.resolve(null):this.fs.getDocuments(e,r).next((o=>{const u=this.bs(t,o);return this.Ss(t,u,r,s)?Je.resolve(null):(Eh()<=Un.DEBUG&&wt("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ah(t)),this.Ds(e,u,t,bL(s,yd)).next((c=>c)))}))}bs(e,t){let r=new Yi(cE(e));return t.forEach(((s,o)=>{sg(e,o)&&(r=r.add(o))})),r}Ss(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}ys(e,t,r){return Eh()<=Un.DEBUG&&wt("QueryEngine","Using full collection scan to execute query:",Ah(t)),this.fs.getDocumentsMatchingQuery(e,t,Bu.min(),r)}Ds(e,t,r,s){return this.fs.getDocumentsMatchingQuery(e,r,s).next((o=>(t.forEach((u=>{o=o.insert(u.key,u)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ey="LocalStore",n7=3e8;class r7{constructor(e,t,r,s){this.persistence=e,this.Cs=t,this.serializer=s,this.vs=new ni(Fn),this.Fs=new Oc((o=>q2(o)),H2),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new GI(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.vs)))}}function i7(n,e,t,r){return new r7(n,e,t,r)}async function DE(n,e){const t=En(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next((o=>(s=o,t.Os(e),t.mutationQueue.getAllMutationBatches(r)))).next((o=>{const u=[],c=[];let f=Vn();for(const d of s){u.push(d.batchId);for(const g of d.mutations)f=f.add(g.key)}for(const d of o){c.push(d.batchId);for(const g of d.mutations)f=f.add(g.key)}return t.localDocuments.getDocuments(r,f).next((d=>({Ns:d,removedBatchIds:u,addedBatchIds:c})))}))}))}function a7(n,e){const t=En(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),o=t.xs.newChangeBuffer({trackRemovals:!0});return(function(c,f,d,g){const w=d.batch,A=w.keys();let b=Je.resolve();return A.forEach((M=>{b=b.next((()=>g.getEntry(f,M))).next((P=>{const U=d.docVersions.get(M);fr(U!==null,48541),P.version.compareTo(U)<0&&(w.applyToRemoteDocument(P,d),P.isValidDocument()&&(P.setReadTime(d.commitVersion),g.addEntry(P)))}))})),b.next((()=>c.mutationQueue.removeMutationBatch(f,w)))})(t,r,e,o).next((()=>o.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(c){let f=Vn();for(let d=0;d<c.mutationResults.length;++d)c.mutationResults[d].transformResults.length>0&&(f=f.add(c.batch.mutations[d].key));return f})(e)))).next((()=>t.localDocuments.getDocuments(r,s)))}))}function PE(n){const e=En(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.li.getLastRemoteSnapshotVersion(t)))}function s7(n,e){const t=En(n),r=e.snapshotVersion;let s=t.vs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const u=t.xs.newChangeBuffer({trackRemovals:!0});s=t.vs;const c=[];e.targetChanges.forEach(((g,w)=>{const A=s.get(w);if(!A)return;c.push(t.li.removeMatchingKeys(o,g.removedDocuments,w).next((()=>t.li.addMatchingKeys(o,g.addedDocuments,w))));let b=A.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(w)!==null?b=b.withResumeToken(ya.EMPTY_BYTE_STRING,yn.min()).withLastLimboFreeSnapshotVersion(yn.min()):g.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(g.resumeToken,r)),s=s.insert(w,b),(function(P,U,F){return P.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=n7?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0})(A,b,g)&&c.push(t.li.updateTargetData(o,b))}));let f=Gl(),d=Vn();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(o,g))})),c.push(o7(o,u,e.documentUpdates).next((g=>{f=g.Bs,d=g.Ls}))),!r.isEqual(yn.min())){const g=t.li.getLastRemoteSnapshotVersion(o).next((w=>t.li.setTargetsMetadata(o,o.currentSequenceNumber,r)));c.push(g)}return Je.waitFor(c).next((()=>u.apply(o))).next((()=>t.localDocuments.getLocalViewOfDocuments(o,f,d))).next((()=>f))})).then((o=>(t.vs=s,o)))}function o7(n,e,t){let r=Vn(),s=Vn();return t.forEach((o=>r=r.add(o))),e.getEntries(n,r).next((o=>{let u=Gl();return t.forEach(((c,f)=>{const d=o.get(c);f.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(c)),f.isNoDocument()&&f.version.isEqual(yn.min())?(e.removeEntry(c,f.readTime),u=u.insert(c,f)):!d.isValidDocument()||f.version.compareTo(d.version)>0||f.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(f),u=u.insert(c,f)):wt(ey,"Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",f.version)})),{Bs:u,Ls:s}}))}function l7(n,e){const t=En(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=V2),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function u7(n,e){const t=En(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return t.li.getTargetData(r,e).next((o=>o?(s=o,Je.resolve(s)):t.li.allocateTargetId(r).next((u=>(s=new ku(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.li.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=t.vs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.vs=t.vs.insert(r.targetId,r),t.Fs.set(e,r.targetId)),r}))}async function K0(n,e,t){const r=En(n),s=r.vs.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,(u=>r.persistence.referenceDelegate.removeTarget(u,s)))}catch(u){if(!ef(u))throw u;wt(ey,`Failed to update sequence numbers for target ${e}: ${u}`)}r.vs=r.vs.remove(e),r.Fs.delete(s.target)}function S_(n,e,t){const r=En(n);let s=yn.min(),o=Vn();return r.persistence.runTransaction("Execute query","readwrite",(u=>(function(f,d,g){const w=En(f),A=w.Fs.get(g);return A!==void 0?Je.resolve(w.vs.get(A)):w.li.getTargetData(d,g)})(r,u,tl(e)).next((c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(u,c.targetId).next((f=>{o=f}))})).next((()=>r.Cs.getDocumentsMatchingQuery(u,e,t?s:yn.min(),t?o:Vn()))).next((c=>(c7(r,KL(e),c),{documents:c,ks:o})))))}function c7(n,e,t){let r=n.Ms.get(e)||yn.min();t.forEach(((s,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),n.Ms.set(e,r)}class x_{constructor(){this.activeTargetIds=eI()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class h7{constructor(){this.vo=new x_,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,r){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new x_,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f7{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T_="ConnectivityMonitor";class N_{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){wt(T_,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){wt(T_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hp=null;function W0(){return Hp===null?Hp=(function(){return 268435456+Math.round(2147483648*Math.random())})():Hp++,"0x"+Hp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X1="RestConnection",d7={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class p7{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo=`projects/${r}/databases/${s}`,this.$o=this.databaseId.database===Lm?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Wo(e,t,r,s,o){const u=W0(),c=this.Qo(e,t.toUriEncodedString());wt(X1,`Sending RPC '${e}' ${u}:`,c,r);const f={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(f,s,o);const{host:d}=new URL(c),g=Wh(d);return this.zo(e,c,f,r,g).then((w=>(wt(X1,`Received RPC '${e}' ${u}: `,w),w)),(w=>{throw Tc(X1,`RPC '${e}' ${u} failed with error: `,w,"url: ",c,"request:",r),w}))}jo(e,t,r,s,o,u){return this.Wo(e,t,r,s,o)}Go(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Jh})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((s,o)=>e[o]=s)),r&&r.headers.forEach(((s,o)=>e[o]=s))}Qo(e,t){const r=d7[e];let s=`${this.qo}/v1/${t}:${r}`;return this.databaseInfo.apiKey&&(s=`${s}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),s}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m7{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ea="WebChannelConnection",Hf=(n,e,t)=>{n.listen(e,(r=>{try{t(r)}catch(s){setTimeout((()=>{throw s}),0)}}))};class Dh extends p7{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Dh.c_){const e=B3();Hf(e,V3.STAT_EVENT,(t=>{t.stat===j0.PROXY?wt(Ea,"STAT_EVENT: detected buffering proxy"):t.stat===j0.NOPROXY&&wt(Ea,"STAT_EVENT: detected no buffering proxy")})),Dh.c_=!0}}zo(e,t,r,s,o){const u=W0();return new Promise(((c,f)=>{const d=new U3;d.setWithCredentials(!0),d.listenOnce(F3.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case lm.NO_ERROR:const w=d.getResponseJson();wt(Ea,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(w)),c(w);break;case lm.TIMEOUT:wt(Ea,`RPC '${e}' ${u} timed out`),f(new jt(et.DEADLINE_EXCEEDED,"Request time out"));break;case lm.HTTP_ERROR:const A=d.getStatus();if(wt(Ea,`RPC '${e}' ${u} failed with status:`,A,"response text:",d.getResponseText()),A>0){let b=d.getResponseJson();Array.isArray(b)&&(b=b[0]);const M=b==null?void 0:b.error;if(M&&M.status&&M.message){const P=(function(F){const $=F.toLowerCase().replace(/_/g,"-");return Object.values(et).indexOf($)>=0?$:et.UNKNOWN})(M.status);f(new jt(P,M.message))}else f(new jt(et.UNKNOWN,"Server responded with status "+d.getStatus()))}else f(new jt(et.UNAVAILABLE,"Connection failed."));break;default:ln(9055,{l_:e,streamId:u,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{wt(Ea,`RPC '${e}' ${u} completed.`)}}));const g=JSON.stringify(s);wt(Ea,`RPC '${e}' ${u} sending request:`,s),d.send(t,"POST",g,r,15)}))}T_(e,t,r){const s=W0(),o=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=this.createWebChannelTransport(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(c.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Go(c.initMessageHeaders,t,r),c.encodeInitMessageHeaders=!0;const d=o.join("");wt(Ea,`Creating RPC '${e}' stream ${s}: ${d}`,c);const g=u.createWebChannel(d,c);this.I_(g);let w=!1,A=!1;const b=new m7({Ho:M=>{A?wt(Ea,`Not sending because RPC '${e}' stream ${s} is closed:`,M):(w||(wt(Ea,`Opening RPC '${e}' stream ${s} transport.`),g.open(),w=!0),wt(Ea,`RPC '${e}' stream ${s} sending:`,M),g.send(M))},Jo:()=>g.close()});return Hf(g,Jf.EventType.OPEN,(()=>{A||(wt(Ea,`RPC '${e}' stream ${s} transport opened.`),b.i_())})),Hf(g,Jf.EventType.CLOSE,(()=>{A||(A=!0,wt(Ea,`RPC '${e}' stream ${s} transport closed`),b.o_(),this.E_(g))})),Hf(g,Jf.EventType.ERROR,(M=>{A||(A=!0,Tc(Ea,`RPC '${e}' stream ${s} transport errored. Name:`,M.name,"Message:",M.message),b.o_(new jt(et.UNAVAILABLE,"The operation could not be completed")))})),Hf(g,Jf.EventType.MESSAGE,(M=>{var P;if(!A){const U=M.data[0];fr(!!U,16349);const F=U,$=(F==null?void 0:F.error)||((P=F[0])==null?void 0:P.error);if($){wt(Ea,`RPC '${e}' stream ${s} received error:`,$);const ee=$.status;let te=(function(O){const k=Ci[O];if(k!==void 0)return wE(k)})(ee),ce=$.message;ee==="NOT_FOUND"&&ce.includes("database")&&ce.includes("does not exist")&&ce.includes(this.databaseId.database)&&Tc(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),te===void 0&&(te=et.INTERNAL,ce="Unknown error status: "+ee+" with message "+$.message),A=!0,b.o_(new jt(te,ce)),g.close()}else wt(Ea,`RPC '${e}' stream ${s} received:`,U),b.__(U)}})),Dh.u_(),setTimeout((()=>{b.s_()}),0),b}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((t=>t===e))}Go(e,t,r){super.Go(e,t,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return z3()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g7(n){return new Dh(n)}function Q1(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cg(n){return new _I(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Dh.c_=!1;class ME{constructor(e,t,r=1e3,s=1.5,o=6e4){this.Ci=e,this.timerId=t,this.R_=r,this.A_=s,this.V_=o,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const t=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,t-r);s>0&&wt("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_="PersistentStream";class jE{constructor(e,t,r,s,o,u,c,f){this.Ci=e,this.b_=r,this.S_=s,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=c,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new ME(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===et.RESOURCE_EXHAUSTED?(Hl(t.toString()),Hl("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===et.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===t&&this.G_(r,s)}),(r=>{e((()=>{const s=new jt(et.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(e,t){const r=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.H_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return wt(C_,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget((()=>this.D_===e?t():(wt(C_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class y7 extends jE{constructor(e,t,r,s,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,u),this.serializer=o}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=AI(this.serializer,e),r=(function(o){if(!("targetChange"in o))return yn.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?yn.min():u.readTime?rl(u.readTime):yn.min()})(e);return this.listener.J_(t,r)}Z_(e){const t={};t.database=Y0(this.serializer),t.addTarget=(function(o,u){let c;const f=u.target;if(c=z0(f)?{documents:TI(o,f)}:{query:NI(o,f).ft},c.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){c.resumeToken=SE(o,u.resumeToken);const d=H0(o,u.expectedCount);d!==null&&(c.expectedCount=d)}else if(u.snapshotVersion.compareTo(yn.min())>0){c.readTime=Pm(o,u.snapshotVersion.toTimestamp());const d=H0(o,u.expectedCount);d!==null&&(c.expectedCount=d)}return c})(this.serializer,e);const r=RI(this.serializer,e);r&&(t.labels=r),this.K_(t)}X_(e){const t={};t.database=Y0(this.serializer),t.removeTarget=e,this.K_(t)}}class v7 extends jE{constructor(e,t,r,s,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,u),this.serializer=o}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return fr(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,fr(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){fr(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=xI(e.writeResults,e.commitTime),r=rl(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=Y0(this.serializer),this.K_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>SI(this.serializer,r)))};this.K_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b7{}class _7 extends b7{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new jt(et.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,u])=>this.connection.Wo(e,G0(t,r),s,o,u))).catch((o=>{throw o.name==="FirebaseError"?(o.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new jt(et.UNKNOWN,o.toString())}))}jo(e,t,r,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,c])=>this.connection.jo(e,G0(t,r),s,u,c,o))).catch((u=>{throw u.name==="FirebaseError"?(u.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new jt(et.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function w7(n,e,t,r){return new _7(n,e,t,r)}class E7{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Hl(t),this.aa=!1):wt("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nc="RemoteStore";class A7{constructor(e,t,r,s,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=o,this.Aa.Mo((u=>{r.enqueueAndForget((async()=>{Pc(this)&&(wt(Nc,"Restarting streams for network reachability change."),await(async function(f){const d=En(f);d.Ea.add(4),await Fd(d),d.Va.set("Unknown"),d.Ea.delete(4),await hg(d)})(this))}))})),this.Va=new E7(r,s)}}async function hg(n){if(Pc(n))for(const e of n.Ra)await e(!0)}async function Fd(n){for(const e of n.Ra)await e(!1)}function UE(n,e){const t=En(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),iy(t)?ry(t):tf(t).O_()&&ny(t,e))}function ty(n,e){const t=En(n),r=tf(t);t.Ia.delete(e),r.O_()&&FE(t,e),t.Ia.size===0&&(r.O_()?r.L_():Pc(t)&&t.Va.set("Unknown"))}function ny(n,e){if(n.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(yn.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}tf(n).Z_(e)}function FE(n,e){n.da.$e(e),tf(n).X_(e)}function ry(n){n.da=new gI({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),tf(n).start(),n.Va.ua()}function iy(n){return Pc(n)&&!tf(n).x_()&&n.Ia.size>0}function Pc(n){return En(n).Ea.size===0}function VE(n){n.da=void 0}async function S7(n){n.Va.set("Online")}async function x7(n){n.Ia.forEach(((e,t)=>{ny(n,e)}))}async function T7(n,e){VE(n),iy(n)?(n.Va.ha(e),ry(n)):n.Va.set("Unknown")}async function N7(n,e,t){if(n.Va.set("Online"),e instanceof AE&&e.state===2&&e.cause)try{await(async function(s,o){const u=o.cause;for(const c of o.targetIds)s.Ia.has(c)&&(await s.remoteSyncer.rejectListen(c,u),s.Ia.delete(c),s.da.removeTarget(c))})(n,e)}catch(r){wt(Nc,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await jm(n,r)}else if(e instanceof fm?n.da.Xe(e):e instanceof EE?n.da.st(e):n.da.tt(e),!t.isEqual(yn.min()))try{const r=await PE(n.localStore);t.compareTo(r)>=0&&await(function(o,u){const c=o.da.Tt(u);return c.targetChanges.forEach(((f,d)=>{if(f.resumeToken.approximateByteSize()>0){const g=o.Ia.get(d);g&&o.Ia.set(d,g.withResumeToken(f.resumeToken,u))}})),c.targetMismatches.forEach(((f,d)=>{const g=o.Ia.get(f);if(!g)return;o.Ia.set(f,g.withResumeToken(ya.EMPTY_BYTE_STRING,g.snapshotVersion)),FE(o,f);const w=new ku(g.target,f,d,g.sequenceNumber);ny(o,w)})),o.remoteSyncer.applyRemoteEvent(c)})(n,t)}catch(r){wt(Nc,"Failed to raise snapshot:",r),await jm(n,r)}}async function jm(n,e,t){if(!ef(e))throw e;n.Ea.add(1),await Fd(n),n.Va.set("Offline"),t||(t=()=>PE(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{wt(Nc,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await hg(n)}))}function BE(n,e){return e().catch((t=>jm(n,t,e)))}async function fg(n){const e=En(n),t=Gu(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:V2;for(;C7(e);)try{const s=await l7(e.localStore,r);if(s===null){e.Ta.length===0&&t.L_();break}r=s.batchId,R7(e,s)}catch(s){await jm(e,s)}zE(e)&&qE(e)}function C7(n){return Pc(n)&&n.Ta.length<10}function R7(n,e){n.Ta.push(e);const t=Gu(n);t.O_()&&t.Y_&&t.ea(e.mutations)}function zE(n){return Pc(n)&&!Gu(n).x_()&&n.Ta.length>0}function qE(n){Gu(n).start()}async function L7(n){Gu(n).ra()}async function I7(n){const e=Gu(n);for(const t of n.Ta)e.ea(t.mutations)}async function k7(n,e,t){const r=n.Ta.shift(),s=K2.from(r,e,t);await BE(n,(()=>n.remoteSyncer.applySuccessfulWrite(s))),await fg(n)}async function O7(n,e){e&&Gu(n).Y_&&await(async function(r,s){if((function(u){return dI(u)&&u!==et.ABORTED})(s.code)){const o=r.Ta.shift();Gu(r).B_(),await BE(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s))),await fg(r)}})(n,e),zE(n)&&qE(n)}async function R_(n,e){const t=En(n);t.asyncQueue.verifyOperationInProgress(),wt(Nc,"RemoteStore received new credentials");const r=Pc(t);t.Ea.add(3),await Fd(t),r&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await hg(t)}async function D7(n,e){const t=En(n);e?(t.Ea.delete(2),await hg(t)):e||(t.Ea.add(2),await Fd(t),t.Va.set("Unknown"))}function tf(n){return n.ma||(n.ma=(function(t,r,s){const o=En(t);return o.sa(),new y7(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(n.datastore,n.asyncQueue,{Zo:S7.bind(null,n),Yo:x7.bind(null,n),t_:T7.bind(null,n),J_:N7.bind(null,n)}),n.Ra.push((async e=>{e?(n.ma.B_(),iy(n)?ry(n):n.Va.set("Unknown")):(await n.ma.stop(),VE(n))}))),n.ma}function Gu(n){return n.fa||(n.fa=(function(t,r,s){const o=En(t);return o.sa(),new v7(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:L7.bind(null,n),t_:O7.bind(null,n),ta:I7.bind(null,n),na:k7.bind(null,n)}),n.Ra.push((async e=>{e?(n.fa.B_(),await fg(n)):(await n.fa.stop(),n.Ta.length>0&&(wt(Nc,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay{constructor(e,t,r,s,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=o,this.deferred=new Bl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,o){const u=Date.now()+r,c=new ay(e,t,u,s,o);return c.start(r),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new jt(et.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sy(n,e){if(Hl("AsyncQueue",`${e}: ${n}`),ef(n))return new jt(et.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{static emptySet(e){return new Ph(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Zt.comparator(t.key,r.key):(t,r)=>Zt.comparator(t.key,r.key),this.keyedMap=Zf(),this.sortedSet=new ni(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ph)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=r.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Ph;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L_{constructor(){this.ga=new ni(Zt.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):ln(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class Yh{constructor(e,t,r,s,o,u,c,f,d){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=c,this.excludesMetadataChanges=f,this.hasCachedResults=d}static fromInitialDocuments(e,t,r,s,o){const u=[];return t.forEach((c=>{u.push({type:0,doc:c})})),new Yh(e,t,Ph.emptySet(t),u,r,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ag(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P7{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class M7{constructor(){this.queries=I_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const s=En(t),o=s.queries;s.queries=I_(),o.forEach(((u,c)=>{for(const f of c.ba)f.onError(r)}))})(this,new jt(et.ABORTED,"Firestore shutting down"))}}function I_(){return new Oc((n=>uE(n)),ag)}async function HE(n,e){const t=En(n);let r=3;const s=e.query;let o=t.queries.get(s);o?!o.Sa()&&e.Da()&&(r=2):(o=new P7,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await t.onListen(s,!0);break;case 1:o.wa=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(u){const c=sy(u,`Initialization of query '${Ah(e.query)}' failed`);return void e.onError(c)}t.queries.set(s,o),o.ba.push(e),e.va(t.onlineState),o.wa&&e.Fa(o.wa)&&oy(t)}async function GE(n,e){const t=En(n),r=e.query;let s=3;const o=t.queries.get(r);if(o){const u=o.ba.indexOf(e);u>=0&&(o.ba.splice(u,1),o.ba.length===0?s=e.Da()?0:1:!o.Sa()&&e.Da()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function j7(n,e){const t=En(n);let r=!1;for(const s of e){const o=s.query,u=t.queries.get(o);if(u){for(const c of u.ba)c.Fa(s)&&(r=!0);u.wa=s}}r&&oy(t)}function U7(n,e,t){const r=En(n),s=r.queries.get(e);if(s)for(const o of s.ba)o.onError(t);r.queries.delete(e)}function oy(n){n.Ca.forEach((e=>{e.next()}))}var X0,k_;(k_=X0||(X0={})).Ma="default",k_.Cache="cache";class $E{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Yh(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Yh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==X0.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(e){this.key=e}}class KE{constructor(e){this.key=e}}class F7{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Vn(),this.mutatedKeys=Vn(),this.eu=cE(e),this.tu=new Ph(this.eu)}get nu(){return this.Za}ru(e,t){const r=t?t.iu:new L_,s=t?t.tu:this.tu;let o=t?t.mutatedKeys:this.mutatedKeys,u=s,c=!1;const f=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((g,w)=>{const A=s.get(g),b=sg(this.query,w)?w:null,M=!!A&&this.mutatedKeys.has(A.key),P=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let U=!1;A&&b?A.data.isEqual(b.data)?M!==P&&(r.track({type:3,doc:b}),U=!0):this.su(A,b)||(r.track({type:2,doc:b}),U=!0,(f&&this.eu(b,f)>0||d&&this.eu(b,d)<0)&&(c=!0)):!A&&b?(r.track({type:0,doc:b}),U=!0):A&&!b&&(r.track({type:1,doc:A}),U=!0,(f||d)&&(c=!0)),U&&(b?(u=u.add(b),o=P?o.add(g):o.delete(g)):(u=u.delete(g),o=o.delete(g)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const g=this.query.limitType==="F"?u.last():u.first();u=u.delete(g.key),o=o.delete(g.key),r.track({type:1,doc:g})}return{tu:u,iu:r,Ss:c,mutatedKeys:o}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((g,w)=>(function(b,M){const P=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ln(20277,{Vt:U})}};return P(b)-P(M)})(g.type,w.type)||this.eu(g.doc,w.doc))),this.ou(r),s=s??!1;const c=t&&!s?this._u():[],f=this.Ya.size===0&&this.current&&!s?1:0,d=f!==this.Xa;return this.Xa=f,u.length!==0||d?{snapshot:new Yh(this.query,e.tu,o,u,e.mutatedKeys,f===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new L_,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Za=this.Za.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Za=this.Za.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Vn(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const t=[];return e.forEach((r=>{this.Ya.has(r)||t.push(new KE(r))})),this.Ya.forEach((r=>{e.has(r)||t.push(new YE(r))})),t}cu(e){this.Za=e.ks,this.Ya=Vn();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Yh.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const ly="SyncEngine";class V7{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class B7{constructor(e){this.key=e,this.hu=!1}}class z7{constructor(e,t,r,s,o,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Oc((c=>uE(c)),ag),this.Iu=new Map,this.Eu=new Set,this.Ru=new ni(Zt.comparator),this.Au=new Map,this.Vu=new Q2,this.du={},this.mu=new Map,this.fu=$h.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function q7(n,e,t=!0){const r=eA(n);let s;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.lu()):s=await WE(r,e,t,!0),s}async function H7(n,e){const t=eA(n);await WE(t,e,!0,!1)}async function WE(n,e,t,r){const s=await u7(n.localStore,tl(e)),o=s.targetId,u=n.sharedClientState.addLocalQueryTarget(o,t);let c;return r&&(c=await G7(n,e,o,u==="current",s.resumeToken)),n.isPrimaryClient&&t&&UE(n.remoteStore,s),c}async function G7(n,e,t,r,s){n.pu=(w,A,b)=>(async function(P,U,F,$){let ee=U.view.ru(F);ee.Ss&&(ee=await S_(P.localStore,U.query,!1).then((({documents:O})=>U.view.ru(O,ee))));const te=$&&$.targetChanges.get(U.targetId),ce=$&&$.targetMismatches.get(U.targetId)!=null,Ee=U.view.applyChanges(ee,P.isPrimaryClient,te,ce);return D_(P,U.targetId,Ee.au),Ee.snapshot})(n,w,A,b);const o=await S_(n.localStore,e,!0),u=new F7(e,o.ks),c=u.ru(o.documents),f=Ud.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),d=u.applyChanges(c,n.isPrimaryClient,f);D_(n,t,d.au);const g=new V7(e,t,u);return n.Tu.set(e,g),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),d.snapshot}async function $7(n,e,t){const r=En(n),s=r.Tu.get(e),o=r.Iu.get(s.targetId);if(o.length>1)return r.Iu.set(s.targetId,o.filter((u=>!ag(u,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await K0(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),t&&ty(r.remoteStore,s.targetId),Q0(r,s.targetId)})).catch(Zh)):(Q0(r,s.targetId),await K0(r.localStore,s.targetId,!0))}async function Y7(n,e){const t=En(n),r=t.Tu.get(e),s=t.Iu.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),ty(t.remoteStore,r.targetId))}async function K7(n,e,t){const r=tk(n);try{const s=await(function(u,c){const f=En(u),d=Vr.now(),g=c.reduce(((b,M)=>b.add(M.key)),Vn());let w,A;return f.persistence.runTransaction("Locally write mutations","readwrite",(b=>{let M=Gl(),P=Vn();return f.xs.getEntries(b,g).next((U=>{M=U,M.forEach(((F,$)=>{$.isValidDocument()||(P=P.add(F))}))})).next((()=>f.localDocuments.getOverlayedDocuments(b,M))).next((U=>{w=U;const F=[];for(const $ of c){const ee=lI($,w.get($.key).overlayedDocument);ee!=null&&F.push(new Dc($.key,ee,nE(ee.value.mapValue),nl.exists(!0)))}return f.mutationQueue.addMutationBatch(b,d,F,c)})).next((U=>{A=U;const F=U.applyToLocalDocumentSet(w,P);return f.documentOverlayCache.saveOverlays(b,U.batchId,F)}))})).then((()=>({batchId:A.batchId,changes:fE(w)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(u,c,f){let d=u.du[u.currentUser.toKey()];d||(d=new ni(Fn)),d=d.insert(c,f),u.du[u.currentUser.toKey()]=d})(r,s.batchId,t),await Vd(r,s.changes),await fg(r.remoteStore)}catch(s){const o=sy(s,"Failed to persist write");t.reject(o)}}async function XE(n,e){const t=En(n);try{const r=await s7(t.localStore,e);e.targetChanges.forEach(((s,o)=>{const u=t.Au.get(o);u&&(fr(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?u.hu=!0:s.modifiedDocuments.size>0?fr(u.hu,14607):s.removedDocuments.size>0&&(fr(u.hu,42227),u.hu=!1))})),await Vd(t,r,e)}catch(r){await Zh(r)}}function O_(n,e,t){const r=En(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.Tu.forEach(((o,u)=>{const c=u.view.va(e);c.snapshot&&s.push(c.snapshot)})),(function(u,c){const f=En(u);f.onlineState=c;let d=!1;f.queries.forEach(((g,w)=>{for(const A of w.ba)A.va(c)&&(d=!0)})),d&&oy(f)})(r.eventManager,e),s.length&&r.Pu.J_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function W7(n,e,t){const r=En(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Au.get(e),o=s&&s.key;if(o){let u=new ni(Zt.comparator);u=u.insert(o,La.newNoDocument(o,yn.min()));const c=Vn().add(o),f=new ug(yn.min(),new Map,new ni(Fn),u,c);await XE(r,f),r.Ru=r.Ru.remove(o),r.Au.delete(e),uy(r)}else await K0(r.localStore,e,!1).then((()=>Q0(r,e,t))).catch(Zh)}async function X7(n,e){const t=En(n),r=e.batch.batchId;try{const s=await a7(t.localStore,e);JE(t,r,null),QE(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Vd(t,s)}catch(s){await Zh(s)}}async function Q7(n,e,t){const r=En(n);try{const s=await(function(u,c){const f=En(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let g;return f.mutationQueue.lookupMutationBatch(d,c).next((w=>(fr(w!==null,37113),g=w.keys(),f.mutationQueue.removeMutationBatch(d,w)))).next((()=>f.mutationQueue.performConsistencyCheck(d))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(d,g,c))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,g))).next((()=>f.localDocuments.getDocuments(d,g)))}))})(r.localStore,e);JE(r,e,t),QE(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Vd(r,s)}catch(s){await Zh(s)}}function QE(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function JE(n,e,t){const r=En(n);let s=r.du[r.currentUser.toKey()];if(s){const o=s.get(e);o&&(t?o.reject(t):o.resolve(),s=s.remove(e)),r.du[r.currentUser.toKey()]=s}}function Q0(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Vu.Gr(e).forEach((r=>{n.Vu.containsKey(r)||ZE(n,r)}))}function ZE(n,e){n.Eu.delete(e.path.canonicalString());const t=n.Ru.get(e);t!==null&&(ty(n.remoteStore,t),n.Ru=n.Ru.remove(e),n.Au.delete(t),uy(n))}function D_(n,e,t){for(const r of t)r instanceof YE?(n.Vu.addReference(r.key,e),J7(n,r)):r instanceof KE?(wt(ly,"Document no longer in limbo: "+r.key),n.Vu.removeReference(r.key,e),n.Vu.containsKey(r.key)||ZE(n,r.key)):ln(19791,{wu:r})}function J7(n,e){const t=e.key,r=t.path.canonicalString();n.Ru.get(t)||n.Eu.has(r)||(wt(ly,"New document in limbo: "+t),n.Eu.add(r),uy(n))}function uy(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new Zt(Fr.fromString(e)),r=n.fu.next();n.Au.set(r,new B7(t)),n.Ru=n.Ru.insert(t,r),UE(n.remoteStore,new ku(tl(G2(t.path)),r,"TargetPurposeLimboResolution",tg.ce))}}async function Vd(n,e,t){const r=En(n),s=[],o=[],u=[];r.Tu.isEmpty()||(r.Tu.forEach(((c,f)=>{u.push(r.pu(f,e,t).then((d=>{var g;if((d||t)&&r.isPrimaryClient){const w=d?!d.fromCache:(g=t==null?void 0:t.targetChanges.get(f.targetId))==null?void 0:g.current;r.sharedClientState.updateQueryState(f.targetId,w?"current":"not-current")}if(d){s.push(d);const w=Z2.Es(f.targetId,d);o.push(w)}})))})),await Promise.all(u),r.Pu.J_(s),await(async function(f,d){const g=En(f);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>Je.forEach(d,(A=>Je.forEach(A.Ts,(b=>g.persistence.referenceDelegate.addReference(w,A.targetId,b))).next((()=>Je.forEach(A.Is,(b=>g.persistence.referenceDelegate.removeReference(w,A.targetId,b)))))))))}catch(w){if(!ef(w))throw w;wt(ey,"Failed to update sequence numbers: "+w)}for(const w of d){const A=w.targetId;if(!w.fromCache){const b=g.vs.get(A),M=b.snapshotVersion,P=b.withLastLimboFreeSnapshotVersion(M);g.vs=g.vs.insert(A,P)}}})(r.localStore,o))}async function Z7(n,e){const t=En(n);if(!t.currentUser.isEqual(e)){wt(ly,"User change. New user:",e.toKey());const r=await DE(t.localStore,e);t.currentUser=e,(function(o,u){o.mu.forEach((c=>{c.forEach((f=>{f.reject(new jt(et.CANCELLED,u))}))})),o.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Vd(t,r.Ns)}}function ek(n,e){const t=En(n),r=t.Au.get(e);if(r&&r.hu)return Vn().add(r.key);{let s=Vn();const o=t.Iu.get(e);if(!o)return s;for(const u of o){const c=t.Tu.get(u);s=s.unionWith(c.view.nu)}return s}}function eA(n){const e=En(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=XE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ek.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=W7.bind(null,e),e.Pu.J_=j7.bind(null,e.eventManager),e.Pu.yu=U7.bind(null,e.eventManager),e}function tk(n){const e=En(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=X7.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Q7.bind(null,e),e}class Um{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=cg(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return i7(this.persistence,new t7,e.initialUser,this.serializer)}Cu(e){return new OE(J2.Vi,this.serializer)}Du(e){return new h7}async terminate(){var e,t;(e=this.gcScheduler)==null||e.stop(),(t=this.indexBackfillerScheduler)==null||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Um.provider={build:()=>new Um};class nk extends Um{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){fr(this.persistence.referenceDelegate instanceof Mm,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new VI(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?us.withCacheSize(this.cacheSizeBytes):us.DEFAULT;return new OE((r=>Mm.Vi(r,t)),this.serializer)}}class J0{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>O_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Z7.bind(null,this.syncEngine),await D7(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new M7})()}createDatastore(e){const t=cg(e.databaseInfo.databaseId),r=g7(e.databaseInfo);return w7(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,s,o,u,c){return new A7(r,s,o,u,c)})(this.localStore,this.datastore,e.asyncQueue,(t=>O_(this.syncEngine,t,0)),(function(){return N_.v()?new N_:new f7})())}createSyncEngine(e,t){return(function(s,o,u,c,f,d,g){const w=new z7(s,o,u,c,f,d);return g&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(s){const o=En(s);wt(Nc,"RemoteStore shutting down."),o.Ea.add(5),await Fd(o),o.Aa.shutdown(),o.Va.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(t=this.eventManager)==null||t.terminate()}}J0.provider={build:()=>new J0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Hl("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $u="FirestoreClient";class rk{constructor(e,t,r,s,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this._databaseInfo=s,this.user=Ra.UNAUTHENTICATED,this.clientId=U2.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async u=>{wt($u,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(r,(u=>(wt($u,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Bl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=sy(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function J1(n,e){n.asyncQueue.verifyOperationInProgress(),wt($u,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async s=>{r.isEqual(s)||(await DE(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function P_(n,e){n.asyncQueue.verifyOperationInProgress();const t=await ik(n);wt($u,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>R_(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,s)=>R_(e.remoteStore,s))),n._onlineComponents=e}async function ik(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){wt($u,"Using user provided OfflineComponentProvider");try{await J1(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(s){return s.name==="FirebaseError"?s.code===et.FAILED_PRECONDITION||s.code===et.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(t))throw t;Tc("Error using user provided cache. Falling back to memory cache: "+t),await J1(n,new Um)}}else wt($u,"Using default OfflineComponentProvider"),await J1(n,new nk(void 0));return n._offlineComponents}async function nA(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(wt($u,"Using user provided OnlineComponentProvider"),await P_(n,n._uninitializedComponentsProvider._online)):(wt($u,"Using default OnlineComponentProvider"),await P_(n,new J0))),n._onlineComponents}function ak(n){return nA(n).then((e=>e.syncEngine))}async function rA(n){const e=await nA(n),t=e.eventManager;return t.onListen=q7.bind(null,e.syncEngine),t.onUnlisten=$7.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=H7.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Y7.bind(null,e.syncEngine),t}function sk(n,e,t={}){const r=new Bl;return n.asyncQueue.enqueueAndForget((async()=>(function(o,u,c,f,d){const g=new tA({next:A=>{g.Nu(),u.enqueueAndForget((()=>GE(o,w)));const b=A.docs.has(c);!b&&A.fromCache?d.reject(new jt(et.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&A.fromCache&&f&&f.source==="server"?d.reject(new jt(et.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(A)},error:A=>d.reject(A)}),w=new $E(G2(c.path),g,{includeMetadataChanges:!0,Ka:!0});return HE(o,w)})(await rA(n),n.asyncQueue,e,t,r))),r.promise}function ok(n,e,t={}){const r=new Bl;return n.asyncQueue.enqueueAndForget((async()=>(function(o,u,c,f,d){const g=new tA({next:A=>{g.Nu(),u.enqueueAndForget((()=>GE(o,w))),A.fromCache&&f.source==="server"?d.reject(new jt(et.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(A)},error:A=>d.reject(A)}),w=new $E(c,g,{includeMetadataChanges:!0,Ka:!0});return HE(o,w)})(await rA(n),n.asyncQueue,e,t,r))),r.promise}function lk(n,e){const t=new Bl;return n.asyncQueue.enqueueAndForget((async()=>K7(await ak(n),e,t))),t.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iA(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uk="ComponentProvider",M_=new Map;function ck(n,e,t,r,s){return new RL(n,e,t,s.host,s.ssl,s.experimentalForceLongPolling,s.experimentalAutoDetectLongPolling,iA(s.experimentalLongPollingOptions),s.useFetchStreams,s.isUsingEmulator,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aA="firestore.googleapis.com",j_=!0;class U_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new jt(et.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=aA,this.ssl=j_}else this.host=e.host,this.ssl=e.ssl??j_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=kE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<UI)throw new jt(et.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}vL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=iA(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new jt(et.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new jt(et.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new jt(et.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class dg{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new U_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new jt(et.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new jt(et.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new U_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new lL;switch(r.type){case"firstParty":return new fL(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new jt(et.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=M_.get(t);r&&(wt(uk,"Removing Datastore"),M_.delete(t),r.terminate())})(this),Promise.resolve()}}function hk(n,e,t,r={}){var d;n=Vu(n,dg);const s=Wh(e),o=n._getSettings(),u={...o,emulatorOptions:n._getEmulatorOptions()},c=`${e}:${t}`;s&&(Z4(`https://${c}`),e3("Firestore",!0)),o.host!==aA&&o.host!==c&&Tc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...o,host:c,ssl:s,emulatorOptions:r};if(!Ec(f,u)&&(n._setSettings(f),r.mockUserToken)){let g,w;if(typeof r.mockUserToken=="string")g=r.mockUserToken,w=Ra.MOCK_USER;else{g=IN(r.mockUserToken,(d=n._app)==null?void 0:d.options.projectId);const A=r.mockUserToken.sub||r.mockUserToken.user_id;if(!A)throw new jt(et.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new Ra(A)}n._authCredentials=new uL(new H3(g,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new pg(this.firestore,e,this._query)}}class $i{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Uu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new $i(this.firestore,e,this._key)}toJSON(){return{type:$i._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Md(t,$i._jsonSchema))return new $i(e,r||null,new Zt(Fr.fromString(t.referencePath)))}}$i._jsonSchemaVersion="firestore/documentReference/1.0",$i._jsonSchema={type:Ri("string",$i._jsonSchemaVersion),referencePath:Ri("string")};class Uu extends pg{constructor(e,t,r){super(e,t,G2(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new $i(this.firestore,null,new Zt(e))}withConverter(e){return new Uu(this.firestore,e,this._path)}}function fk(n,e,...t){if(n=xs(n),G3("collection","path",e),n instanceof dg){const r=Fr.fromString(e,...t);return Jb(r),new Uu(n,null,r)}{if(!(n instanceof $i||n instanceof Uu))throw new jt(et.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Fr.fromString(e,...t));return Jb(r),new Uu(n.firestore,null,r)}}function dk(n,e,...t){if(n=xs(n),arguments.length===1&&(e=U2.newId()),G3("doc","path",e),n instanceof dg){const r=Fr.fromString(e,...t);return Qb(r),new $i(n,null,new Zt(r))}{if(!(n instanceof $i||n instanceof Uu))throw new jt(et.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Fr.fromString(e,...t));return Qb(r),new $i(n.firestore,n instanceof Uu?n.converter:null,new Zt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F_="AsyncQueue";class V_{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new ME(this,"async_queue_retry"),this._c=()=>{const r=Q1();r&&wt(F_,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=Q1();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Q1();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Bl;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!ef(e))throw e;wt(F_,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Hl("INTERNAL UNHANDLED ERROR: ",B_(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const s=ay.createAndSchedule(this,e,t,r,(o=>this.hc(o)));return this.tc.push(s),s}uc(){this.nc&&ln(47125,{Pc:B_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function B_(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Bd extends dg{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new V_,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new V_(e),this._firestoreClient=void 0,await e}}}function pk(n,e){const t=typeof n=="object"?n:i3(),r=typeof n=="string"?n:Lm,s=T2(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const o=RN("firestore");o&&hk(s,...o)}return s}function cy(n){if(n._terminated)throw new jt(et.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||mk(n),n._firestoreClient}function mk(n){var r,s,o,u;const e=n._freezeSettings(),t=ck(n._databaseId,((r=n._app)==null?void 0:r.options.appId)||"",n._persistenceKey,(s=n._app)==null?void 0:s.options.apiKey,e);n._componentsProvider||(o=e.localCache)!=null&&o._offlineComponentProvider&&((u=e.localCache)!=null&&u._onlineComponentProvider)&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new rk(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(f){const d=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(d),_online:d}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ys(ya.fromBase64String(e))}catch(t){throw new jt(et.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ys(ya.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ys._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Md(e,Ys._jsonSchema))return Ys.fromBase64String(e.bytes)}}Ys._jsonSchemaVersion="firestore/bytes/1.0",Ys._jsonSchema={type:Ri("string",Ys._jsonSchemaVersion),bytes:Ri("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new jt(et.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ga(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new jt(et.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new jt(et.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Fn(this._lat,e._lat)||Fn(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:il._jsonSchemaVersion}}static fromJSON(e){if(Md(e,il._jsonSchema))return new il(e.latitude,e.longitude)}}il._jsonSchemaVersion="firestore/geoPoint/1.0",il._jsonSchema={type:Ri("string",il._jsonSchemaVersion),latitude:Ri("number"),longitude:Ri("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==s[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ao._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Md(e,Ao._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Ao(e.vectorValues);throw new jt(et.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ao._jsonSchemaVersion="firestore/vectorValue/1.0",Ao._jsonSchema={type:Ri("string",Ao._jsonSchemaVersion),vectorValues:Ri("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gk=/^__.*__$/;class yk{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Dc(e,this.data,this.fieldMask,t,this.fieldTransforms):new jd(e,this.data,t,this.fieldTransforms)}}function oA(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ln(40011,{dataSource:n})}}class fy{constructor(e,t,r,s,o,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,o===void 0&&this.validatePath(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new fy({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var s;const t=(s=this.path)==null?void 0:s.child(e),r=this.contextWith({path:t,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){var s;const t=(s=this.path)==null?void 0:s.child(e),r=this.contextWith({path:t,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Fm(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(oA(this.dataSource)&&gk.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class vk{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||cg(e)}createContext(e,t,r,s=!1){return new fy({dataSource:e,methodName:t,targetDoc:r,path:ga.emptyPath(),arrayElement:!1,hasConverter:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function bk(n){const e=n._freezeSettings(),t=cg(n._databaseId);return new vk(n._databaseId,!!e.ignoreUndefinedProperties,t)}function _k(n,e,t,r,s,o={}){const u=n.createContext(o.merge||o.mergeFields?2:0,e,t,s);hA("Data must be an object, but it was:",u,r);const c=uA(r,u);let f,d;if(o.merge)f=new wo(u.fieldMask),d=u.fieldTransforms;else if(o.mergeFields){const g=[];for(const w of o.mergeFields){const A=py(e,w,t);if(!u.contains(A))throw new jt(et.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);Ak(g,A)||g.push(A)}f=new wo(g),d=u.fieldTransforms.filter((w=>f.covers(w.field)))}else f=null,d=u.fieldTransforms;return new yk(new $s(c),f,d)}class dy extends hy{_toFieldTransform(e){return new iI(e.path,new wd)}isEqual(e){return e instanceof dy}}function lA(n,e){if(cA(n=xs(n)))return hA("Unsupported field value:",e,n),uA(n,e);if(n instanceof hy)return(function(r,s){if(!oA(s.dataSource))throw s.createError(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.createError(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(s);o&&s.fieldTransforms.push(o)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,s){const o=[];let u=0;for(const c of r){let f=lA(c,s.childContextForArray(u));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),u++}return{arrayValue:{values:o}}})(n,e)}return(function(r,s){if((r=xs(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return tI(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Vr.fromDate(r);return{timestampValue:Pm(s.serializer,o)}}if(r instanceof Vr){const o=new Vr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Pm(s.serializer,o)}}if(r instanceof il)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ys)return{bytesValue:SE(s.serializer,r._byteString)};if(r instanceof $i){const o=s.databaseId,u=r.firestore._databaseId;if(!u.isEqual(o))throw s.createError(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:X2(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Ao)return(function(u,c){const f=u instanceof Ao?u.toArray():u;return{mapValue:{fields:{[eE]:{stringValue:tE},[Im]:{arrayValue:{values:f.map((g=>{if(typeof g!="number")throw c.createError("VectorValues must only contain numeric values.");return $2(c.serializer,g)}))}}}}}})(r,s);if(IE(r))return r._toProto(s.serializer);throw s.createError(`Unsupported field value: ${F2(r)}`)})(n,e)}function uA(n,e){const t={};return K3(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):kc(n,((r,s)=>{const o=lA(s,e.childContextForField(r));o!=null&&(t[r]=o)})),{mapValue:{fields:t}}}function cA(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Vr||n instanceof il||n instanceof Ys||n instanceof $i||n instanceof hy||n instanceof Ao||IE(n))}function hA(n,e,t){if(!cA(t)||!$3(t)){const r=F2(t);throw r==="an object"?e.createError(n+" a custom object"):e.createError(n+" "+r)}}function py(n,e,t){if((e=xs(e))instanceof sA)return e._internalPath;if(typeof e=="string")return Ek(n,e);throw Fm("Field path arguments must be of type string or ",n,!1,void 0,t)}const wk=new RegExp("[~\\*/\\[\\]]");function Ek(n,e,t){if(e.search(wk)>=0)throw Fm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new sA(...e.split("."))._internalPath}catch{throw Fm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Fm(n,e,t,r,s){const o=r&&!r.isEmpty(),u=s!==void 0;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let f="";return(o||u)&&(f+=" (found",o&&(f+=` in field ${r}`),u&&(f+=` in document ${s}`),f+=")"),new jt(et.INVALID_ARGUMENT,c+n+f)}function Ak(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{convertValue(e,t="none"){switch(Hu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(qu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ln(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return kc(e,((s,o)=>{r[s]=this.convertValue(o,t)})),r}convertVectorValue(e){var r,s,o;const t=(o=(s=(r=e.fields)==null?void 0:r[Im].arrayValue)==null?void 0:s.values)==null?void 0:o.map((u=>yi(u.doubleValue)));return new Ao(t)}convertGeoPoint(e){return new il(yi(e.latitude),yi(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=rg(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(vd(e));default:return null}}convertTimestamp(e){const t=zu(e);return new Vr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Fr.fromString(e);fr(LE(r),9688,{name:e});const s=new bd(r.get(1),r.get(3)),o=new Zt(r.popFirst(5));return s.isEqual(t)||Hl(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA extends Sk{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ys(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new $i(this.firestore,null,t)}}function Z1(){return new dy("serverTimestamp")}const z_="@firebase/firestore",q_="4.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(e,t,r,s,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new $i(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new xk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const t=this._document.data.field(py("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class xk extends dA{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tk(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new jt(et.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function Nk(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class td{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _c extends dA{constructor(e,t,r,s,o,u){super(e,t,r,s,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new dm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(py("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new jt(et.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=_c._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}_c._jsonSchemaVersion="firestore/documentSnapshot/1.0",_c._jsonSchema={type:Ri("string",_c._jsonSchemaVersion),bundleSource:Ri("string","DocumentSnapshot"),bundleName:Ri("string"),bundle:Ri("string")};class dm extends _c{data(e={}){return super.data(e)}}class Mh{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new td(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new dm(this._firestore,this._userDataWriter,r.key,r,new td(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new jt(et.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(s,o){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map((c=>{const f=new dm(s._firestore,s._userDataWriter,c.doc.key,c.doc,new td(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}}))}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((c=>o||c.type!==3)).map((c=>{const f=new dm(s._firestore,s._userDataWriter,c.doc.key,c.doc,new td(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,g=-1;return c.type!==0&&(d=u.indexOf(c.doc.key),u=u.delete(c.doc.key)),c.type!==1&&(u=u.add(c.doc),g=u.indexOf(c.doc.key)),{type:Ck(c.type),doc:f,oldIndex:d,newIndex:g}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new jt(et.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Mh._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=U2.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],s=[];return this.docs.forEach((o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),s.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Ck(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ln(61501,{type:n})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mh._jsonSchemaVersion="firestore/querySnapshot/1.0",Mh._jsonSchema={type:Ri("string",Mh._jsonSchemaVersion),bundleSource:Ri("string","QuerySnapshot"),bundleName:Ri("string"),bundle:Ri("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pA(n){n=Vu(n,$i);const e=Vu(n.firestore,Bd),t=cy(e);return sk(t,n._key).then((r=>Ik(e,n,r)))}function Rk(n){n=Vu(n,pg);const e=Vu(n.firestore,Bd),t=cy(e),r=new fA(e);return Tk(n._query),ok(t,n._query).then((s=>new Mh(e,r,n,s)))}function Vm(n,e,t){n=Vu(n,$i);const r=Vu(n.firestore,Bd),s=Nk(n.converter,e,t),o=bk(r);return mA(r,[_k(o,"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,nl.none())])}function Lk(n){return mA(Vu(n.firestore,Bd),[new Y2(n._key,nl.none())])}function mA(n,e){const t=cy(n);return lk(t,e)}function Ik(n,e,t){const r=t.docs.get(e._key),s=new fA(n);return new _c(n,s,e._key,r,new td(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){oL(Xh),Bh(new Ac("firestore",((r,{instanceIdentifier:s,options:o})=>{const u=r.getProvider("app").getImmediate(),c=new Bd(new cL(r.getProvider("auth-internal")),new dL(u,r.getProvider("app-check-internal")),LL(u,s),u);return o={useFetchStreams:t,...o},c._setSettings(o),c}),"PUBLIC").setMultipleInstances(!0)),Mu(z_,q_,e),Mu(z_,q_,"esm2020")})();const gA="AIzaSyAl2bLDN0OleS72OmBCwUBQtWJRRlBOztU",yA="takehomecalc-c86a7.firebaseapp.com",vA="takehomecalc-c86a7",kk="takehomecalc-c86a7.firebasestorage.app",Ok="350118392468",my="1:350118392468:web:1186f627471bbb313eba81",ud=!!my;console.log("[firebase] env loaded ",{apiKey:`${gA.slice(0,8)}`,authDomain:yA,projectId:vA,appId:`${my.slice(0,12)}`,firebaseEnabled:ud});const Dk={apiKey:gA,authDomain:yA,projectId:vA,storageBucket:kk,messagingSenderId:Ok,appId:my};let e0=null,dc=null,t0=null,So=null;if(ud)try{e0=r3(Dk),dc=rL(e0),So=pk(e0),t0=new Qo,t0.addScope("email"),t0.addScope("profile"),console.log("[firebase]  initialized successfully")}catch(n){console.error("[firebase]  init failed:",n)}else console.warn("[firebase]   Firebase disabled  missing env vars");function zd(n,...e){if(!So)throw new Error("Firestore not initialised");return dk(So,"users",n,...e)}function Pk(n,...e){if(!So)throw new Error("Firestore not initialised");return fk(So,"users",n,...e)}async function Mk(n,e){if(!So)return;const t=zd(n,"profile","info");(await pA(t)).exists()?await Vm(t,{...e,lastLogin:Z1()},{merge:!0}):await Vm(t,{...e,createdAt:Z1(),lastLogin:Z1()})}async function JP(n){return So?(await Rk(Pk(n,"scenarios"))).docs.map(t=>({id:t.id,...t.data()})):[]}async function ZP(n,e){So&&await Vm(zd(n,"scenarios",e.id),e)}async function eM(n,e){So&&await Lk(zd(n,"scenarios",e))}async function tM(n){if(!So)return null;const e=await pA(zd(n,"netWorth","data"));return e.exists()?e.data():null}async function nM(n,e){So&&await Vm(zd(n,"netWorth","data"),e)}const bA=de.createContext(null);function jk({children:n}){const[e,t]=de.useState(null),[r,s]=de.useState(!0);de.useEffect(()=>{if(!ud||!dc){t(null),s(!1);return}return GC(dc,f=>{t(f),s(!1),f&&Mk(f.uid,{displayName:f.displayName,email:f.email,photoURL:f.photoURL}).catch(d=>console.error("[auth] profile sync failed:",d))})},[]);const o=async()=>{if(!ud||!dc)return{ok:!1,message:"Firebase is not configured. Add VITE_FIREBASE_* keys to .env and restart the dev server."};try{const c=new Qo;c.addScope("email"),c.addScope("profile");const f=await fR(dc,c);return{ok:!0}}catch(c){const f=c.code??"",d=c.message??"";return{ok:!1,message:{"auth/unauthorized-domain":'This domain is not authorized in Firebase. Go to Firebase Console  Authentication  Settings  Authorized domains and add "localhost".',"auth/popup-blocked":"Popup was blocked by the browser. Allow popups for localhost and try again.","auth/popup-closed-by-user":"Sign-in popup was closed. Please try again.","auth/operation-not-allowed":"Google sign-in is not enabled. Go to Firebase Console  Authentication  Sign-in method  Google and enable it.","auth/internal-error":"Firebase internal error. Check that Google provider is enabled in Firebase Console.","auth/cancelled-popup-request":"Multiple popups were opened. Please try again."}[f]||`Sign-in failed (${f||"unknown"}): ${d}`}}},u=async()=>{if(dc)try{await $C(dc)}catch(c){console.error("[auth] sign-out failed:",c)}};return B.jsx(bA.Provider,{value:{user:e,loading:r,authEnabled:ud,signInWithGoogle:o,logout:u},children:n})}function mg(){const n=de.useContext(bA);if(!n)throw new Error("useAuth must be used within an AuthProvider");return n}const Uk="modulepreload",Fk=function(n){return"/"+n},H_={},Fu=function(e,t,r){let s=Promise.resolve();if(t&&t.length>0){let u=function(d){return Promise.all(d.map(g=>Promise.resolve(g).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),f=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));s=u(t.map(d=>{if(d=Fk(d),d in H_)return;H_[d]=!0;const g=d.endsWith(".css"),w=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${w}`))return;const A=document.createElement("link");if(A.rel=g?"stylesheet":Uk,g||(A.as="script"),A.crossOrigin="",A.href=d,f&&A.setAttribute("nonce",f),document.head.appendChild(A),g)return new Promise((b,M)=>{A.addEventListener("load",b),A.addEventListener("error",()=>M(new Error(`Unable to preload CSS for ${d}`)))})}))}function o(u){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=u,window.dispatchEvent(c),!c.defaultPrevented)throw u}return s.then(u=>{for(const c of u||[])c.status==="rejected"&&o(c.reason);return e().catch(o)})},Z0=[{label:"Take Home Pay",path:"/take-home-pay"},{label:"Savings Calculator",path:"/"},{label:"Compound Interest",path:"/compound-interest"},{label:"Net Worth",path:"/net-worth"},{label:"Portfolio Simulator",path:"/portfolio",isGold:!0},{label:"Reports",path:"/reports"},{label:"Settings",path:"/settings",isSettings:!0}];Z0.filter(n=>!n.isSettings).map(n=>({label:n.label,href:n.path}));function Vk(){return B.jsxs("svg",{viewBox:"0 0 24 24",width:"18",height:"18",children:[B.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92a5.06 5.06 0 0 1-2.2 3.32v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.1z"}),B.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),B.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),B.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]})}function _A({onClose:n,onSuccess:e}){const{signInWithGoogle:t,authEnabled:r}=mg(),[s,o]=de.useState(null),u=async()=>{o(null);const c=await t();if(c.ok){e?e():n();return}o(c.message||"Unable to sign in with Google.")};return B.jsx("div",{className:"login-overlay",onClick:n,children:B.jsxs("div",{className:"login-modal",onClick:c=>c.stopPropagation(),children:[B.jsx("h2",{className:"login-title",children:"Welcome to TakeHomeCalc"}),B.jsx("p",{className:"login-subtitle",children:"Sign in to save your data and access it anywhere"}),B.jsxs("button",{className:"login-google-btn",onClick:u,children:[B.jsx(Vk,{}),"Continue with Google"]}),!r&&B.jsx("p",{className:"login-help-text",children:"Firebase is not configured yet in this environment."}),s&&B.jsx("p",{className:"login-error-text",role:"alert",children:s}),B.jsx("button",{className:"login-email-btn",disabled:!0,children:" Continue with Email  Coming soon"}),B.jsx("button",{className:"login-close-btn",onClick:n,children:"Maybe later"})]})})}function Bk({user:n,onClose:e}){const{logout:t}=mg(),r=async()=>{await t(),e()};return B.jsxs("div",{className:"user-menu",children:[B.jsx("div",{className:"user-menu-name",children:n.displayName||"User"}),B.jsx("div",{className:"user-menu-email",children:n.email}),B.jsx("button",{className:"user-menu-signout",onClick:r,children:"Sign Out"})]})}function zk(){const{theme:n,toggleTheme:e}=fN(),{currency:t,setCurrency:r}=Ld(),{user:s,loading:o}=mg(),[u,c]=de.useState(!1),[f,d]=de.useState(!1),[g,w]=de.useState(!1),A=de.useRef(null),b=de.useRef(null),M=$l();de.useEffect(()=>{if(!f)return;const U=F=>{A.current&&!A.current.contains(F.target)&&d(!1)};return document.addEventListener("mousedown",U),()=>document.removeEventListener("mousedown",U)},[f]),de.useEffect(()=>{w(!1)},[M.pathname]),de.useEffect(()=>{if(!g)return;const U=F=>{b.current&&!b.current.contains(F.target)&&w(!1)};return document.addEventListener("mousedown",U),()=>document.removeEventListener("mousedown",U)},[g]),de.useEffect(()=>(g?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[g]);const P=de.useCallback(()=>{w(U=>!U)},[]);return B.jsxs("header",{className:"app-header",children:[B.jsxs("div",{className:"header-inner",children:[B.jsx("div",{className:"header-logo",children:B.jsxs("span",{className:"logo-text",children:["TakeHomeCalc",B.jsx("span",{className:"logo-tld",children:".co.uk"})]})}),B.jsx("button",{className:"mobile-menu-toggle",onClick:P,"aria-label":g?"Close menu":"Open menu","aria-expanded":g,children:B.jsxs("span",{className:`hamburger-icon ${g?"hamburger-icon--open":""}`,children:[B.jsx("span",{}),B.jsx("span",{}),B.jsx("span",{})]})}),B.jsx("nav",{className:"header-nav header-nav--desktop",children:Z0.filter(U=>!U.isSettings).map(U=>B.jsx(Xf,{to:U.path,className:({isActive:F})=>`nav-link ${F?"nav-link--active":""}${U.isGold?" nav-link--gold":""}`,children:U.label},U.path))}),B.jsx(Xf,{to:"/settings",className:({isActive:U})=>`nav-link nav-link--settings header-nav--desktop ${U?"nav-link--active":""}`,"aria-label":"Settings",children:B.jsxs("svg",{className:"icon-gear",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[B.jsx("circle",{cx:"12",cy:"12",r:"3"}),B.jsx("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 1 1-2.83 2.83l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-4 0v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 1 1-2.83-2.83l.06-.06A1.65 1.65 0 0 0 4.68 15a1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1 0-4h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 1 1 2.83-2.83l.06.06A1.65 1.65 0 0 0 9 4.68a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 4 0v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 1 1 2.83 2.83l-.06.06A1.65 1.65 0 0 0 19.4 9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 0 4h-.09a1.65 1.65 0 0 0-1.51 1z"})]})}),B.jsxs("div",{className:"header-controls",children:[B.jsx("button",{className:"theme-toggle",onClick:e,"aria-label":`Switch to ${n==="dark"?"light":"dark"} mode`,children:n==="dark"?B.jsxs("svg",{className:"icon-sun",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[B.jsx("circle",{cx:"12",cy:"12",r:"5"}),B.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),B.jsx("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),B.jsx("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),B.jsx("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),B.jsx("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),B.jsx("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),B.jsx("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),B.jsx("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"})]}):B.jsx("svg",{className:"icon-moon",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:B.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})})}),B.jsxs("select",{className:"currency-select",value:t.code,onChange:U=>r(U.target.value),"aria-label":"Select currency",children:[B.jsx("option",{value:"GBP",children:" GBP"}),B.jsx("option",{value:"USD",children:"$ USD"}),B.jsx("option",{value:"EUR",children:" EUR"})]}),!o&&(s?B.jsxs("div",{className:"user-avatar-wrapper",ref:A,children:[s.photoURL?B.jsx("img",{src:s.photoURL,alt:s.displayName||"User",className:"user-avatar",onClick:()=>d(U=>!U),referrerPolicy:"no-referrer"}):B.jsx("button",{className:"auth-btn",onClick:()=>d(U=>!U),children:(s.displayName||s.email||"U").charAt(0)}),f&&B.jsx(Bk,{user:s,onClose:()=>d(!1)})]}):B.jsx("button",{className:"auth-btn",onClick:()=>c(!0),children:"Sign In"}))]})]}),g&&B.jsx("div",{className:"mobile-nav-backdrop",onClick:()=>w(!1)}),B.jsx("div",{ref:b,className:`mobile-nav-drawer ${g?"mobile-nav-drawer--open":""}`,children:B.jsxs("nav",{className:"mobile-nav-list",children:[Z0.filter(U=>!U.isSettings).map(U=>B.jsx(Xf,{to:U.path,className:({isActive:F})=>`mobile-nav-link ${F?"mobile-nav-link--active":""}${U.isGold?" mobile-nav-link--gold":""}`,onClick:()=>w(!1),children:U.label},U.path)),B.jsxs(Xf,{to:"/settings",className:({isActive:U})=>`mobile-nav-link mobile-nav-link--settings ${U?"mobile-nav-link--active":""}`,onClick:()=>w(!1),children:[B.jsxs("svg",{className:"icon-gear",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[B.jsx("circle",{cx:"12",cy:"12",r:"3"}),B.jsx("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 1 1-2.83 2.83l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-4 0v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 1 1-2.83-2.83l.06-.06A1.65 1.65 0 0 0 4.68 15a1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1 0-4h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 1 1 2.83-2.83l.06.06A1.65 1.65 0 0 0 9 4.68a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 4 0v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 1 1 2.83 2.83l-.06.06A1.65 1.65 0 0 0 19.4 9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 0 4h-.09a1.65 1.65 0 0 0-1.51 1z"})]}),"Settings"]})]})}),u&&B.jsx(_A,{onClose:()=>c(!1)})]})}function qk(){return B.jsxs("div",{className:"app-layout",children:[B.jsx(zk,{}),B.jsx("main",{className:"app-main",children:B.jsx(TT,{})})]})}function Hk({text:n="Loading"}){return B.jsx("div",{className:"loading-coin-wrapper",children:B.jsxs("div",{className:"rp-coin-loader",children:[B.jsxs("div",{className:"rp-coin",children:[B.jsx("div",{className:"rp-coin-face rp-coin-front",children:""}),B.jsx("div",{className:"rp-coin-face rp-coin-back",children:"$"})]}),B.jsx("p",{className:"rp-coin-text",children:n})]})})}function Gk(n,e){return e==="annually"?n/12:n}function wA(n){return n.reduce((e,t)=>e+t.amount,0)}function EA(n,e){return n-wA(e)}function $k(n,e){if(n<=0)return 0;const t=EA(n,e);return Math.round(t/n*100)}function Yk({title:n,headerActions:e,footer:t,children:r,className:s="",testId:o}){const u=n||e;return B.jsxs("div",{"data-testid":o,className:`
        bg-bg-elevated
        border border-border-subtle
        rounded-lg
        overflow-hidden
        ${s}
      `,children:[u&&B.jsxs("div",{className:`
          flex items-center justify-between
          px-4 py-3
          border-b border-border-subtle
          bg-bg-surface
        `,children:[n&&B.jsx("h3",{className:`
              text-sm font-semibold
              text-text-primary
              m-0
            `,children:n}),e&&B.jsx("div",{className:"flex items-center gap-2",children:e})]}),B.jsx("div",{className:"p-4",children:r}),t&&B.jsx("div",{className:`
          px-4 py-3
          border-t border-border-subtle
          bg-bg-surface
        `,children:t})]})}const Kk=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Wk=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),G_=n=>{const e=Wk(n);return e.charAt(0).toUpperCase()+e.slice(1)},AA=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim(),Xk=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var Qk={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Jk=de.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:u,...c},f)=>de.createElement("svg",{ref:f,...Qk,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:AA("lucide",s),...!o&&!Xk(c)&&{"aria-hidden":"true"},...c},[...u.map(([d,g])=>de.createElement(d,g)),...Array.isArray(o)?o:[o]])),Xs=(n,e)=>{const t=de.forwardRef(({className:r,...s},o)=>de.createElement(Jk,{ref:o,iconNode:e,className:AA(`lucide-${Kk(G_(n))}`,`lucide-${n}`,r),...s}));return t.displayName=G_(n),t},Zk=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],eO=Xs("check",Zk),tO=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],nO=Xs("chevron-down",tO),rO=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]];Xs("chevron-up",rO);const iO=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]];Xs("chevrons-up-down",iO);const aO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]];Xs("circle-alert",aO);const sO=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]];Xs("circle-check-big",sO);const oO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]];Xs("info",oO);const lO=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],uO=Xs("loader-circle",lO),cO=[["path",{d:"M5 12h14",key:"1ays0h"}]],hO=Xs("minus",cO),fO=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],dO=Xs("plus",fO),pO=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]];Xs("triangle-alert",pO);const mO=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]];Xs("x",mO);const gO={primary:`
    bg-accent-primary text-accent-on-primary
    hover:bg-accent-primary-hover
    active:scale-[0.97]
    shadow-sm hover:shadow-md
  `,secondary:`
    bg-transparent text-accent-primary
    border border-accent-primary
    hover:bg-accent-primary-muted
    active:scale-[0.97]
  `,ghost:`
    bg-transparent text-text-secondary
    hover:bg-bg-hover hover:text-text-primary
    active:scale-[0.97]
  `},yO={sm:"px-3 py-1.5 text-xs gap-1.5",md:"px-4 py-2 text-sm gap-2",lg:"px-6 py-3 text-base gap-2.5"},vO=de.forwardRef(function({variant:n="primary",size:e="md",leftIcon:t,rightIcon:r,isLoading:s=!1,fullWidth:o=!1,disabled:u,className:c="",children:f,...d},g){return B.jsxs("button",{ref:g,disabled:u||s,className:`
          inline-flex items-center justify-center
          font-medium
          rounded-md
          transition-all duration-[var(--transition-fast)]
          focus:outline-none focus-visible:ring-2 focus-visible:ring-border-focus focus-visible:ring-offset-2 focus-visible:ring-offset-bg-base
          disabled:opacity-50 disabled:cursor-not-allowed disabled:pointer-events-none
          ${gO[n]}
          ${yO[e]}
          ${o?"w-full":""}
          ${c}
        `,...d,children:[s?B.jsx(uO,{size:e==="sm"?14:e==="md"?16:18,className:"animate-spin"}):t?B.jsx("span",{className:"flex-shrink-0",children:t}):null,B.jsx("span",{children:f}),r&&!s&&B.jsx("span",{className:"flex-shrink-0",children:r})]})}),bO={primary:`
    bg-accent-primary text-bg-base
    hover:bg-accent-primary-hover
    active:scale-[0.95]
  `,secondary:`
    bg-transparent text-accent-primary
    border border-accent-primary
    hover:bg-accent-primary-muted
    active:scale-[0.95]
  `,ghost:`
    bg-transparent text-text-muted
    hover:bg-bg-hover hover:text-text-primary
    active:scale-[0.95]
  `},_O={sm:{button:"w-7 h-7",icon:14},md:{button:"w-9 h-9",icon:18},lg:{button:"w-11 h-11",icon:22}};de.forwardRef(function({icon:n,label:e,variant:t="ghost",size:r="md",isLoading:s=!1,disabled:o,className:u="",...c},f){const d=o||s,g=_O[r];return B.jsx("button",{ref:f,disabled:d,"aria-label":e,title:e,className:`
          inline-flex items-center justify-center
          rounded-md
          transition-all duration-[var(--transition-fast)]
          focus:outline-none focus-visible:ring-2 focus-visible:ring-border-focus focus-visible:ring-offset-2 focus-visible:ring-offset-bg-base
          disabled:opacity-50 disabled:cursor-not-allowed disabled:pointer-events-none
          ${bO[t]}
          ${g.button}
          ${u}
        `,...c,children:s?B.jsx("span",{className:"animate-spin",children:""}):n})});const wO={sm:"px-3 py-1.5 text-xs",md:"px-3 py-2 text-sm",lg:"px-4 py-3 text-base"},EO=de.forwardRef(function({label:n,helperText:e,errorText:t,size:r="md",fullWidth:s=!1,disabled:o,className:u="",id:c,...f},d){const g=de.useId(),w=c||g,A=!!t;return B.jsxs("div",{className:`flex flex-col gap-1.5 ${s?"w-full":""}`,children:[n&&B.jsx("label",{htmlFor:w,className:`
              text-sm font-medium
              text-text-secondary
            `,children:n}),B.jsx("input",{ref:d,id:w,disabled:o,className:`
            w-full
            bg-bg-surface
            border rounded-md
            text-text-primary
            placeholder:text-text-muted
            transition-colors duration-[var(--transition-fast)]
            focus:outline-none focus:ring-2 focus:ring-offset-0
            disabled:opacity-50 disabled:cursor-not-allowed disabled:bg-bg-overlay
            ${A?"border-error focus:ring-error/30 focus:border-error":"border-border-subtle hover:border-border-default focus:ring-accent-primary/30 focus:border-accent-primary"}
            ${wO[r]}
            ${u}
          `,...f}),(e||t)&&B.jsx("p",{className:`
            text-xs
            ${A?"text-error":"text-text-muted"}
          `,children:t||e})]})}),AO={sm:{input:"px-3 py-1.5 text-xs",control:"w-7 h-7",icon:12},md:{input:"px-3 py-2 text-sm",control:"w-8 h-8",icon:14},lg:{input:"px-4 py-3 text-base",control:"w-10 h-10",icon:16}},e2=de.forwardRef(function({value:n,onChange:e,label:t,helperText:r,errorText:s,min:o,max:u,step:c=1,size:f="md",fullWidth:d=!1,hideControls:g=!1,disabled:w,className:A="",id:b,...M},P){const U=de.useId(),F=b||U,$=!!s,ee=AO[f],te=typeof n=="string"?parseFloat(n):n,ce=de.useCallback(q=>{const T=q.target.value;if(T===""||T==="-"){e==null||e(void 0);return}const D=parseFloat(T);isNaN(D)||(e==null||e(D))},[e]),Ee=de.useCallback(()=>{const q=(te??o??0)+c;(u===void 0||q<=u)&&(e==null||e(q))},[te,o,u,c,e]),O=de.useCallback(()=>{const q=(te??u??0)-c;(o===void 0||q>=o)&&(e==null||e(q))},[te,o,u,c,e]),k=w||o!==void 0&&te!==void 0&&te<=o,R=w||u!==void 0&&te!==void 0&&te>=u;return B.jsxs("div",{className:`flex flex-col gap-1.5 ${d?"w-full":""}`,children:[t&&B.jsx("label",{htmlFor:F,className:"text-sm font-medium text-text-secondary",children:t}),B.jsxs("div",{className:"relative flex items-center",children:[B.jsx("input",{ref:P,id:F,type:"text",inputMode:"decimal",value:n??"",onChange:ce,disabled:w,className:`
              w-full
              bg-bg-surface
              border rounded-md
              text-text-primary text-right
              placeholder:text-text-muted
              transition-colors duration-[var(--transition-fast)]
              focus:outline-none focus:ring-2 focus:ring-offset-0
              disabled:opacity-50 disabled:cursor-not-allowed disabled:bg-bg-overlay
              [appearance:textfield]
              [&::-webkit-outer-spin-button]:appearance-none
              [&::-webkit-inner-spin-button]:appearance-none
              ${$?"border-error focus:ring-error/30 focus:border-error":"border-border-subtle hover:border-border-default focus:ring-accent-primary/30 focus:border-accent-primary"}
              ${ee.input}
              ${g?"":"pr-20"}
              ${A}
            `,...M}),!g&&B.jsxs("div",{className:"absolute right-1 flex items-center gap-0.5",children:[B.jsx("button",{type:"button",onClick:O,disabled:k,className:`
                  flex items-center justify-center
                  rounded
                  text-text-muted
                  transition-colors duration-[var(--transition-fast)]
                  hover:bg-bg-hover hover:text-text-primary
                  disabled:opacity-30 disabled:cursor-not-allowed disabled:hover:bg-transparent
                  ${ee.control}
                `,"aria-label":"Decrease value",children:B.jsx(hO,{size:ee.icon})}),B.jsx("button",{type:"button",onClick:Ee,disabled:R,className:`
                  flex items-center justify-center
                  rounded
                  text-text-muted
                  transition-colors duration-[var(--transition-fast)]
                  hover:bg-bg-hover hover:text-text-primary
                  disabled:opacity-30 disabled:cursor-not-allowed disabled:hover:bg-transparent
                  ${ee.control}
                `,"aria-label":"Increase value",children:B.jsx(dO,{size:ee.icon})})]})]}),(r||s)&&B.jsx("p",{className:`text-xs ${$?"text-error":"text-text-muted"}`,children:s||r})]})});de.forwardRef(function({value:n=0,onChange:e,min:t=0,max:r=100,step:s=1,label:o,showValue:u=!0,formatValue:c=P=>String(P),orientation:f="horizontal",fullWidth:d=!0,disabled:g,className:w="",id:A,...b},M){const P=de.useId(),U=A||P,F=(n-t)/(r-t)*100,$=de.useCallback(te=>{e==null||e(parseFloat(te.target.value))},[e]),ee=f==="vertical";return B.jsxs("div",{className:`
          flex gap-3
          ${ee?"flex-col h-full":"flex-col"}
          ${d&&!ee?"w-full":""}
        `,children:[(o||u)&&B.jsxs("div",{className:"flex items-center justify-between",children:[o&&B.jsx("label",{htmlFor:U,className:"text-sm font-medium text-text-secondary",children:o}),u&&B.jsx("span",{className:`
                text-sm font-medium
                text-accent-primary
                tabular-nums
              `,children:c(n)})]}),B.jsx("div",{className:`relative ${ee?"flex-1 w-2":"h-2 w-full"}`,children:B.jsx("input",{ref:M,id:U,type:"range",value:n,onChange:$,min:t,max:r,step:s,disabled:g,className:`
              absolute inset-0
              w-full h-full
              appearance-none
              bg-transparent
              cursor-pointer
              disabled:cursor-not-allowed disabled:opacity-50
              
              /* Track styling */
              [&::-webkit-slider-runnable-track]:h-2
              [&::-webkit-slider-runnable-track]:rounded-full
              [&::-webkit-slider-runnable-track]:bg-bg-overlay
              
              /* Thumb styling */
              [&::-webkit-slider-thumb]:appearance-none
              [&::-webkit-slider-thumb]:w-4
              [&::-webkit-slider-thumb]:h-4
              [&::-webkit-slider-thumb]:rounded-full
              [&::-webkit-slider-thumb]:bg-accent-primary
              [&::-webkit-slider-thumb]:border-2
              [&::-webkit-slider-thumb]:border-bg-base
              [&::-webkit-slider-thumb]:shadow-md
              [&::-webkit-slider-thumb]:transition-transform
              [&::-webkit-slider-thumb]:duration-[var(--transition-fast)]
              [&::-webkit-slider-thumb]:hover:scale-110
              [&::-webkit-slider-thumb]:-mt-1
              
              /* Firefox */
              [&::-moz-range-track]:h-2
              [&::-moz-range-track]:rounded-full
              [&::-moz-range-track]:bg-bg-overlay
              
              [&::-moz-range-thumb]:w-4
              [&::-moz-range-thumb]:h-4
              [&::-moz-range-thumb]:rounded-full
              [&::-moz-range-thumb]:bg-accent-primary
              [&::-moz-range-thumb]:border-2
              [&::-moz-range-thumb]:border-bg-base
              [&::-moz-range-thumb]:cursor-pointer
              
              /* Focus styles */
              focus:outline-none
              focus-visible:[&::-webkit-slider-thumb]:ring-2
              focus-visible:[&::-webkit-slider-thumb]:ring-accent-primary/50
              
              ${w}
            `,style:{background:`linear-gradient(to right, var(--accent-primary) 0%, var(--accent-primary) ${F}%, var(--bg-overlay) ${F}%, var(--bg-overlay) 100%)`,borderRadius:"var(--radius-full)",height:"0.5rem"},...b})})]})});const SO={sm:{container:"p-0.5 gap-0.5",segment:"px-2.5 py-1 text-xs gap-1"},md:{container:"p-1 gap-1",segment:"px-3 py-1.5 text-sm gap-1.5"}};function xO({options:n,value:e,onChange:t,size:r="md",fullWidth:s=!1,className:o="",ariaLabel:u="Toggle options"}){const c=de.useRef(null),f=de.useRef(new Map),d=SO[r],[g,w]=de.useState(null),[A,b]=de.useState(!1),M=de.useCallback(()=>{const $=f.current.get(e),ee=c.current;if($&&ee){const te=ee.getBoundingClientRect(),ce=$.getBoundingClientRect();w({left:ce.left-te.left,width:ce.width})}},[e]);de.useLayoutEffect(()=>{M();const $=setTimeout(()=>b(!0),50);return()=>clearTimeout($)},[M]),de.useEffect(()=>{M()},[e,M]),de.useEffect(()=>{const $=()=>M();return window.addEventListener("resize",$),()=>window.removeEventListener("resize",$)},[M]);const P=de.useCallback(($,ee)=>{ee?f.current.set($,ee):f.current.delete($)},[]),U=de.useCallback(($,ee)=>{var O;const te=n.filter(k=>!k.disabled),ce=te.findIndex(k=>k.value===n[ee].value);let Ee=-1;switch($.key){case"ArrowRight":case"ArrowDown":$.preventDefault(),Ee=(ce+1)%te.length;break;case"ArrowLeft":case"ArrowUp":$.preventDefault(),Ee=(ce-1+te.length)%te.length;break;case"Home":$.preventDefault(),Ee=0;break;case"End":$.preventDefault(),Ee=te.length-1;break;default:return}if(Ee>=0){const k=te[Ee];t(k.value),(O=f.current.get(k.value))==null||O.focus()}},[n,t]),F=n.length>1&&g!==null;return B.jsxs("div",{ref:c,role:"tablist","aria-label":u,className:`
        relative
        inline-flex items-center
        bg-bg-surface
        border border-border-subtle
        rounded-md
        ${d.container}
        ${s?"w-full":""}
        ${o}
      `,children:[F&&B.jsx("div",{className:`
            absolute
            bg-accent-primary
            rounded
            shadow-sm
            pointer-events-none
            ${A?"transition-all duration-200 ease-out":""}
          `,style:{left:g.left,width:g.width,top:r==="sm"?"2px":"4px",bottom:r==="sm"?"2px":"4px"}}),n.map(($,ee)=>{const te=$.value===e,ce=$.disabled;return B.jsxs("button",{ref:Ee=>P($.value,Ee),type:"button",role:"tab","data-value":$.value,"aria-selected":te,"aria-disabled":ce,tabIndex:te?0:-1,disabled:ce,onClick:()=>!ce&&t($.value),onKeyDown:Ee=>U(Ee,ee),className:`
              relative z-10
              inline-flex items-center justify-center
              font-medium
              rounded
              transition-colors duration-[var(--transition-fast)]
              focus:outline-none focus-visible:ring-2 focus-visible:ring-border-focus
              ${d.segment}
              ${s?"flex-1":""}
              ${te?"text-accent-on-primary":"text-text-secondary hover:text-text-primary"}
              ${ce?"opacity-40 cursor-not-allowed":"cursor-pointer"}
            `,children:[$.icon&&B.jsx("span",{className:"flex-shrink-0",children:$.icon}),B.jsx("span",{children:$.label})]},$.value)})]})}const TO={sm:"px-3 py-1.5 text-xs",md:"px-3 py-2 text-sm",lg:"px-4 py-3 text-base"};de.forwardRef(function({label:n,helperText:e,errorText:t,size:r="md",fullWidth:s=!1,disabled:o,className:u="",id:c,options:f,placeholder:d,...g},w){const A=de.useId(),b=c||A,M=!!t;return B.jsxs("div",{className:`flex flex-col gap-1.5 ${s?"w-full":""}`,children:[n&&B.jsx("label",{htmlFor:b,className:`
              text-sm font-medium
              text-text-secondary
            `,children:n}),B.jsxs("div",{className:"relative",children:[B.jsxs("select",{ref:w,id:b,disabled:o,className:`
              w-full
              bg-bg-surface
              border rounded-md
              text-text-primary
              transition-colors duration-[var(--transition-fast)]
              focus:outline-none focus:ring-2 focus:ring-offset-0
              appearance-none
              cursor-pointer
              ${M?"border-error focus:ring-error":"border-border-default focus:ring-accent-primary focus:border-accent-primary"}
              ${o?"opacity-50 cursor-not-allowed":""}
              ${TO[r]}
              pr-10
              ${u}
            `,...g,children:[d&&B.jsx("option",{value:"",disabled:!0,children:d}),f.map(P=>B.jsx("option",{value:P.value,disabled:P.disabled,children:P.label},P.value))]}),B.jsx("div",{className:`
              absolute right-3 top-1/2 -translate-y-1/2
              pointer-events-none
              text-text-muted
              ${o?"opacity-50":""}
            `,children:B.jsx(nO,{size:r==="sm"?14:r==="lg"?18:16})})]}),(e||t)&&B.jsx("span",{className:`
              text-xs
              ${M?"text-error":"text-text-muted"}
            `,children:t||e})]})});const $_={sm:{box:"w-4 h-4",icon:12},md:{box:"w-5 h-5",icon:14},lg:{box:"w-6 h-6",icon:16}};de.forwardRef(function({label:n,helperText:e,errorText:t,size:r="md",disabled:s,className:o="",id:u,checked:c,...f},d){const g=de.useId(),w=u||g,A=!!t;return B.jsxs("div",{className:"flex flex-col gap-1.5",children:[B.jsxs("div",{className:"flex items-start gap-2",children:[B.jsxs("div",{className:"relative flex items-center",children:[B.jsx("input",{ref:d,type:"checkbox",id:w,disabled:s,checked:c,className:"sr-only peer",...f}),B.jsx("label",{htmlFor:w,className:`
                flex items-center justify-center
                ${$_[r].box}
                bg-bg-surface
                border-2 rounded
                cursor-pointer
                transition-all duration-[var(--transition-fast)]
                peer-focus:ring-2 peer-focus:ring-offset-0 peer-focus:ring-accent-primary
                ${A?"border-error peer-checked:bg-error peer-checked:border-error":"border-border-default peer-checked:bg-accent-primary peer-checked:border-accent-primary"}
                ${s?"opacity-50 cursor-not-allowed":"hover:border-accent-primary"}
                ${o}
              `,children:c&&B.jsx(eO,{size:$_[r].icon,className:"text-white",strokeWidth:3})})]}),n&&B.jsx("label",{htmlFor:w,className:`
                text-sm font-medium
                text-text-primary
                cursor-pointer
                ${s?"opacity-50 cursor-not-allowed":""}
              `,children:n})]}),(e||t)&&B.jsx("span",{className:`
              text-xs ml-7
              ${A?"text-error":"text-text-muted"}
            `,children:t||e})]})});const NO={sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6"};de.forwardRef(function({label:n,helperText:e,size:t="md",disabled:r,className:s="",id:o,checked:u,...c},f){const d=de.useId(),g=o||d;return B.jsxs("div",{className:"flex flex-col gap-1.5",children:[B.jsxs("div",{className:"flex items-start gap-2",children:[B.jsxs("div",{className:"relative flex items-center",children:[B.jsx("input",{ref:f,type:"radio",id:g,disabled:r,checked:u,className:"sr-only peer",...c}),B.jsx("label",{htmlFor:g,className:`
                flex items-center justify-center
                ${NO[t]}
                bg-bg-surface
                border-2 rounded-full
                cursor-pointer
                transition-all duration-[var(--transition-fast)]
                peer-focus:ring-2 peer-focus:ring-offset-0 peer-focus:ring-accent-primary
                border-border-default
                peer-checked:border-accent-primary
                ${r?"opacity-50 cursor-not-allowed":"hover:border-accent-primary"}
                ${s}
              `,children:u&&B.jsx("div",{className:`
                    rounded-full
                    bg-accent-primary
                    ${t==="sm"?"w-2 h-2":t==="lg"?"w-3.5 h-3.5":"w-2.5 h-2.5"}
                  `})})]}),n&&B.jsx("label",{htmlFor:g,className:`
                text-sm font-medium
                text-text-primary
                cursor-pointer
                ${r?"opacity-50 cursor-not-allowed":""}
              `,children:n})]}),e&&B.jsx("span",{className:"text-xs ml-7 text-text-muted",children:e})]})});const n0={sm:{track:"w-8 h-4",thumb:"w-3 h-3",translate:"translate-x-4"},md:{track:"w-11 h-6",thumb:"w-4 h-4",translate:"translate-x-5"},lg:{track:"w-14 h-7",thumb:"w-5 h-5",translate:"translate-x-7"}};de.forwardRef(function({label:n,helperText:e,errorText:t,size:r="md",labelPosition:s="right",disabled:o,className:u="",id:c,checked:f,...d},g){const w=de.useId(),A=c||w,b=!!t,M=B.jsxs("div",{className:"relative flex items-center",children:[B.jsx("input",{ref:g,type:"checkbox",id:A,disabled:o,checked:f,className:"sr-only peer",...d}),B.jsx("label",{htmlFor:A,className:`
            relative
            ${n0[r].track}
            rounded-full
            cursor-pointer
            transition-all duration-[var(--transition-normal)]
            peer-focus:ring-2 peer-focus:ring-offset-0 peer-focus:ring-accent-primary
            ${b?"bg-error/20 peer-checked:bg-error":"bg-bg-muted peer-checked:bg-accent-primary"}
            ${o?"opacity-50 cursor-not-allowed":""}
            ${u}
          `,children:B.jsx("span",{className:`
              absolute top-1/2 -translate-y-1/2 left-1
              ${n0[r].thumb}
              bg-white
              rounded-full
              shadow-sm
              transition-transform duration-[var(--transition-normal)]
              ${f?n0[r].translate:""}
            `})})]});return B.jsxs("div",{className:"flex flex-col gap-1.5",children:[B.jsxs("div",{className:`
            flex items-center gap-3
            ${s==="left"?"flex-row-reverse justify-end":""}
          `,children:[M,n&&B.jsx("label",{htmlFor:A,className:`
                text-sm font-medium
                text-text-primary
                cursor-pointer
                ${o?"opacity-50 cursor-not-allowed":""}
              `,children:n})]}),(e||t)&&B.jsx("span",{className:`
              text-xs
              ${s==="left"?"text-right":""}
              ${b?"text-error":"text-text-muted"}
            `,children:t||e})]})});function CO(){const{state:n,dispatch:e}=Xm(),{currency:t}=Ld(),r=[{value:"monthly",label:"Monthly"},{value:"annually",label:"Annually"}];return B.jsx(Yk,{title:"Monthly Income",headerActions:B.jsxs("div",{className:"income-header-actions",children:[B.jsx(xO,{options:r,value:n.incomeFrequency,onChange:s=>e({type:"SET_INCOME_FREQUENCY",payload:s}),size:"md",ariaLabel:"Income frequency toggle"}),B.jsx("select",{className:"currency-select currency-select--inline",value:t.code,disabled:!0,"aria-label":"Currency display",children:B.jsx("option",{children:t.label})})]}),children:B.jsxs("div",{className:"income-input-row",children:[B.jsx("span",{className:"currency-prefix",children:t.symbol}),B.jsx(e2,{value:n.income,onChange:s=>e({type:"SET_INCOME",payload:s??0}),min:0,step:100,fullWidth:!0,hideControls:!0})]})})}function RO({message:n,onConfirm:e,onCancel:t}){return B.jsx("div",{className:"confirm-overlay",onClick:t,children:B.jsxs("div",{className:"confirm-dialog",onClick:r=>r.stopPropagation(),children:[B.jsx("p",{className:"confirm-message",children:n}),B.jsxs("div",{className:"confirm-actions",children:[B.jsx("button",{className:"confirm-btn confirm-btn--cancel",onClick:t,children:"Cancel"}),B.jsx("button",{className:"confirm-btn confirm-btn--remove",onClick:e,children:"Remove"})]})]})})}function LO(){const[n,e]=de.useState(null);return{pendingId:n,requestConfirm:t=>e(t),cancel:()=>e(null),confirm:t=>{n&&(t(n),e(null))}}}const IO={Housing:"",Groceries:"",Transportation:"","Dining Out":""},Y_=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""];function kO(n){return IO[n]??""}function OO(){const{state:n,dispatch:e}=Xm(),{currency:t}=Ld(),[r,s]=de.useState(""),[o,u]=de.useState(0),[c,f]=de.useState(""),[d,g]=de.useState(!1),[w,A]=de.useState(null),[b,M]=de.useState(!1),{pendingId:P,requestConfirm:U,cancel:F,confirm:$}=LO(),ee=P?n.expenses.find(ce=>ce.id===P):null,te=()=>{g(!0),A(null)};return de.useEffect(()=>{if(!d||!r.trim()||o<=0)return;const ce=setTimeout(()=>{e({type:"ADD_EXPENSE",payload:{name:r.trim(),amount:o,icon:c}}),s(""),u(0),f(""),M(!1)},300);return()=>clearTimeout(ce)},[d,r,o,e]),B.jsxs("div",{className:"expenses-section",children:[B.jsx("h3",{className:"expenses-title",children:"Monthly Expenses"}),B.jsx("div",{className:"expenses-list",children:n.expenses.map(ce=>B.jsxs("div",{className:"expense-row",children:[B.jsxs("div",{className:"expense-icon-picker",children:[B.jsx("button",{className:"expense-icon-btn",onClick:()=>A(Ee=>Ee===ce.id?null:ce.id),"aria-label":`Change icon for ${ce.name}`,children:ce.icon??kO(ce.name)}),w===ce.id&&B.jsx("div",{className:"emoji-picker",role:"dialog","aria-label":"Choose expense icon",children:Y_.map(Ee=>B.jsx("button",{className:"emoji-option",onClick:()=>{e({type:"UPDATE_EXPENSE",payload:{id:ce.id,icon:Ee}}),A(null)},"aria-label":`Set icon ${Ee}`,children:Ee},`${ce.id}-${Ee}`))})]}),B.jsx("span",{className:"expense-name",children:ce.name}),B.jsxs("div",{className:"expense-amount-group",children:[B.jsx("span",{className:"currency-prefix-sm",children:t.symbol}),B.jsx(e2,{value:ce.amount,onChange:Ee=>e({type:"UPDATE_EXPENSE",payload:{id:ce.id,amount:Ee??0}}),min:0,step:10,hideControls:!0,size:"sm"})]}),B.jsx("button",{className:"expense-delete-btn",onClick:()=>U(ce.id),"aria-label":`Remove ${ce.name}`,children:""})]},ce.id))}),d&&B.jsxs("div",{className:"expense-add-form",children:[B.jsxs("div",{className:"expense-icon-picker",children:[B.jsx("button",{className:"expense-icon-btn",onClick:()=>M(ce=>!ce),"aria-label":"Choose icon for new expense",children:c}),b&&B.jsx("div",{className:"emoji-picker",role:"dialog","aria-label":"Choose new expense icon",children:Y_.map(ce=>B.jsx("button",{className:"emoji-option",onClick:()=>{f(ce),M(!1)},"aria-label":`Set new icon ${ce}`,children:ce},`new-${ce}`))})]}),B.jsx(EO,{placeholder:"Category",value:r,onChange:ce=>s(ce.target.value),size:"sm",fullWidth:!0}),B.jsxs("div",{className:"expense-amount-group",children:[B.jsx("span",{className:"currency-prefix-sm",children:t.symbol}),B.jsx(e2,{value:o,onChange:ce=>u(ce??0),min:0,step:10,hideControls:!0,size:"sm"})]})]}),B.jsx(vO,{variant:"primary",fullWidth:!0,onClick:te,disabled:d,children:"+ Add Expense"}),P&&ee&&B.jsx(RO,{message:`Remove "${ee.name}" expense?`,onCancel:F,onConfirm:()=>$(ce=>e({type:"REMOVE_EXPENSE",payload:ce}))})]})}function DO({segments:n,centerLabel:e,centerValue:t,size:r=220}){const s=n.reduce((d,g)=>d+g.value,0);if(s===0)return B.jsxs("div",{className:"donut-chart",style:{width:r,height:r},children:[B.jsx("svg",{viewBox:"0 0 100 100",className:"donut-svg",children:B.jsx("circle",{cx:"50",cy:"50",r:"38",fill:"none",stroke:"var(--color-surface-alt, #1e293b)",strokeWidth:"14"})}),e&&B.jsxs("div",{className:"donut-center",children:[B.jsx("span",{className:"donut-center-value",children:t}),B.jsx("span",{className:"donut-center-label",children:e})]})]});const o=38,u=2*Math.PI*o;let c=0;const f=n.filter(d=>d.value>0).map(d=>{const w=d.value/s*u,A=u-w,b=-c+u*.25;return c+=w,{...d,dashArray:`${w} ${A}`,dashOffset:b}});return B.jsxs("div",{className:"donut-chart",style:{width:r,height:r},children:[B.jsx("svg",{viewBox:"0 0 100 100",className:"donut-svg",children:f.map(d=>B.jsx("circle",{cx:"50",cy:"50",r:o,fill:"none",stroke:d.color,strokeWidth:"14",strokeDasharray:d.dashArray,strokeDashoffset:d.dashOffset,strokeLinecap:"butt",className:"donut-segment"},d.label))}),(e||t)&&B.jsxs("div",{className:"donut-center",children:[B.jsx("span",{className:"donut-center-value",children:t}),B.jsx("span",{className:"donut-center-label",children:e})]})]})}function PO({items:n}){return B.jsx("div",{className:"donut-legend",children:n.map(e=>B.jsxs("div",{className:"legend-item",children:[B.jsx("span",{className:"legend-swatch",style:{backgroundColor:e.color}}),B.jsx("span",{className:"legend-value",children:e.value}),B.jsx("span",{className:"legend-label",children:e.label})]},e.label))})}function MO({monthlySavings:n,monthlyExpenses:e,rate:t,currency:r}){return B.jsxs("div",{className:"savings-rate-card",children:[B.jsx("h2",{className:"savings-rate-heading",children:"Monthly Savings"}),B.jsx("div",{className:"savings-amount",children:br(n,r.code)}),B.jsxs("p",{className:"savings-description",children:["That's ",B.jsx("strong",{children:br(n*12,r.code)})," per year  a ",B.jsxs("strong",{children:[t,"%"]})," savings rate."]}),B.jsxs("div",{className:"savings-stats-row",children:[B.jsxs("div",{className:"stat-item",children:[B.jsx("span",{className:"stat-icon",children:""}),B.jsx("span",{className:"stat-label",children:"Annual Savings"}),B.jsx("span",{className:"stat-value",children:br(n*12,r.code)})]}),B.jsxs("div",{className:"stat-item",children:[B.jsx("span",{className:"stat-icon",children:""}),B.jsx("span",{className:"stat-label",children:"Savings Rate"}),B.jsxs("span",{className:"stat-value stat-value--accent",children:[t,"%"]})]}),B.jsxs("div",{className:"stat-item",children:[B.jsx("span",{className:"stat-icon",children:""}),B.jsx("span",{className:"stat-label",children:"Monthly Expenses"}),B.jsx("span",{className:"stat-value",children:br(e,r.code)})]})]})]})}function jO({income:n,expenses:e,savings:t,rate:r,currency:s}){return B.jsxs("div",{className:"savings-overview",children:[B.jsxs("div",{className:"savings-overview-header",children:[B.jsxs("div",{className:"savings-overview-rate",children:[B.jsx("span",{className:"overview-label",children:"Savings Rate"}),B.jsxs("span",{className:"overview-rate-value",children:[r,"%"]})]}),B.jsxs("div",{className:"savings-overview-summary",children:[B.jsxs("div",{className:"summary-item",children:[B.jsx("span",{children:br(n,s.code)}),B.jsx("span",{className:"summary-sublabel",children:"Income"})]}),B.jsxs("div",{className:"summary-item",children:[B.jsx("span",{children:br(e,s.code)}),B.jsx("span",{className:"summary-sublabel",children:"Expenses"})]})]})]}),B.jsxs("div",{className:"savings-overview-cards",children:[B.jsxs("div",{className:"overview-card",children:[B.jsx("div",{className:"overview-card-icon",children:""}),B.jsx("div",{className:"overview-card-label",children:"Savings Rate"}),B.jsxs("div",{className:"overview-card-value",children:[r,"%"]})]}),B.jsxs("div",{className:"overview-card",children:[B.jsx("div",{className:"overview-card-icon",children:""}),B.jsx("div",{className:"overview-card-label",children:"Monthly Savings"}),B.jsx("div",{className:"overview-card-value",children:br(t,s.code)})]}),B.jsxs("div",{className:"overview-card",children:[B.jsx("div",{className:"overview-card-icon",children:""}),B.jsx("div",{className:"overview-card-label",children:"Monthly Expenses"}),B.jsx("div",{className:"overview-card-value",children:br(e,s.code)})]})]})]})}const K_=["#3b82f6","#f59e0b","#8b5cf6","#ec4899","#10b981","#ef4444","#06b6d4","#f97316"];function UO(){var w,A;const{state:n}=Xm(),{currency:e}=Ld(),t=Km(),r=Gk(n.income,n.incomeFrequency),s=wA(n.expenses),o=EA(r,n.expenses),u=$k(r,n.expenses),c=n.expenses.map((b,M)=>({label:b.name,value:b.amount,color:K_[M%K_.length]})),d=o>0?[...c,{label:"Savings",value:o,color:"#22d3ee"}]:c,g=d.map(b=>({label:b.label,value:br(b.value,e.code),color:b.color}));return B.jsxs("div",{className:"calculator-page",children:[B.jsxs("div",{className:"page-header",children:[B.jsx("h1",{className:"page-title",children:"Savings Calculator"}),B.jsx("p",{className:"page-subtitle",children:"Calculate your savings rate based on your monthly income and expenses."})]}),B.jsxs("div",{className:"calculator-grid",children:[B.jsxs("div",{className:"calculator-left",children:[B.jsx(CO,{}),B.jsx(OO,{})]}),B.jsxs("div",{className:"calculator-right",children:[B.jsxs("div",{className:"chart-wrapper",children:[o>0&&B.jsxs("div",{className:"chart-savings-label",children:[B.jsx("span",{className:"chart-savings-amount",children:br(o,e.code)}),B.jsx("span",{className:"chart-savings-text",children:"Savings"})]}),B.jsx(DO,{segments:d,centerValue:br(s,e.code),centerLabel:"Total Expenses",size:240}),c.length>0&&B.jsxs("div",{className:"chart-housing-label",children:[B.jsx("span",{children:br(((w=n.expenses[0])==null?void 0:w.amount)??0,e.code)}),B.jsx("span",{children:((A=n.expenses[0])==null?void 0:A.name)??""})]})]}),B.jsx(PO,{items:g})]})]}),B.jsxs("div",{className:"savings-section",children:[B.jsx(MO,{monthlySavings:o,monthlyExpenses:s,rate:u,currency:e}),B.jsx(jO,{income:r,expenses:s,savings:o,rate:u,currency:e})]}),o>0&&B.jsx("div",{className:"savings-invest-cta",children:B.jsxs("button",{className:"thp-cta",onClick:()=>{localStorage.setItem("vf-compound-interest",JSON.stringify({initialInvestment:0,recurringInvestment:Math.round(o),recurringFrequency:"monthly",mode:"deposit",annualGrowthRate:6,annualDepositIncrease:2,years:30})),t("/compound-interest")},children:["See how you could invest ",br(o,e.code),"/mo "]})})]})}function _r(n){"@babel/helpers - typeof";return _r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_r(n)}var xo=Uint8Array,Ss=Uint16Array,gy=Int32Array,yy=new xo([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),vy=new xo([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),W_=new xo([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),SA=function(n,e){for(var t=new Ss(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];for(var s=new gy(t[30]),r=1;r<30;++r)for(var o=t[r];o<t[r+1];++o)s[o]=o-t[r]<<5|r;return{b:t,r:s}},xA=SA(yy,2),FO=xA.b,t2=xA.r;FO[28]=258,t2[258]=28;var VO=SA(vy,0),X_=VO.r,n2=new Ss(32768);for(var Br=0;Br<32768;++Br){var Su=(Br&43690)>>1|(Br&21845)<<1;Su=(Su&52428)>>2|(Su&13107)<<2,Su=(Su&61680)>>4|(Su&3855)<<4,n2[Br]=((Su&65280)>>8|(Su&255)<<8)>>1}var cd=(function(n,e,t){for(var r=n.length,s=0,o=new Ss(e);s<r;++s)n[s]&&++o[n[s]-1];var u=new Ss(e);for(s=1;s<e;++s)u[s]=u[s-1]+o[s-1]<<1;var c;if(t){c=new Ss(1<<e);var f=15-e;for(s=0;s<r;++s)if(n[s])for(var d=s<<4|n[s],g=e-n[s],w=u[n[s]-1]++<<g,A=w|(1<<g)-1;w<=A;++w)c[n2[w]>>f]=d}else for(c=new Ss(r),s=0;s<r;++s)n[s]&&(c[s]=n2[u[n[s]-1]++]>>15-n[s]);return c}),Cc=new xo(288);for(var Br=0;Br<144;++Br)Cc[Br]=8;for(var Br=144;Br<256;++Br)Cc[Br]=9;for(var Br=256;Br<280;++Br)Cc[Br]=7;for(var Br=280;Br<288;++Br)Cc[Br]=8;var Bm=new xo(32);for(var Br=0;Br<32;++Br)Bm[Br]=5;var BO=cd(Cc,9,0),zO=cd(Bm,5,0),TA=function(n){return(n+7)/8|0},qO=function(n,e,t){return(t==null||t>n.length)&&(t=n.length),new xo(n.subarray(e,t))},Pl=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8},Gf=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8,n[r+2]|=t>>16},r0=function(n,e){for(var t=[],r=0;r<n.length;++r)n[r]&&t.push({s:r,f:n[r]});var s=t.length,o=t.slice();if(!s)return{t:CA,l:0};if(s==1){var u=new xo(t[0].s+1);return u[t[0].s]=1,{t:u,l:1}}t.sort(function(ce,Ee){return ce.f-Ee.f}),t.push({s:-1,f:25001});var c=t[0],f=t[1],d=0,g=1,w=2;for(t[0]={s:-1,f:c.f+f.f,l:c,r:f};g!=s-1;)c=t[t[d].f<t[w].f?d++:w++],f=t[d!=g&&t[d].f<t[w].f?d++:w++],t[g++]={s:-1,f:c.f+f.f,l:c,r:f};for(var A=o[0].s,r=1;r<s;++r)o[r].s>A&&(A=o[r].s);var b=new Ss(A+1),M=r2(t[g-1],b,0);if(M>e){var r=0,P=0,U=M-e,F=1<<U;for(o.sort(function(Ee,O){return b[O.s]-b[Ee.s]||Ee.f-O.f});r<s;++r){var $=o[r].s;if(b[$]>e)P+=F-(1<<M-b[$]),b[$]=e;else break}for(P>>=U;P>0;){var ee=o[r].s;b[ee]<e?P-=1<<e-b[ee]++-1:++r}for(;r>=0&&P;--r){var te=o[r].s;b[te]==e&&(--b[te],++P)}M=e}return{t:new xo(b),l:M}},r2=function(n,e,t){return n.s==-1?Math.max(r2(n.l,e,t+1),r2(n.r,e,t+1)):e[n.s]=t},Q_=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new Ss(++e),r=0,s=n[0],o=1,u=function(f){t[r++]=f},c=1;c<=e;++c)if(n[c]==s&&c!=e)++o;else{if(!s&&o>2){for(;o>138;o-=138)u(32754);o>2&&(u(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(u(s),--o;o>6;o-=6)u(8304);o>2&&(u(o-3<<5|8208),o=0)}for(;o--;)u(s);o=1,s=n[c]}return{c:t.subarray(0,r),n:e}},$f=function(n,e){for(var t=0,r=0;r<e.length;++r)t+=n[r]*e[r];return t},NA=function(n,e,t){var r=t.length,s=TA(e+2);n[s]=r&255,n[s+1]=r>>8,n[s+2]=n[s]^255,n[s+3]=n[s+1]^255;for(var o=0;o<r;++o)n[s+o+4]=t[o];return(s+4+r)*8},J_=function(n,e,t,r,s,o,u,c,f,d,g){Pl(e,g++,t),++s[256];for(var w=r0(s,15),A=w.t,b=w.l,M=r0(o,15),P=M.t,U=M.l,F=Q_(A),$=F.c,ee=F.n,te=Q_(P),ce=te.c,Ee=te.n,O=new Ss(19),k=0;k<$.length;++k)++O[$[k]&31];for(var k=0;k<ce.length;++k)++O[ce[k]&31];for(var R=r0(O,7),q=R.t,T=R.l,D=19;D>4&&!q[W_[D-1]];--D);var j=d+5<<3,le=$f(s,Cc)+$f(o,Bm)+u,xe=$f(s,A)+$f(o,P)+u+14+3*D+$f(O,q)+2*O[16]+3*O[17]+7*O[18];if(f>=0&&j<=le&&j<=xe)return NA(e,g,n.subarray(f,f+d));var re,me,fe,Ne;if(Pl(e,g,1+(xe<le)),g+=2,xe<le){re=cd(A,b,0),me=A,fe=cd(P,U,0),Ne=P;var Fe=cd(q,T,0);Pl(e,g,ee-257),Pl(e,g+5,Ee-1),Pl(e,g+10,D-4),g+=14;for(var k=0;k<D;++k)Pl(e,g+3*k,q[W_[k]]);g+=3*D;for(var Q=[$,ce],I=0;I<2;++I)for(var K=Q[I],k=0;k<K.length;++k){var J=K[k]&31;Pl(e,g,Fe[J]),g+=q[J],J>15&&(Pl(e,g,K[k]>>5&127),g+=K[k]>>12)}}else re=BO,me=Cc,fe=zO,Ne=Bm;for(var k=0;k<c;++k){var oe=r[k];if(oe>255){var J=oe>>18&31;Gf(e,g,re[J+257]),g+=me[J+257],J>7&&(Pl(e,g,oe>>23&31),g+=yy[J]);var he=oe&31;Gf(e,g,fe[he]),g+=Ne[he],he>3&&(Gf(e,g,oe>>5&8191),g+=vy[he])}else Gf(e,g,re[oe]),g+=me[oe]}return Gf(e,g,re[256]),g+me[256]},HO=new gy([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),CA=new xo(0),GO=function(n,e,t,r,s,o){var u=o.z||n.length,c=new xo(r+u+5*(1+Math.ceil(u/7e3))+s),f=c.subarray(r,c.length-s),d=o.l,g=(o.r||0)&7;if(e){g&&(f[0]=o.r>>3);for(var w=HO[e-1],A=w>>13,b=w&8191,M=(1<<t)-1,P=o.p||new Ss(32768),U=o.h||new Ss(M+1),F=Math.ceil(t/3),$=2*F,ee=function(bt){return(n[bt]^n[bt+1]<<F^n[bt+2]<<$)&M},te=new gy(25e3),ce=new Ss(288),Ee=new Ss(32),O=0,k=0,R=o.i||0,q=0,T=o.w||0,D=0;R+2<u;++R){var j=ee(R),le=R&32767,xe=U[j];if(P[le]=xe,U[j]=le,T<=R){var re=u-R;if((O>7e3||q>24576)&&(re>423||!d)){g=J_(n,f,0,te,ce,Ee,k,q,D,R-D,g),q=O=k=0,D=R;for(var me=0;me<286;++me)ce[me]=0;for(var me=0;me<30;++me)Ee[me]=0}var fe=2,Ne=0,Fe=b,Q=le-xe&32767;if(re>2&&j==ee(R-Q))for(var I=Math.min(A,re)-1,K=Math.min(32767,R),J=Math.min(258,re);Q<=K&&--Fe&&le!=xe;){if(n[R+fe]==n[R+fe-Q]){for(var oe=0;oe<J&&n[R+oe]==n[R+oe-Q];++oe);if(oe>fe){if(fe=oe,Ne=Q,oe>I)break;for(var he=Math.min(Q,oe-2),be=0,me=0;me<he;++me){var Ie=R-Q+me&32767,De=P[Ie],ze=Ie-De&32767;ze>be&&(be=ze,xe=Ie)}}}le=xe,xe=P[le],Q+=le-xe&32767}if(Ne){te[q++]=268435456|t2[fe]<<18|X_[Ne];var tt=t2[fe]&31,it=X_[Ne]&31;k+=yy[tt]+vy[it],++ce[257+tt],++Ee[it],T=R+fe,++O}else te[q++]=n[R],++ce[n[R]]}}for(R=Math.max(R,T);R<u;++R)te[q++]=n[R],++ce[n[R]];g=J_(n,f,d,te,ce,Ee,k,q,D,R-D,g),d||(o.r=g&7|f[g/8|0]<<3,g-=7,o.h=U,o.p=P,o.i=R,o.w=T)}else{for(var R=o.w||0;R<u+d;R+=65535){var lt=R+65535;lt>=u&&(f[g/8|0]=d,lt=u),g=NA(f,g+1,n.subarray(R,lt))}o.i=u}return qO(c,0,r+TA(g)+s)},RA=function(){var n=1,e=0;return{p:function(t){for(var r=n,s=e,o=t.length|0,u=0;u!=o;){for(var c=Math.min(u+2655,o);u<c;++u)s+=r+=t[u];r=(r&65535)+15*(r>>16),s=(s&65535)+15*(s>>16)}n=r,e=s},d:function(){return n%=65521,e%=65521,(n&255)<<24|(n&65280)<<8|(e&255)<<8|e>>8}}},$O=function(n,e,t,r,s){if(!s&&(s={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),u=new xo(o.length+n.length);u.set(o),u.set(n,o.length),n=u,s.w=o.length}return GO(n,e.level==null?6:e.level,e.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+e.mem,t,r,s)},LA=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8},YO=function(n,e){var t=e.level,r=t==0?0:t<6?1:t==9?3:2;if(n[0]=120,n[1]=r<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var s=RA();s.p(e.dictionary),LA(n,2,s.d())}};function i2(n,e){e||(e={});var t=RA();t.p(n);var r=$O(n,e,e.dictionary?6:2,4);return YO(r,e),LA(r,r.length-4,t.d()),r}var KO=typeof TextDecoder<"u"&&new TextDecoder,WO=0;try{KO.decode(CA,{stream:!0}),WO=1}catch{}function XO(n){if(Array.isArray(n))return n}function QO(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,s,o,u,c=[],f=!0,d=!1;try{if(o=(t=t.call(n)).next,e!==0)for(;!(f=(r=o.call(t)).done)&&(c.push(r.value),c.length!==e);f=!0);}catch(g){d=!0,s=g}finally{try{if(!f&&t.return!=null&&(u=t.return(),Object(u)!==u))return}finally{if(d)throw s}}return c}}function Z_(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function JO(n,e){if(n){if(typeof n=="string")return Z_(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Z_(n,e):void 0}}function ZO(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ew(n,e){return XO(n)||QO(n,e)||JO(n,e)||ZO()}function tw(n,e="utf8"){return new TextDecoder(e).decode(n)}const eD=new TextEncoder;function tD(n){return eD.encode(n)}const nD=1024*8,rD=(()=>{const n=new Uint8Array(4),e=new Uint32Array(n.buffer);return!((e[0]=1)&n[0])})(),i0={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class by{constructor(e=nD,t={}){vr(this,"buffer");vr(this,"byteLength");vr(this,"byteOffset");vr(this,"length");vr(this,"offset");vr(this,"lastWrittenByte");vr(this,"littleEndian");vr(this,"_data");vr(this,"_mark");vr(this,"_marks");let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const s=t.offset?t.offset>>>0:0,o=e.byteLength-s;let u=s;(ArrayBuffer.isView(e)||e instanceof by)&&(e.byteLength!==e.buffer.byteLength&&(u=e.byteOffset+s),e=e.buffer),r?this.lastWrittenByte=o:this.lastWrittenByte=0,this.buffer=e,this.length=o,this.byteLength=o,this.byteOffset=u,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,u,o),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,s=new Uint8Array(r);s.set(new Uint8Array(this.buffer)),this.buffer=s.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const r=i0[t].BYTES_PER_ELEMENT*e,s=this.byteOffset+this.offset,o=this.buffer.slice(s,s+r);if(this.littleEndian===rD&&t!=="uint8"&&t!=="int8"){const c=new Uint8Array(this.buffer.slice(s,s+r));c.reverse();const f=new i0[t](c.buffer);return this.offset+=r,f.reverse(),f}const u=new i0[t](o);return this.offset+=r,u}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let r=0;r<e;r++)t+=this.readChar();return t}readUtf8(e=1){return tw(this.readBytes(e))}decodeText(e=1,t="utf8"){return tw(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(tD(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function nf(n){let e=n.length;for(;--e>=0;)n[e]=0}const iD=3,aD=258,IA=29,sD=256,oD=sD+1+IA,kA=30,lD=512,uD=new Array((oD+2)*2);nf(uD);const cD=new Array(kA*2);nf(cD);const hD=new Array(lD);nf(hD);const fD=new Array(aD-iD+1);nf(fD);const dD=new Array(IA);nf(dD);const pD=new Array(kA);nf(pD);const mD=(n,e,t,r)=>{let s=n&65535|0,o=n>>>16&65535|0,u=0;for(;t!==0;){u=t>2e3?2e3:t,t-=u;do s=s+e[r++]|0,o=o+s|0;while(--u);s%=65521,o%=65521}return s|o<<16|0};var a2=mD;const gD=()=>{let n,e=[];for(var t=0;t<256;t++){n=t;for(var r=0;r<8;r++)n=n&1?3988292384^n>>>1:n>>>1;e[t]=n}return e},yD=new Uint32Array(gD()),vD=(n,e,t,r)=>{const s=yD,o=r+t;n^=-1;for(let u=r;u<o;u++)n=n>>>8^s[(n^e[u])&255];return n^-1};var Ko=vD,s2={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},OA={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const bD=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var _D=function(n){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const r in t)bD(t,r)&&(n[r]=t[r])}}return n},wD=n=>{let e=0;for(let r=0,s=n.length;r<s;r++)e+=n[r].length;const t=new Uint8Array(e);for(let r=0,s=0,o=n.length;r<o;r++){let u=n[r];t.set(u,s),s+=u.length}return t},DA={assign:_D,flattenChunks:wD};let PA=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{PA=!1}const Sd=new Uint8Array(256);for(let n=0;n<256;n++)Sd[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;Sd[254]=Sd[254]=1;var ED=n=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(n);let e,t,r,s,o,u=n.length,c=0;for(s=0;s<u;s++)t=n.charCodeAt(s),(t&64512)===55296&&s+1<u&&(r=n.charCodeAt(s+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),s++)),c+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(c),o=0,s=0;o<c;s++)t=n.charCodeAt(s),(t&64512)===55296&&s+1<u&&(r=n.charCodeAt(s+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),s++)),t<128?e[o++]=t:t<2048?(e[o++]=192|t>>>6,e[o++]=128|t&63):t<65536?(e[o++]=224|t>>>12,e[o++]=128|t>>>6&63,e[o++]=128|t&63):(e[o++]=240|t>>>18,e[o++]=128|t>>>12&63,e[o++]=128|t>>>6&63,e[o++]=128|t&63);return e};const AD=(n,e)=>{if(e<65534&&n.subarray&&PA)return String.fromCharCode.apply(null,n.length===e?n:n.subarray(0,e));let t="";for(let r=0;r<e;r++)t+=String.fromCharCode(n[r]);return t};var SD=(n,e)=>{const t=e||n.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(n.subarray(0,e));let r,s;const o=new Array(t*2);for(s=0,r=0;r<t;){let u=n[r++];if(u<128){o[s++]=u;continue}let c=Sd[u];if(c>4){o[s++]=65533,r+=c-1;continue}for(u&=c===2?31:c===3?15:7;c>1&&r<t;)u=u<<6|n[r++]&63,c--;if(c>1){o[s++]=65533;continue}u<65536?o[s++]=u:(u-=65536,o[s++]=55296|u>>10&1023,o[s++]=56320|u&1023)}return AD(o,s)},xD=(n,e)=>{e=e||n.length,e>n.length&&(e=n.length);let t=e-1;for(;t>=0&&(n[t]&192)===128;)t--;return t<0||t===0?e:t+Sd[n[t]]>e?t:e},o2={string2buf:ED,buf2string:SD,utf8border:xD};function TD(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var ND=TD;const Gp=16209,CD=16191;var RD=function(e,t){let r,s,o,u,c,f,d,g,w,A,b,M,P,U,F,$,ee,te,ce,Ee,O,k,R,q;const T=e.state;r=e.next_in,R=e.input,s=r+(e.avail_in-5),o=e.next_out,q=e.output,u=o-(t-e.avail_out),c=o+(e.avail_out-257),f=T.dmax,d=T.wsize,g=T.whave,w=T.wnext,A=T.window,b=T.hold,M=T.bits,P=T.lencode,U=T.distcode,F=(1<<T.lenbits)-1,$=(1<<T.distbits)-1;e:do{M<15&&(b+=R[r++]<<M,M+=8,b+=R[r++]<<M,M+=8),ee=P[b&F];t:for(;;){if(te=ee>>>24,b>>>=te,M-=te,te=ee>>>16&255,te===0)q[o++]=ee&65535;else if(te&16){ce=ee&65535,te&=15,te&&(M<te&&(b+=R[r++]<<M,M+=8),ce+=b&(1<<te)-1,b>>>=te,M-=te),M<15&&(b+=R[r++]<<M,M+=8,b+=R[r++]<<M,M+=8),ee=U[b&$];n:for(;;){if(te=ee>>>24,b>>>=te,M-=te,te=ee>>>16&255,te&16){if(Ee=ee&65535,te&=15,M<te&&(b+=R[r++]<<M,M+=8,M<te&&(b+=R[r++]<<M,M+=8)),Ee+=b&(1<<te)-1,Ee>f){e.msg="invalid distance too far back",T.mode=Gp;break e}if(b>>>=te,M-=te,te=o-u,Ee>te){if(te=Ee-te,te>g&&T.sane){e.msg="invalid distance too far back",T.mode=Gp;break e}if(O=0,k=A,w===0){if(O+=d-te,te<ce){ce-=te;do q[o++]=A[O++];while(--te);O=o-Ee,k=q}}else if(w<te){if(O+=d+w-te,te-=w,te<ce){ce-=te;do q[o++]=A[O++];while(--te);if(O=0,w<ce){te=w,ce-=te;do q[o++]=A[O++];while(--te);O=o-Ee,k=q}}}else if(O+=w-te,te<ce){ce-=te;do q[o++]=A[O++];while(--te);O=o-Ee,k=q}for(;ce>2;)q[o++]=k[O++],q[o++]=k[O++],q[o++]=k[O++],ce-=3;ce&&(q[o++]=k[O++],ce>1&&(q[o++]=k[O++]))}else{O=o-Ee;do q[o++]=q[O++],q[o++]=q[O++],q[o++]=q[O++],ce-=3;while(ce>2);ce&&(q[o++]=q[O++],ce>1&&(q[o++]=q[O++]))}}else if((te&64)===0){ee=U[(ee&65535)+(b&(1<<te)-1)];continue n}else{e.msg="invalid distance code",T.mode=Gp;break e}break}}else if((te&64)===0){ee=P[(ee&65535)+(b&(1<<te)-1)];continue t}else if(te&32){T.mode=CD;break e}else{e.msg="invalid literal/length code",T.mode=Gp;break e}break}}while(r<s&&o<c);ce=M>>3,r-=ce,M-=ce<<3,b&=(1<<M)-1,e.next_in=r,e.next_out=o,e.avail_in=r<s?5+(s-r):5-(r-s),e.avail_out=o<c?257+(c-o):257-(o-c),T.hold=b,T.bits=M};const vh=15,nw=852,rw=592,iw=0,a0=1,aw=2,LD=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),ID=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),kD=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),OD=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),DD=(n,e,t,r,s,o,u,c)=>{const f=c.bits;let d=0,g=0,w=0,A=0,b=0,M=0,P=0,U=0,F=0,$=0,ee,te,ce,Ee,O,k=null,R;const q=new Uint16Array(vh+1),T=new Uint16Array(vh+1);let D=null,j,le,xe;for(d=0;d<=vh;d++)q[d]=0;for(g=0;g<r;g++)q[e[t+g]]++;for(b=f,A=vh;A>=1&&q[A]===0;A--);if(b>A&&(b=A),A===0)return s[o++]=1<<24|64<<16|0,s[o++]=1<<24|64<<16|0,c.bits=1,0;for(w=1;w<A&&q[w]===0;w++);for(b<w&&(b=w),U=1,d=1;d<=vh;d++)if(U<<=1,U-=q[d],U<0)return-1;if(U>0&&(n===iw||A!==1))return-1;for(T[1]=0,d=1;d<vh;d++)T[d+1]=T[d]+q[d];for(g=0;g<r;g++)e[t+g]!==0&&(u[T[e[t+g]]++]=g);if(n===iw?(k=D=u,R=20):n===a0?(k=LD,D=ID,R=257):(k=kD,D=OD,R=0),$=0,g=0,d=w,O=o,M=b,P=0,ce=-1,F=1<<b,Ee=F-1,n===a0&&F>nw||n===aw&&F>rw)return 1;for(;;){j=d-P,u[g]+1<R?(le=0,xe=u[g]):u[g]>=R?(le=D[u[g]-R],xe=k[u[g]-R]):(le=96,xe=0),ee=1<<d-P,te=1<<M,w=te;do te-=ee,s[O+($>>P)+te]=j<<24|le<<16|xe|0;while(te!==0);for(ee=1<<d-1;$&ee;)ee>>=1;if(ee!==0?($&=ee-1,$+=ee):$=0,g++,--q[d]===0){if(d===A)break;d=e[t+u[g]]}if(d>b&&($&Ee)!==ce){for(P===0&&(P=b),O+=w,M=d-P,U=1<<M;M+P<A&&(U-=q[M+P],!(U<=0));)M++,U<<=1;if(F+=1<<M,n===a0&&F>nw||n===aw&&F>rw)return 1;ce=$&Ee,s[ce]=b<<24|M<<16|O-o|0}}return $!==0&&(s[O+$]=d-P<<24|64<<16|0),c.bits=b,0};var hd=DD;const PD=0,MA=1,jA=2,{Z_FINISH:sw,Z_BLOCK:MD,Z_TREES:$p,Z_OK:Rc,Z_STREAM_END:jD,Z_NEED_DICT:UD,Z_STREAM_ERROR:Ws,Z_DATA_ERROR:UA,Z_MEM_ERROR:FA,Z_BUF_ERROR:FD,Z_DEFLATED:ow}=OA,gg=16180,lw=16181,uw=16182,cw=16183,hw=16184,fw=16185,dw=16186,pw=16187,mw=16188,gw=16189,zm=16190,Ml=16191,s0=16192,yw=16193,o0=16194,vw=16195,bw=16196,_w=16197,ww=16198,Yp=16199,Kp=16200,Ew=16201,Aw=16202,Sw=16203,xw=16204,Tw=16205,l0=16206,Nw=16207,Cw=16208,Kr=16209,VA=16210,BA=16211,VD=852,BD=592,zD=15,qD=zD,Rw=n=>(n>>>24&255)+(n>>>8&65280)+((n&65280)<<8)+((n&255)<<24);function HD(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Mc=n=>{if(!n)return 1;const e=n.state;return!e||e.strm!==n||e.mode<gg||e.mode>BA?1:0},zA=n=>{if(Mc(n))return Ws;const e=n.state;return n.total_in=n.total_out=e.total=0,n.msg="",e.wrap&&(n.adler=e.wrap&1),e.mode=gg,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(VD),e.distcode=e.distdyn=new Int32Array(BD),e.sane=1,e.back=-1,Rc},qA=n=>{if(Mc(n))return Ws;const e=n.state;return e.wsize=0,e.whave=0,e.wnext=0,zA(n)},HA=(n,e)=>{let t;if(Mc(n))return Ws;const r=n.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Ws:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=t,r.wbits=e,qA(n))},GA=(n,e)=>{if(!n)return Ws;const t=new HD;n.state=t,t.strm=n,t.window=null,t.mode=gg;const r=HA(n,e);return r!==Rc&&(n.state=null),r},GD=n=>GA(n,qD);let Lw=!0,u0,c0;const $D=n=>{if(Lw){u0=new Int32Array(512),c0=new Int32Array(32);let e=0;for(;e<144;)n.lens[e++]=8;for(;e<256;)n.lens[e++]=9;for(;e<280;)n.lens[e++]=7;for(;e<288;)n.lens[e++]=8;for(hd(MA,n.lens,0,288,u0,0,n.work,{bits:9}),e=0;e<32;)n.lens[e++]=5;hd(jA,n.lens,0,32,c0,0,n.work,{bits:5}),Lw=!1}n.lencode=u0,n.lenbits=9,n.distcode=c0,n.distbits=5},$A=(n,e,t,r)=>{let s;const o=n.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),r>=o.wsize?(o.window.set(e.subarray(t-o.wsize,t),0),o.wnext=0,o.whave=o.wsize):(s=o.wsize-o.wnext,s>r&&(s=r),o.window.set(e.subarray(t-r,t-r+s),o.wnext),r-=s,r?(o.window.set(e.subarray(t-r,t),0),o.wnext=r,o.whave=o.wsize):(o.wnext+=s,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=s))),0},YD=(n,e)=>{let t,r,s,o,u,c,f,d,g,w,A,b,M,P,U=0,F,$,ee,te,ce,Ee,O,k;const R=new Uint8Array(4);let q,T;const D=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Mc(n)||!n.output||!n.input&&n.avail_in!==0)return Ws;t=n.state,t.mode===Ml&&(t.mode=s0),u=n.next_out,s=n.output,f=n.avail_out,o=n.next_in,r=n.input,c=n.avail_in,d=t.hold,g=t.bits,w=c,A=f,k=Rc;e:for(;;)switch(t.mode){case gg:if(t.wrap===0){t.mode=s0;break}for(;g<16;){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}if(t.wrap&2&&d===35615){t.wbits===0&&(t.wbits=15),t.check=0,R[0]=d&255,R[1]=d>>>8&255,t.check=Ko(t.check,R,2,0),d=0,g=0,t.mode=lw;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((d&255)<<8)+(d>>8))%31){n.msg="incorrect header check",t.mode=Kr;break}if((d&15)!==ow){n.msg="unknown compression method",t.mode=Kr;break}if(d>>>=4,g-=4,O=(d&15)+8,t.wbits===0&&(t.wbits=O),O>15||O>t.wbits){n.msg="invalid window size",t.mode=Kr;break}t.dmax=1<<t.wbits,t.flags=0,n.adler=t.check=1,t.mode=d&512?gw:Ml,d=0,g=0;break;case lw:for(;g<16;){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}if(t.flags=d,(t.flags&255)!==ow){n.msg="unknown compression method",t.mode=Kr;break}if(t.flags&57344){n.msg="unknown header flags set",t.mode=Kr;break}t.head&&(t.head.text=d>>8&1),t.flags&512&&t.wrap&4&&(R[0]=d&255,R[1]=d>>>8&255,t.check=Ko(t.check,R,2,0)),d=0,g=0,t.mode=uw;case uw:for(;g<32;){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}t.head&&(t.head.time=d),t.flags&512&&t.wrap&4&&(R[0]=d&255,R[1]=d>>>8&255,R[2]=d>>>16&255,R[3]=d>>>24&255,t.check=Ko(t.check,R,4,0)),d=0,g=0,t.mode=cw;case cw:for(;g<16;){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}t.head&&(t.head.xflags=d&255,t.head.os=d>>8),t.flags&512&&t.wrap&4&&(R[0]=d&255,R[1]=d>>>8&255,t.check=Ko(t.check,R,2,0)),d=0,g=0,t.mode=hw;case hw:if(t.flags&1024){for(;g<16;){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}t.length=d,t.head&&(t.head.extra_len=d),t.flags&512&&t.wrap&4&&(R[0]=d&255,R[1]=d>>>8&255,t.check=Ko(t.check,R,2,0)),d=0,g=0}else t.head&&(t.head.extra=null);t.mode=fw;case fw:if(t.flags&1024&&(b=t.length,b>c&&(b=c),b&&(t.head&&(O=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(r.subarray(o,o+b),O)),t.flags&512&&t.wrap&4&&(t.check=Ko(t.check,r,b,o)),c-=b,o+=b,t.length-=b),t.length))break e;t.length=0,t.mode=dw;case dw:if(t.flags&2048){if(c===0)break e;b=0;do O=r[o+b++],t.head&&O&&t.length<65536&&(t.head.name+=String.fromCharCode(O));while(O&&b<c);if(t.flags&512&&t.wrap&4&&(t.check=Ko(t.check,r,b,o)),c-=b,o+=b,O)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=pw;case pw:if(t.flags&4096){if(c===0)break e;b=0;do O=r[o+b++],t.head&&O&&t.length<65536&&(t.head.comment+=String.fromCharCode(O));while(O&&b<c);if(t.flags&512&&t.wrap&4&&(t.check=Ko(t.check,r,b,o)),c-=b,o+=b,O)break e}else t.head&&(t.head.comment=null);t.mode=mw;case mw:if(t.flags&512){for(;g<16;){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}if(t.wrap&4&&d!==(t.check&65535)){n.msg="header crc mismatch",t.mode=Kr;break}d=0,g=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),n.adler=t.check=0,t.mode=Ml;break;case gw:for(;g<32;){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}n.adler=t.check=Rw(d),d=0,g=0,t.mode=zm;case zm:if(t.havedict===0)return n.next_out=u,n.avail_out=f,n.next_in=o,n.avail_in=c,t.hold=d,t.bits=g,UD;n.adler=t.check=1,t.mode=Ml;case Ml:if(e===MD||e===$p)break e;case s0:if(t.last){d>>>=g&7,g-=g&7,t.mode=l0;break}for(;g<3;){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}switch(t.last=d&1,d>>>=1,g-=1,d&3){case 0:t.mode=yw;break;case 1:if($D(t),t.mode=Yp,e===$p){d>>>=2,g-=2;break e}break;case 2:t.mode=bw;break;case 3:n.msg="invalid block type",t.mode=Kr}d>>>=2,g-=2;break;case yw:for(d>>>=g&7,g-=g&7;g<32;){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}if((d&65535)!==(d>>>16^65535)){n.msg="invalid stored block lengths",t.mode=Kr;break}if(t.length=d&65535,d=0,g=0,t.mode=o0,e===$p)break e;case o0:t.mode=vw;case vw:if(b=t.length,b){if(b>c&&(b=c),b>f&&(b=f),b===0)break e;s.set(r.subarray(o,o+b),u),c-=b,o+=b,f-=b,u+=b,t.length-=b;break}t.mode=Ml;break;case bw:for(;g<14;){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}if(t.nlen=(d&31)+257,d>>>=5,g-=5,t.ndist=(d&31)+1,d>>>=5,g-=5,t.ncode=(d&15)+4,d>>>=4,g-=4,t.nlen>286||t.ndist>30){n.msg="too many length or distance symbols",t.mode=Kr;break}t.have=0,t.mode=_w;case _w:for(;t.have<t.ncode;){for(;g<3;){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}t.lens[D[t.have++]]=d&7,d>>>=3,g-=3}for(;t.have<19;)t.lens[D[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,q={bits:t.lenbits},k=hd(PD,t.lens,0,19,t.lencode,0,t.work,q),t.lenbits=q.bits,k){n.msg="invalid code lengths set",t.mode=Kr;break}t.have=0,t.mode=ww;case ww:for(;t.have<t.nlen+t.ndist;){for(;U=t.lencode[d&(1<<t.lenbits)-1],F=U>>>24,$=U>>>16&255,ee=U&65535,!(F<=g);){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}if(ee<16)d>>>=F,g-=F,t.lens[t.have++]=ee;else{if(ee===16){for(T=F+2;g<T;){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}if(d>>>=F,g-=F,t.have===0){n.msg="invalid bit length repeat",t.mode=Kr;break}O=t.lens[t.have-1],b=3+(d&3),d>>>=2,g-=2}else if(ee===17){for(T=F+3;g<T;){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}d>>>=F,g-=F,O=0,b=3+(d&7),d>>>=3,g-=3}else{for(T=F+7;g<T;){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}d>>>=F,g-=F,O=0,b=11+(d&127),d>>>=7,g-=7}if(t.have+b>t.nlen+t.ndist){n.msg="invalid bit length repeat",t.mode=Kr;break}for(;b--;)t.lens[t.have++]=O}}if(t.mode===Kr)break;if(t.lens[256]===0){n.msg="invalid code -- missing end-of-block",t.mode=Kr;break}if(t.lenbits=9,q={bits:t.lenbits},k=hd(MA,t.lens,0,t.nlen,t.lencode,0,t.work,q),t.lenbits=q.bits,k){n.msg="invalid literal/lengths set",t.mode=Kr;break}if(t.distbits=6,t.distcode=t.distdyn,q={bits:t.distbits},k=hd(jA,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,q),t.distbits=q.bits,k){n.msg="invalid distances set",t.mode=Kr;break}if(t.mode=Yp,e===$p)break e;case Yp:t.mode=Kp;case Kp:if(c>=6&&f>=258){n.next_out=u,n.avail_out=f,n.next_in=o,n.avail_in=c,t.hold=d,t.bits=g,RD(n,A),u=n.next_out,s=n.output,f=n.avail_out,o=n.next_in,r=n.input,c=n.avail_in,d=t.hold,g=t.bits,t.mode===Ml&&(t.back=-1);break}for(t.back=0;U=t.lencode[d&(1<<t.lenbits)-1],F=U>>>24,$=U>>>16&255,ee=U&65535,!(F<=g);){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}if($&&($&240)===0){for(te=F,ce=$,Ee=ee;U=t.lencode[Ee+((d&(1<<te+ce)-1)>>te)],F=U>>>24,$=U>>>16&255,ee=U&65535,!(te+F<=g);){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}d>>>=te,g-=te,t.back+=te}if(d>>>=F,g-=F,t.back+=F,t.length=ee,$===0){t.mode=Tw;break}if($&32){t.back=-1,t.mode=Ml;break}if($&64){n.msg="invalid literal/length code",t.mode=Kr;break}t.extra=$&15,t.mode=Ew;case Ew:if(t.extra){for(T=t.extra;g<T;){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}t.length+=d&(1<<t.extra)-1,d>>>=t.extra,g-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=Aw;case Aw:for(;U=t.distcode[d&(1<<t.distbits)-1],F=U>>>24,$=U>>>16&255,ee=U&65535,!(F<=g);){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}if(($&240)===0){for(te=F,ce=$,Ee=ee;U=t.distcode[Ee+((d&(1<<te+ce)-1)>>te)],F=U>>>24,$=U>>>16&255,ee=U&65535,!(te+F<=g);){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}d>>>=te,g-=te,t.back+=te}if(d>>>=F,g-=F,t.back+=F,$&64){n.msg="invalid distance code",t.mode=Kr;break}t.offset=ee,t.extra=$&15,t.mode=Sw;case Sw:if(t.extra){for(T=t.extra;g<T;){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}t.offset+=d&(1<<t.extra)-1,d>>>=t.extra,g-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){n.msg="invalid distance too far back",t.mode=Kr;break}t.mode=xw;case xw:if(f===0)break e;if(b=A-f,t.offset>b){if(b=t.offset-b,b>t.whave&&t.sane){n.msg="invalid distance too far back",t.mode=Kr;break}b>t.wnext?(b-=t.wnext,M=t.wsize-b):M=t.wnext-b,b>t.length&&(b=t.length),P=t.window}else P=s,M=u-t.offset,b=t.length;b>f&&(b=f),f-=b,t.length-=b;do s[u++]=P[M++];while(--b);t.length===0&&(t.mode=Kp);break;case Tw:if(f===0)break e;s[u++]=t.length,f--,t.mode=Kp;break;case l0:if(t.wrap){for(;g<32;){if(c===0)break e;c--,d|=r[o++]<<g,g+=8}if(A-=f,n.total_out+=A,t.total+=A,t.wrap&4&&A&&(n.adler=t.check=t.flags?Ko(t.check,s,A,u-A):a2(t.check,s,A,u-A)),A=f,t.wrap&4&&(t.flags?d:Rw(d))!==t.check){n.msg="incorrect data check",t.mode=Kr;break}d=0,g=0}t.mode=Nw;case Nw:if(t.wrap&&t.flags){for(;g<32;){if(c===0)break e;c--,d+=r[o++]<<g,g+=8}if(t.wrap&4&&d!==(t.total&4294967295)){n.msg="incorrect length check",t.mode=Kr;break}d=0,g=0}t.mode=Cw;case Cw:k=jD;break e;case Kr:k=UA;break e;case VA:return FA;case BA:default:return Ws}return n.next_out=u,n.avail_out=f,n.next_in=o,n.avail_in=c,t.hold=d,t.bits=g,(t.wsize||A!==n.avail_out&&t.mode<Kr&&(t.mode<l0||e!==sw))&&$A(n,n.output,n.next_out,A-n.avail_out),w-=n.avail_in,A-=n.avail_out,n.total_in+=w,n.total_out+=A,t.total+=A,t.wrap&4&&A&&(n.adler=t.check=t.flags?Ko(t.check,s,A,n.next_out-A):a2(t.check,s,A,n.next_out-A)),n.data_type=t.bits+(t.last?64:0)+(t.mode===Ml?128:0)+(t.mode===Yp||t.mode===o0?256:0),(w===0&&A===0||e===sw)&&k===Rc&&(k=FD),k},KD=n=>{if(Mc(n))return Ws;let e=n.state;return e.window&&(e.window=null),n.state=null,Rc},WD=(n,e)=>{if(Mc(n))return Ws;const t=n.state;return(t.wrap&2)===0?Ws:(t.head=e,e.done=!1,Rc)},XD=(n,e)=>{const t=e.length;let r,s,o;return Mc(n)||(r=n.state,r.wrap!==0&&r.mode!==zm)?Ws:r.mode===zm&&(s=1,s=a2(s,e,t,0),s!==r.check)?UA:(o=$A(n,e,t,t),o?(r.mode=VA,FA):(r.havedict=1,Rc))};var QD=qA,JD=HA,ZD=zA,e9=GD,t9=GA,n9=YD,r9=KD,i9=WD,a9=XD,s9="pako inflate (from Nodeca project)",Ul={inflateReset:QD,inflateReset2:JD,inflateResetKeep:ZD,inflateInit:e9,inflateInit2:t9,inflate:n9,inflateEnd:r9,inflateGetHeader:i9,inflateSetDictionary:a9,inflateInfo:s9};function o9(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var l9=o9;const YA=Object.prototype.toString,{Z_NO_FLUSH:u9,Z_FINISH:c9,Z_OK:xd,Z_STREAM_END:h0,Z_NEED_DICT:f0,Z_STREAM_ERROR:h9,Z_DATA_ERROR:Iw,Z_MEM_ERROR:f9}=OA;function qd(n){this.options=DA.assign({chunkSize:1024*64,windowBits:15,to:""},n||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(n&&n.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ND,this.strm.avail_out=0;let t=Ul.inflateInit2(this.strm,e.windowBits);if(t!==xd)throw new Error(s2[t]);if(this.header=new l9,Ul.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=o2.string2buf(e.dictionary):YA.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=Ul.inflateSetDictionary(this.strm,e.dictionary),t!==xd)))throw new Error(s2[t])}qd.prototype.push=function(n,e){const t=this.strm,r=this.options.chunkSize,s=this.options.dictionary;let o,u,c;if(this.ended)return!1;for(e===~~e?u=e:u=e===!0?c9:u9,YA.call(n)==="[object ArrayBuffer]"?t.input=new Uint8Array(n):t.input=n,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(r),t.next_out=0,t.avail_out=r),o=Ul.inflate(t,u),o===f0&&s&&(o=Ul.inflateSetDictionary(t,s),o===xd?o=Ul.inflate(t,u):o===Iw&&(o=f0));t.avail_in>0&&o===h0&&t.state.wrap>0&&n[t.next_in]!==0;)Ul.inflateReset(t),o=Ul.inflate(t,u);switch(o){case h9:case Iw:case f0:case f9:return this.onEnd(o),this.ended=!0,!1}if(c=t.avail_out,t.next_out&&(t.avail_out===0||o===h0))if(this.options.to==="string"){let f=o2.utf8border(t.output,t.next_out),d=t.next_out-f,g=o2.buf2string(t.output,f);t.next_out=d,t.avail_out=r-d,d&&t.output.set(t.output.subarray(f,f+d),0),this.onData(g)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(o===xd&&c===0)){if(o===h0)return o=Ul.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};qd.prototype.onData=function(n){this.chunks.push(n)};qd.prototype.onEnd=function(n){n===xd&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=DA.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function d9(n,e){const t=new qd(e);if(t.push(n),t.err)throw t.msg||s2[t.err];return t.result}var p9=qd,m9=d9,g9={Inflate:p9,inflate:m9};const{Inflate:y9,inflate:v9}=g9;var kw=y9,b9=v9;const KA=[];for(let n=0;n<256;n++){let e=n;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;KA[n]=e}const Ow=4294967295;function _9(n,e,t){let r=n;for(let s=0;s<t;s++)r=KA[(r^e[s])&255]^r>>>8;return r}function w9(n,e){return(_9(Ow,n,e)^Ow)>>>0}function Dw(n,e,t){const r=n.readUint32(),s=w9(new Uint8Array(n.buffer,n.byteOffset+n.offset-e-4,e),e);if(s!==r)throw new Error(`CRC mismatch for chunk ${t}. Expected ${r}, found ${s}`)}function WA(n,e,t){for(let r=0;r<t;r++)e[r]=n[r]}function XA(n,e,t,r){let s=0;for(;s<r;s++)e[s]=n[s];for(;s<t;s++)e[s]=n[s]+e[s-r]&255}function QA(n,e,t,r){let s=0;if(t.length===0)for(;s<r;s++)e[s]=n[s];else for(;s<r;s++)e[s]=n[s]+t[s]&255}function JA(n,e,t,r,s){let o=0;if(t.length===0){for(;o<s;o++)e[o]=n[o];for(;o<r;o++)e[o]=n[o]+(e[o-s]>>1)&255}else{for(;o<s;o++)e[o]=n[o]+(t[o]>>1)&255;for(;o<r;o++)e[o]=n[o]+(e[o-s]+t[o]>>1)&255}}function ZA(n,e,t,r,s){let o=0;if(t.length===0){for(;o<s;o++)e[o]=n[o];for(;o<r;o++)e[o]=n[o]+e[o-s]&255}else{for(;o<s;o++)e[o]=n[o]+t[o]&255;for(;o<r;o++)e[o]=n[o]+E9(e[o-s],t[o],t[o-s])&255}}function E9(n,e,t){const r=n+e-t,s=Math.abs(r-n),o=Math.abs(r-e),u=Math.abs(r-t);return s<=o&&s<=u?n:o<=u?e:t}function A9(n,e,t,r,s,o){switch(n){case 0:WA(e,t,s);break;case 1:XA(e,t,s,o);break;case 2:QA(e,t,r,s);break;case 3:JA(e,t,r,s,o);break;case 4:ZA(e,t,r,s,o);break;default:throw new Error(`Unsupported filter: ${n}`)}}const S9=new Uint16Array([255]),x9=new Uint8Array(S9.buffer),T9=x9[0]===255;function N9(n){const{data:e,width:t,height:r,channels:s,depth:o}=n,u=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],c=Math.ceil(o/8)*s,f=new Uint8Array(r*t*c);let d=0;for(let g=0;g<7;g++){const w=u[g],A=Math.ceil((t-w.x)/w.xStep),b=Math.ceil((r-w.y)/w.yStep);if(A<=0||b<=0)continue;const M=A*c,P=new Uint8Array(M);for(let U=0;U<b;U++){const F=e[d++],$=e.subarray(d,d+M);d+=M;const ee=new Uint8Array(M);A9(F,$,ee,P,M,c),P.set(ee);for(let te=0;te<A;te++){const ce=w.x+te*w.xStep,Ee=w.y+U*w.yStep;if(!(ce>=t||Ee>=r))for(let O=0;O<c;O++)f[(Ee*t+ce)*c+O]=ee[te*c+O]}}}if(o===16){const g=new Uint16Array(f.buffer);if(T9)for(let w=0;w<g.length;w++)g[w]=C9(g[w]);return g}else return f}function C9(n){return(n&255)<<8|n>>8&255}const R9=new Uint16Array([255]),L9=new Uint8Array(R9.buffer),I9=L9[0]===255,k9=new Uint8Array(0);function Pw(n){const{data:e,width:t,height:r,channels:s,depth:o}=n,u=Math.ceil(o/8)*s,c=Math.ceil(o/8*s*t),f=new Uint8Array(r*c);let d=k9,g=0,w,A;for(let b=0;b<r;b++){switch(w=e.subarray(g+1,g+1+c),A=f.subarray(b*c,(b+1)*c),e[g]){case 0:WA(w,A,c);break;case 1:XA(w,A,c,u);break;case 2:QA(w,A,d,c);break;case 3:JA(w,A,d,c,u);break;case 4:ZA(w,A,d,c,u);break;default:throw new Error(`Unsupported filter: ${e[g]}`)}d=A,g+=c+1}if(o===16){const b=new Uint16Array(f.buffer);if(I9)for(let M=0;M<b.length;M++)b[M]=O9(b[M]);return b}else return f}function O9(n){return(n&255)<<8|n>>8&255}const pm=Uint8Array.of(137,80,78,71,13,10,26,10);function Mw(n){if(!D9(n.readBytes(pm.length)))throw new Error("wrong PNG signature")}function D9(n){if(n.length<pm.length)return!1;for(let e=0;e<pm.length;e++)if(n[e]!==pm[e])return!1;return!0}const P9="tEXt",M9=0,eS=new TextDecoder("latin1");function j9(n){if(F9(n),n.length===0||n.length>79)throw new Error("keyword length must be between 1 and 79")}const U9=/^[\u0000-\u00FF]*$/;function F9(n){if(!U9.test(n))throw new Error("invalid latin1 text")}function V9(n,e,t){const r=tS(e);n[r]=B9(e,t-r.length-1)}function tS(n){for(n.mark();n.readByte()!==M9;);const e=n.offset;n.reset();const t=eS.decode(n.readBytes(e-n.offset-1));return n.skip(1),j9(t),t}function B9(n,e){return eS.decode(n.readBytes(e))}const Es={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},d0={UNKNOWN:-1,DEFLATE:0},jw={UNKNOWN:-1,ADAPTIVE:0},p0={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Wp={NONE:0,BACKGROUND:1,PREVIOUS:2},m0={SOURCE:0,OVER:1};class z9 extends by{constructor(t,r={}){super(t);vr(this,"_checkCrc");vr(this,"_inflator");vr(this,"_png");vr(this,"_apng");vr(this,"_end");vr(this,"_hasPalette");vr(this,"_palette");vr(this,"_hasTransparency");vr(this,"_transparency");vr(this,"_compressionMethod");vr(this,"_filterMethod");vr(this,"_interlaceMethod");vr(this,"_colorType");vr(this,"_isAnimated");vr(this,"_numberOfFrames");vr(this,"_numberOfPlays");vr(this,"_frames");vr(this,"_writingDataChunks");const{checkCrc:s=!1}=r;this._checkCrc=s,this._inflator=new kw,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=d0.UNKNOWN,this._filterMethod=jw.UNKNOWN,this._interlaceMethod=p0.UNKNOWN,this._colorType=Es.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(Mw(this);!this._end;){const t=this.readUint32(),r=this.readChars(4);this.decodeChunk(t,r)}return this.decodeImage(),this._png}decodeApng(){for(Mw(this);!this._end;){const t=this.readUint32(),r=this.readChars(4);this.decodeApngChunk(t,r)}return this.decodeApngImage(),this._apng}decodeChunk(t,r){const s=this.offset;switch(r){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"iCCP":this.decodeiCCP(t);break;case P9:V9(this._png.text,this,t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t);break}if(this.offset-s!==t)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?Dw(this,t+4,r):this.skip(4)}decodeApngChunk(t,r){const s=this.offset;switch(r!=="fdAT"&&r!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),r){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(t);break;default:this.decodeChunk(t,r),this.offset=s+t;break}if(this.offset-s!==t)throw new Error(`Length mismatch while decoding chunk ${r}`);this._checkCrc?Dw(this,t+4,r):this.skip(4)}decodeIHDR(){const t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=q9(this.readUint8());const r=this.readUint8();this._colorType=r;let s;switch(r){case Es.GREYSCALE:s=1;break;case Es.TRUECOLOUR:s=3;break;case Es.INDEXED_COLOUR:s=1;break;case Es.GREYSCALE_ALPHA:s=2;break;case Es.TRUECOLOUR_ALPHA:s=4;break;case Es.UNKNOWN:default:throw new Error(`Unknown color type: ${r}`)}if(this._png.channels=s,this._compressionMethod=this.readUint8(),this._compressionMethod!==d0.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const t={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(t)}decodePLTE(t){if(t%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${t}`);const r=t/3;this._hasPalette=!0;const s=[];this._palette=s;for(let o=0;o<r;o++)s.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(t){this._writingDataChunks=!0;const r=t,s=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,s,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodeFDAT(t){this._writingDataChunks=!0;let r=t,s=this.offset+this.byteOffset;if(s+=4,r-=4,this._inflator.push(new Uint8Array(this.buffer,s,r)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodetRNS(t){switch(this._colorType){case Es.GREYSCALE:case Es.TRUECOLOUR:{if(t%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${t}`);if(t/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${t/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(t/2);for(let r=0;r<t/2;r++)this._transparency[r]=this.readUint16();break}case Es.INDEXED_COLOUR:{if(t>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${t} vs ${this._palette.length})`);let r=0;for(;r<t;r++){const s=this.readByte();this._palette[r].push(s)}for(;r<this._palette.length;r++)this._palette[r].push(255);break}case Es.UNKNOWN:case Es.GREYSCALE_ALPHA:case Es.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(t){const r=tS(this),s=this.readUint8();if(s!==d0.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${s}`);const o=this.readBytes(t-r.length-2);this._png.iccEmbeddedProfile={name:r,profile:b9(o)}}decodepHYs(){const t=this.readUint32(),r=this.readUint32(),s=this.readByte();this._png.resolution={x:t,y:r,unit:s}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let t=0;t<this._numberOfFrames;t++){const r={sequenceNumber:this._frames[t].sequenceNumber,delayNumber:this._frames[t].delayNumber,delayDenominator:this._frames[t].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},s=this._frames.at(t);if(s){if(s.data=Pw({data:s.data,width:s.width,height:s.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),t===0||s.xOffset===0&&s.yOffset===0&&s.width===this._png.width&&s.height===this._png.height)r.data=s.data;else{const o=this._apng.frames.at(t-1);this.disposeFrame(s,o,r),this.addFrameDataToCanvas(r,s)}this._apng.frames.push(r)}}return this._apng}disposeFrame(t,r,s){switch(t.disposeOp){case Wp.NONE:break;case Wp.BACKGROUND:for(let o=0;o<this._png.height;o++)for(let u=0;u<this._png.width;u++){const c=(o*t.width+u)*this._png.channels;for(let f=0;f<this._png.channels;f++)s.data[c+f]=0}break;case Wp.PREVIOUS:s.data.set(r.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(t,r){const s=1<<this._png.depth,o=(u,c)=>{const f=((u+r.yOffset)*this._png.width+r.xOffset+c)*this._png.channels,d=(u*r.width+c)*this._png.channels;return{index:f,frameIndex:d}};switch(r.blendOp){case m0.SOURCE:for(let u=0;u<r.height;u++)for(let c=0;c<r.width;c++){const{index:f,frameIndex:d}=o(u,c);for(let g=0;g<this._png.channels;g++)t.data[f+g]=r.data[d+g]}break;case m0.OVER:for(let u=0;u<r.height;u++)for(let c=0;c<r.width;c++){const{index:f,frameIndex:d}=o(u,c);for(let g=0;g<this._png.channels;g++){const w=r.data[d+this._png.channels-1]/s,A=g%(this._png.channels-1)===0?1:r.data[d+g],b=Math.floor(w*A+(1-w)*t.data[f+g]);t.data[f+g]+=b}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var r;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const t=this._isAnimated?((r=this._frames)==null?void 0:r.at(0)).data:this._inflator.result;if(this._filterMethod!==jw.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===p0.NO_INTERLACE)this._png.data=Pw({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===p0.ADAM7)this._png.data=N9({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const t=this._inflator.result,r=this._frames.at(-1);r?r.data=t:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Wp.NONE,blendOp:m0.SOURCE,data:t}),this._inflator=new kw,this._writingDataChunks=!1}}function q9(n){if(n!==1&&n!==2&&n!==4&&n!==8&&n!==16)throw new Error(`invalid bit depth: ${n}`);return n}var Uw;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.METRE=1]="METRE"})(Uw||(Uw={}));function H9(n,e){return new z9(n,e).decode()}var pn=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function g0(){pn.console&&typeof pn.console.log=="function"&&pn.console.log.apply(pn.console,arguments)}var Or={log:g0,warn:function(n){pn.console&&(typeof pn.console.warn=="function"?pn.console.warn.apply(pn.console,arguments):g0.call(null,arguments))},error:function(n){pn.console&&(typeof pn.console.error=="function"?pn.console.error.apply(pn.console,arguments):g0(n))}};function y0(n,e,t){var r=new XMLHttpRequest;r.open("GET",n),r.responseType="blob",r.onload=function(){pc(r.response,e,t)},r.onerror=function(){Or.error("could not download file")},r.send()}function Fw(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Xp(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var pc=pn.saveAs||((typeof window>"u"?"undefined":_r(window))!=="object"||window!==pn?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var r=pn.URL||pn.webkitURL,s=document.createElement("a");e=e||n.name||"download",s.download=e,s.rel="noopener",typeof n=="string"?(s.href=n,s.origin!==location.origin?Fw(s.href)?y0(n,e,t):Xp(s,s.target="_blank"):Xp(s)):(s.href=r.createObjectURL(n),setTimeout(function(){r.revokeObjectURL(s.href)},4e4),setTimeout(function(){Xp(s)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download",typeof n=="string")if(Fw(n))y0(n,e,t);else{var r=document.createElement("a");r.href=n,r.target="_blank",setTimeout(function(){Xp(r)})}else navigator.msSaveOrOpenBlob((function(s,o){return o===void 0?o={autoBom:!1}:_r(o)!=="object"&&(Or.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s})(n,t),e)}:function(n,e,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof n=="string")return y0(n,e,t);var s=n.type==="application/octet-stream",o=/constructor/i.test(pn.HTMLElement)||pn.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent);if((u||s&&o)&&(typeof FileReader>"u"?"undefined":_r(FileReader))==="object"){var c=new FileReader;c.onloadend=function(){var g=c.result;g=u?g:g.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=g:location=g,r=null},c.readAsDataURL(n)}else{var f=pn.URL||pn.webkitURL,d=f.createObjectURL(n);r?r.location=d:location.href=d,r=null,setTimeout(function(){f.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function nS(n){var e;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(c){return[parseInt(c[1]),parseInt(c[2]),parseInt(c[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(c){return[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(c){return[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]}}],r=0;r<t.length;r++){var s=t[r].re,o=t[r].process,u=s.exec(n);u&&(e=o(u),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var c=this.r.toString(16),f=this.g.toString(16),d=this.b.toString(16);return c.length==1&&(c="0"+c),f.length==1&&(f="0"+f),d.length==1&&(d="0"+d),"#"+c+f+d}}var mm=pn.atob.bind(pn),Vw=pn.btoa.bind(pn);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function v0(n,e){var t=n[0],r=n[1],s=n[2],o=n[3];t=Aa(t,r,s,o,e[0],7,-680876936),o=Aa(o,t,r,s,e[1],12,-389564586),s=Aa(s,o,t,r,e[2],17,606105819),r=Aa(r,s,o,t,e[3],22,-1044525330),t=Aa(t,r,s,o,e[4],7,-176418897),o=Aa(o,t,r,s,e[5],12,1200080426),s=Aa(s,o,t,r,e[6],17,-1473231341),r=Aa(r,s,o,t,e[7],22,-45705983),t=Aa(t,r,s,o,e[8],7,1770035416),o=Aa(o,t,r,s,e[9],12,-1958414417),s=Aa(s,o,t,r,e[10],17,-42063),r=Aa(r,s,o,t,e[11],22,-1990404162),t=Aa(t,r,s,o,e[12],7,1804603682),o=Aa(o,t,r,s,e[13],12,-40341101),s=Aa(s,o,t,r,e[14],17,-1502002290),t=Sa(t,r=Aa(r,s,o,t,e[15],22,1236535329),s,o,e[1],5,-165796510),o=Sa(o,t,r,s,e[6],9,-1069501632),s=Sa(s,o,t,r,e[11],14,643717713),r=Sa(r,s,o,t,e[0],20,-373897302),t=Sa(t,r,s,o,e[5],5,-701558691),o=Sa(o,t,r,s,e[10],9,38016083),s=Sa(s,o,t,r,e[15],14,-660478335),r=Sa(r,s,o,t,e[4],20,-405537848),t=Sa(t,r,s,o,e[9],5,568446438),o=Sa(o,t,r,s,e[14],9,-1019803690),s=Sa(s,o,t,r,e[3],14,-187363961),r=Sa(r,s,o,t,e[8],20,1163531501),t=Sa(t,r,s,o,e[13],5,-1444681467),o=Sa(o,t,r,s,e[2],9,-51403784),s=Sa(s,o,t,r,e[7],14,1735328473),t=xa(t,r=Sa(r,s,o,t,e[12],20,-1926607734),s,o,e[5],4,-378558),o=xa(o,t,r,s,e[8],11,-2022574463),s=xa(s,o,t,r,e[11],16,1839030562),r=xa(r,s,o,t,e[14],23,-35309556),t=xa(t,r,s,o,e[1],4,-1530992060),o=xa(o,t,r,s,e[4],11,1272893353),s=xa(s,o,t,r,e[7],16,-155497632),r=xa(r,s,o,t,e[10],23,-1094730640),t=xa(t,r,s,o,e[13],4,681279174),o=xa(o,t,r,s,e[0],11,-358537222),s=xa(s,o,t,r,e[3],16,-722521979),r=xa(r,s,o,t,e[6],23,76029189),t=xa(t,r,s,o,e[9],4,-640364487),o=xa(o,t,r,s,e[12],11,-421815835),s=xa(s,o,t,r,e[15],16,530742520),t=Ta(t,r=xa(r,s,o,t,e[2],23,-995338651),s,o,e[0],6,-198630844),o=Ta(o,t,r,s,e[7],10,1126891415),s=Ta(s,o,t,r,e[14],15,-1416354905),r=Ta(r,s,o,t,e[5],21,-57434055),t=Ta(t,r,s,o,e[12],6,1700485571),o=Ta(o,t,r,s,e[3],10,-1894986606),s=Ta(s,o,t,r,e[10],15,-1051523),r=Ta(r,s,o,t,e[1],21,-2054922799),t=Ta(t,r,s,o,e[8],6,1873313359),o=Ta(o,t,r,s,e[15],10,-30611744),s=Ta(s,o,t,r,e[6],15,-1560198380),r=Ta(r,s,o,t,e[13],21,1309151649),t=Ta(t,r,s,o,e[4],6,-145523070),o=Ta(o,t,r,s,e[11],10,-1120210379),s=Ta(s,o,t,r,e[2],15,718787259),r=Ta(r,s,o,t,e[9],21,-343485551),n[0]=Ou(t,n[0]),n[1]=Ou(r,n[1]),n[2]=Ou(s,n[2]),n[3]=Ou(o,n[3])}function yg(n,e,t,r,s,o){return e=Ou(Ou(e,n),Ou(r,o)),Ou(e<<s|e>>>32-s,t)}function Aa(n,e,t,r,s,o,u){return yg(e&t|~e&r,n,e,s,o,u)}function Sa(n,e,t,r,s,o,u){return yg(e&r|t&~r,n,e,s,o,u)}function xa(n,e,t,r,s,o,u){return yg(e^t^r,n,e,s,o,u)}function Ta(n,e,t,r,s,o,u){return yg(t^(e|~r),n,e,s,o,u)}function rS(n){var e,t=n.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)v0(r,G9(n.substring(e-64,e)));n=n.substring(e-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)s[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(s[e>>2]|=128<<(e%4<<3),e>55)for(v0(r,s),e=0;e<16;e++)s[e]=0;return s[14]=8*t,v0(r,s),r}function G9(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}var Bw="0123456789abcdef".split("");function $9(n){for(var e="",t=0;t<4;t++)e+=Bw[n>>8*t+4&15]+Bw[n>>8*t&15];return e}function Y9(n){return String.fromCharCode(255&n,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function l2(n){return rS(n).map(Y9).join("")}var K9=(function(n){for(var e=0;e<n.length;e++)n[e]=$9(n[e]);return n.join("")})(rS("hello"))!="5d41402abc4b2a76b9719d911017c592";function Ou(n,e){if(K9){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function u2(n,e){var t,r,s,o;if(n!==t){for(var u=(s=n,o=1+(256/n.length|0),new Array(o+1).join(s)),c=[],f=0;f<256;f++)c[f]=f;var d=0;for(f=0;f<256;f++){var g=c[f];d=(d+g+u.charCodeAt(f))%256,c[f]=c[d],c[d]=g}t=n,r=c}else c=r;var w=e.length,A=0,b=0,M="";for(f=0;f<w;f++)b=(b+(g=c[A=(A+1)%256]))%256,c[A]=c[b],c[b]=g,u=c[(c[A]+c[b])%256],M+=String.fromCharCode(e.charCodeAt(f)^u);return M}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var zw={print:4,modify:8,copy:16,"annot-forms":32};function Th(n,e,t,r){this.v=1,this.r=2;var s=192;n.forEach(function(c){if(zw.perm!==void 0)throw new Error("Invalid permission: "+c);s+=zw[c]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(e+this.padding).substr(0,32),u=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,u),this.P=-(1+(255^s)),this.encryptionKey=l2(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=u2(this.encryptionKey,this.padding)}function Nh(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,r=0;r<t;r++){var s=n.charCodeAt(r);e+=s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?"#"+("0"+s.toString(16)).slice(-2):n[r]}return e}function qw(n){if(_r(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,r,s){if(s=s||!1,typeof t!="string"||typeof r!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var o=Math.random().toString(35);return e[t][o]=[r,!!s],o},this.unsubscribe=function(t){for(var r in e)if(e[r][t])return delete e[r][t],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),s=[];for(var o in e[t]){var u=e[t][o];try{u[0].apply(n,r)}catch(c){pn.console&&Or.error("jsPDF PubSub Error",c.message,c)}u[1]&&s.push(o)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function qm(n){if(!(this instanceof qm))return new qm(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function iS(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function mc(n,e,t,r,s){if(!(this instanceof mc))return new mc(n,e,t,r,s);this.type=n==="axial"?2:3,this.coords=e,this.colors=t,iS.call(this,r,s)}function Rh(n,e,t,r,s){if(!(this instanceof Rh))return new Rh(n,e,t,r,s);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,iS.call(this,r,s)}function zt(n){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],s=arguments[2],o=arguments[3],u=[],c=1,f=16,d="S",g=null;_r(n=n||{})==="object"&&(t=n.orientation,r=n.unit||r,s=n.format||s,o=n.compress||n.compressPdf||o,(g=n.encryption||null)!==null&&(g.userPassword=g.userPassword||"",g.ownerPassword=g.ownerPassword||"",g.userPermissions=g.userPermissions||[]),c=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(e=n.precision),n.floatPrecision!==void 0&&(f=n.floatPrecision),d=n.defaultPathOperation||"S"),u=n.filters||(o===!0?["FlateEncode"]:u),r=r||"mm",t=(""+(t||"P")).toLowerCase();var w=n.putOnlyUsedFonts||!1,A={},b={internal:{},__private__:{}};b.__private__.PubSub=qw;var M="1.3",P=b.__private__.getPdfVersion=function(){return M};b.__private__.setPdfVersion=function(E){M=E};var U={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};b.__private__.getPageFormats=function(){return U};var F=b.__private__.getPageFormat=function(E){return U[E]};s=s||"a4";var $="compat",ee="advanced",te=$;function ce(){this.saveGraphicsState(),ne(new Dt(an,0,0,-an,0,ja()*an).toString()+" cm"),this.setFontSize(this.getFontSize()/an),d="n",te=ee}function Ee(){this.restoreGraphicsState(),d="S",te=$}var O=b.__private__.combineFontStyleAndFontWeight=function(E,V){if(E=="bold"&&V=="normal"||E=="bold"&&V==400||E=="normal"&&V=="italic"||E=="bold"&&V=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return V&&(E=V==400||V==="normal"?E==="italic"?"italic":"normal":V!=700&&V!=="bold"||E!=="normal"?(V==700?"bold":V)+""+E:"bold"),E};b.advancedAPI=function(E){var V=te===$;return V&&ce.call(this),typeof E!="function"||(E(this),V&&Ee.call(this)),this},b.compatAPI=function(E){var V=te===ee;return V&&Ee.call(this),typeof E!="function"||(E(this),V&&ce.call(this)),this},b.isAdvancedAPI=function(){return te===ee};var k,R=function(E){if(te!==ee)throw new Error(E+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},q=b.roundToPrecision=b.__private__.roundToPrecision=function(E,V){var ae=e||V;if(isNaN(E)||isNaN(ae))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return E.toFixed(ae).replace(/0+$/,"")};k=b.hpf=b.__private__.hpf=typeof f=="number"?function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.hpf");return q(E,f)}:f==="smart"?function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.hpf");return q(E,E>-1&&E<1?16:5)}:function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.hpf");return q(E,16)};var T=b.f2=b.__private__.f2=function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.f2");return q(E,2)},D=b.__private__.f3=function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.f3");return q(E,3)},j=b.scale=b.__private__.scale=function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.scale");return te===$?E*an:te===ee?E:void 0},le=function(E){return j((function(V){return te===$?ja()-V:te===ee?V:void 0})(E))};b.__private__.setPrecision=b.setPrecision=function(E){typeof parseInt(E,10)=="number"&&(e=parseInt(E,10))};var xe,re="00000000000000000000000000000000",me=b.__private__.getFileId=function(){return re},fe=b.__private__.setFileId=function(E){return re=E!==void 0&&/^[a-fA-F0-9]{32}$/.test(E)?E.toUpperCase():re.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),g!==null&&(Rr=new Th(g.userPermissions,g.userPassword,g.ownerPassword,re)),re};b.setFileId=function(E){return fe(E),this},b.getFileId=function(){return me()};var Ne=b.__private__.convertDateToPDFDate=function(E){var V=E.getTimezoneOffset(),ae=V<0?"+":"-",ge=Math.floor(Math.abs(V/60)),Ae=Math.abs(V%60),He=[ae,J(ge),"'",J(Ae),"'"].join("");return["D:",E.getFullYear(),J(E.getMonth()+1),J(E.getDate()),J(E.getHours()),J(E.getMinutes()),J(E.getSeconds()),He].join("")},Fe=b.__private__.convertPDFDateToDate=function(E){var V=parseInt(E.substr(2,4),10),ae=parseInt(E.substr(6,2),10)-1,ge=parseInt(E.substr(8,2),10),Ae=parseInt(E.substr(10,2),10),He=parseInt(E.substr(12,2),10),Qe=parseInt(E.substr(14,2),10);return new Date(V,ae,ge,Ae,He,Qe,0)},Q=b.__private__.setCreationDate=function(E){var V;if(E===void 0&&(E=new Date),E instanceof Date)V=Ne(E);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(E))throw new Error("Invalid argument passed to jsPDF.setCreationDate");V=E}return xe=V},I=b.__private__.getCreationDate=function(E){var V=xe;return E==="jsDate"&&(V=Fe(xe)),V};b.setCreationDate=function(E){return Q(E),this},b.getCreationDate=function(E){return I(E)};var K,J=b.__private__.padd2=function(E){return("0"+parseInt(E)).slice(-2)},oe=b.__private__.padd2Hex=function(E){return("00"+(E=E.toString())).substr(E.length)},he=0,be=[],Ie=[],De=0,ze=[],tt=[],it=!1,lt=Ie;b.__private__.setCustomOutputDestination=function(E){it=!0,lt=E};var bt=function(E){it||(lt=E)};b.__private__.resetCustomOutputDestination=function(){it=!1,lt=Ie};var ne=b.__private__.out=function(E){return E=E.toString(),De+=E.length+1,lt.push(E),lt},ot=b.__private__.write=function(E){return ne(arguments.length===1?E.toString():Array.prototype.join.call(arguments," "))},un=b.__private__.getArrayBuffer=function(E){for(var V=E.length,ae=new ArrayBuffer(V),ge=new Uint8Array(ae);V--;)ge[V]=E.charCodeAt(V);return ae},Ut=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];b.__private__.getStandardFonts=function(){return Ut};var $e=n.fontSize||16;b.__private__.setFontSize=b.setFontSize=function(E){return $e=te===ee?E/an:E,this};var pt,ft=b.__private__.getFontSize=b.getFontSize=function(){return te===$?$e:$e*an},Vt=n.R2L||!1;b.__private__.setR2L=b.setR2L=function(E){return Vt=E,this},b.__private__.getR2L=b.getR2L=function(){return Vt};var kt,Qt=b.__private__.setZoomMode=function(E){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(E))pt=E;else if(isNaN(E)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(E)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+E+'" is not recognized.');pt=E}else pt=parseInt(E,10)};b.__private__.getZoomMode=function(){return pt};var rn,en=b.__private__.setPageMode=function(E){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(E)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+E+'" is not recognized.');kt=E};b.__private__.getPageMode=function(){return kt};var gn=b.__private__.setLayoutMode=function(E){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(E)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+E+'" is not recognized.');rn=E};b.__private__.getLayoutMode=function(){return rn},b.__private__.setDisplayMode=b.setDisplayMode=function(E,V,ae){return Qt(E),gn(V),en(ae),this};var $t={title:"",subject:"",author:"",keywords:"",creator:""};b.__private__.getDocumentProperty=function(E){if(Object.keys($t).indexOf(E)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return $t[E]},b.__private__.getDocumentProperties=function(){return $t},b.__private__.setDocumentProperties=b.setProperties=b.setDocumentProperties=function(E){for(var V in $t)$t.hasOwnProperty(V)&&E[V]&&($t[V]=E[V]);return this},b.__private__.setDocumentProperty=function(E,V){if(Object.keys($t).indexOf(E)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return $t[E]=V};var mt,an,xt,ur,fn,Et={},Yt={},on=[],Ot={},Bn={},qt={},Ft={},zn=null,Rt=0,Lt=[],vn=new qw(b),hi=n.hotfixes||[],Wr={},Li={},Dr=[],Dt=function E(V,ae,ge,Ae,He,Qe){if(!(this instanceof E))return new E(V,ae,ge,Ae,He,Qe);isNaN(V)&&(V=1),isNaN(ae)&&(ae=0),isNaN(ge)&&(ge=0),isNaN(Ae)&&(Ae=1),isNaN(He)&&(He=0),isNaN(Qe)&&(Qe=0),this._matrix=[V,ae,ge,Ae,He,Qe]};Object.defineProperty(Dt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(E){this._matrix[0]=E}}),Object.defineProperty(Dt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(E){this._matrix[1]=E}}),Object.defineProperty(Dt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(E){this._matrix[2]=E}}),Object.defineProperty(Dt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(E){this._matrix[3]=E}}),Object.defineProperty(Dt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(E){this._matrix[4]=E}}),Object.defineProperty(Dt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(E){this._matrix[5]=E}}),Object.defineProperty(Dt.prototype,"a",{get:function(){return this._matrix[0]},set:function(E){this._matrix[0]=E}}),Object.defineProperty(Dt.prototype,"b",{get:function(){return this._matrix[1]},set:function(E){this._matrix[1]=E}}),Object.defineProperty(Dt.prototype,"c",{get:function(){return this._matrix[2]},set:function(E){this._matrix[2]=E}}),Object.defineProperty(Dt.prototype,"d",{get:function(){return this._matrix[3]},set:function(E){this._matrix[3]=E}}),Object.defineProperty(Dt.prototype,"e",{get:function(){return this._matrix[4]},set:function(E){this._matrix[4]=E}}),Object.defineProperty(Dt.prototype,"f",{get:function(){return this._matrix[5]},set:function(E){this._matrix[5]=E}}),Object.defineProperty(Dt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Dt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Dt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Dt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Dt.prototype.join=function(E){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(k).join(E)},Dt.prototype.multiply=function(E){var V=E.sx*this.sx+E.shy*this.shx,ae=E.sx*this.shy+E.shy*this.sy,ge=E.shx*this.sx+E.sy*this.shx,Ae=E.shx*this.shy+E.sy*this.sy,He=E.tx*this.sx+E.ty*this.shx+this.tx,Qe=E.tx*this.shy+E.ty*this.sy+this.ty;return new Dt(V,ae,ge,Ae,He,Qe)},Dt.prototype.decompose=function(){var E=this.sx,V=this.shy,ae=this.shx,ge=this.sy,Ae=this.tx,He=this.ty,Qe=Math.sqrt(E*E+V*V),_t=(E/=Qe)*ae+(V/=Qe)*ge;ae-=E*_t,ge-=V*_t;var Tt=Math.sqrt(ae*ae+ge*ge);return _t/=Tt,E*(ge/=Tt)<V*(ae/=Tt)&&(E=-E,V=-V,_t=-_t,Qe=-Qe),{scale:new Dt(Qe,0,0,Tt,0,0),translate:new Dt(1,0,0,1,Ae,He),rotate:new Dt(E,V,-V,E,0,0),skew:new Dt(1,0,_t,1,0,0)}},Dt.prototype.toString=function(E){return this.join(" ")},Dt.prototype.inversed=function(){var E=this.sx,V=this.shy,ae=this.shx,ge=this.sy,Ae=this.tx,He=this.ty,Qe=1/(E*ge-V*ae),_t=ge*Qe,Tt=-V*Qe,Kt=-ae*Qe,Bt=E*Qe;return new Dt(_t,Tt,Kt,Bt,-_t*Ae-Kt*He,-Tt*Ae-Bt*He)},Dt.prototype.applyToPoint=function(E){var V=E.x*this.sx+E.y*this.shx+this.tx,ae=E.x*this.shy+E.y*this.sy+this.ty;return new Ai(V,ae)},Dt.prototype.applyToRectangle=function(E){var V=this.applyToPoint(E),ae=this.applyToPoint(new Ai(E.x+E.w,E.y+E.h));return new Ha(V.x,V.y,ae.x-V.x,ae.y-V.y)},Dt.prototype.clone=function(){var E=this.sx,V=this.shy,ae=this.shx,ge=this.sy,Ae=this.tx,He=this.ty;return new Dt(E,V,ae,ge,Ae,He)},b.Matrix=Dt;var ka=b.matrixMult=function(E,V){return V.multiply(E)},Ii=new Dt(1,0,0,1,0,0);b.unitMatrix=b.identityMatrix=Ii;var ue=function(E,V){if(!Bn[E]){var ae=(V instanceof mc?"Sh":"P")+(Object.keys(Ot).length+1).toString(10);V.id=ae,Bn[E]=ae,Ot[ae]=V,vn.publish("addPattern",V)}};b.ShadingPattern=mc,b.TilingPattern=Rh,b.addShadingPattern=function(E,V){return R("addShadingPattern()"),ue(E,V),this},b.beginTilingPattern=function(E){R("beginTilingPattern()"),Ga(E.boundingBox[0],E.boundingBox[1],E.boundingBox[2]-E.boundingBox[0],E.boundingBox[3]-E.boundingBox[1],E.matrix)},b.endTilingPattern=function(E,V){R("endTilingPattern()"),V.stream=tt[K].join(`
`),ue(E,V),vn.publish("endTilingPattern",V),Dr.pop().restore()};var _e,Te=b.__private__.newObject=function(){var E=qe();return Ze(E,!0),E},qe=b.__private__.newObjectDeferred=function(){return he++,be[he]=function(){return De},he},Ze=function(E,V){return V=typeof V=="boolean"&&V,be[E]=De,V&&ne(E+" 0 obj"),E},ht=b.__private__.newAdditionalObject=function(){var E={objId:qe(),content:""};return ze.push(E),E},dt=qe(),rt=qe(),st=b.__private__.decodeColorString=function(E){var V=E.split(" ");if(V.length!==2||V[1]!=="g"&&V[1]!=="G")V.length!==5||V[4]!=="k"&&V[4]!=="K"||(V=[(1-V[0])*(1-V[3]),(1-V[1])*(1-V[3]),(1-V[2])*(1-V[3]),"r"]);else{var ae=parseFloat(V[0]);V=[ae,ae,ae,"r"]}for(var ge="#",Ae=0;Ae<3;Ae++)ge+=("0"+Math.floor(255*parseFloat(V[Ae])).toString(16)).slice(-2);return ge},ct=b.__private__.encodeColorString=function(E){var V;typeof E=="string"&&(E={ch1:E});var ae=E.ch1,ge=E.ch2,Ae=E.ch3,He=E.ch4,Qe=E.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ae=="string"&&ae.charAt(0)!=="#"){var _t=new nS(ae);if(_t.ok)ae=_t.toHex();else if(!/^\d*\.?\d*$/.test(ae))throw new Error('Invalid color "'+ae+'" passed to jsPDF.encodeColorString.')}if(typeof ae=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ae)&&(ae="#"+ae[1]+ae[1]+ae[2]+ae[2]+ae[3]+ae[3]),typeof ae=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ae)){var Tt=parseInt(ae.substr(1),16);ae=Tt>>16&255,ge=Tt>>8&255,Ae=255&Tt}if(ge===void 0||He===void 0&&ae===ge&&ge===Ae)V=typeof ae=="string"?ae+" "+Qe[0]:E.precision===2?T(ae/255)+" "+Qe[0]:D(ae/255)+" "+Qe[0];else if(He===void 0||_r(He)==="object"){if(He&&!isNaN(He.a)&&He.a===0)return["1.","1.","1.",Qe[1]].join(" ");V=typeof ae=="string"?[ae,ge,Ae,Qe[1]].join(" "):E.precision===2?[T(ae/255),T(ge/255),T(Ae/255),Qe[1]].join(" "):[D(ae/255),D(ge/255),D(Ae/255),Qe[1]].join(" ")}else V=typeof ae=="string"?[ae,ge,Ae,He,Qe[2]].join(" "):E.precision===2?[T(ae),T(ge),T(Ae),T(He),Qe[2]].join(" "):[D(ae),D(ge),D(Ae),D(He),Qe[2]].join(" ");return V},Pt=b.__private__.getFilters=function(){return u},gt=b.__private__.putStream=function(E){var V=(E=E||{}).data||"",ae=E.filters||Pt(),ge=E.alreadyAppliedFilters||[],Ae=E.addLength1||!1,He=V.length,Qe=E.objectId,_t=function(x){return x};if(g!==null&&Qe===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");g!==null&&(_t=Rr.encryptor(Qe,0));var Tt={};ae===!0&&(ae=["FlateEncode"]);var Kt=E.additionalKeyValues||[],Bt=(Tt=zt.API.processDataByFilters!==void 0?zt.API.processDataByFilters(V,ae):{data:V,reverseChain:[]}).reverseChain+(Array.isArray(ge)?ge.join(" "):ge.toString());if(Tt.data.length!==0&&(Kt.push({key:"Length",value:Tt.data.length}),Ae===!0&&Kt.push({key:"Length1",value:He})),Bt.length!=0)if(Bt.split("/").length-1==1)Kt.push({key:"Filter",value:Bt});else{Kt.push({key:"Filter",value:"["+Bt+"]"});for(var Ln=0;Ln<Kt.length;Ln+=1)if(Kt[Ln].key==="DecodeParms"){for(var wr=[],hr=0;hr<Tt.reverseChain.split("/").length-1;hr+=1)wr.push("null");wr.push(Kt[Ln].value),Kt[Ln].value="["+wr.join(" ")+"]"}}ne("<<");for(var m=0;m<Kt.length;m++)ne("/"+Kt[m].key+" "+Kt[m].value);ne(">>"),Tt.data.length!==0&&(ne("stream"),ne(_t(Tt.data)),ne("endstream"))},Jt=b.__private__.putPage=function(E){var V=E.number,ae=E.data,ge=E.objId,Ae=E.contentsObjId;Ze(ge,!0),ne("<</Type /Page"),ne("/Parent "+E.rootDictionaryObjId+" 0 R"),ne("/Resources "+E.resourceDictionaryObjId+" 0 R"),ne("/MediaBox ["+parseFloat(k(E.mediaBox.bottomLeftX))+" "+parseFloat(k(E.mediaBox.bottomLeftY))+" "+k(E.mediaBox.topRightX)+" "+k(E.mediaBox.topRightY)+"]"),E.cropBox!==null&&ne("/CropBox ["+k(E.cropBox.bottomLeftX)+" "+k(E.cropBox.bottomLeftY)+" "+k(E.cropBox.topRightX)+" "+k(E.cropBox.topRightY)+"]"),E.bleedBox!==null&&ne("/BleedBox ["+k(E.bleedBox.bottomLeftX)+" "+k(E.bleedBox.bottomLeftY)+" "+k(E.bleedBox.topRightX)+" "+k(E.bleedBox.topRightY)+"]"),E.trimBox!==null&&ne("/TrimBox ["+k(E.trimBox.bottomLeftX)+" "+k(E.trimBox.bottomLeftY)+" "+k(E.trimBox.topRightX)+" "+k(E.trimBox.topRightY)+"]"),E.artBox!==null&&ne("/ArtBox ["+k(E.artBox.bottomLeftX)+" "+k(E.artBox.bottomLeftY)+" "+k(E.artBox.topRightX)+" "+k(E.artBox.topRightY)+"]"),typeof E.userUnit=="number"&&E.userUnit!==1&&ne("/UserUnit "+E.userUnit),vn.publish("putPage",{objId:ge,pageContext:Lt[V],pageNumber:V,page:ae}),ne("/Contents "+Ae+" 0 R"),ne(">>"),ne("endobj");var He=ae.join(`
`);return te===ee&&(He+=`
Q`),Ze(Ae,!0),gt({data:He,filters:Pt(),objectId:Ae}),ne("endobj"),ge},sn=b.__private__.putPages=function(){var E,V,ae=[];for(E=1;E<=Rt;E++)Lt[E].objId=qe(),Lt[E].contentsObjId=qe();for(E=1;E<=Rt;E++)ae.push(Jt({number:E,data:tt[E],objId:Lt[E].objId,contentsObjId:Lt[E].contentsObjId,mediaBox:Lt[E].mediaBox,cropBox:Lt[E].cropBox,bleedBox:Lt[E].bleedBox,trimBox:Lt[E].trimBox,artBox:Lt[E].artBox,userUnit:Lt[E].userUnit,rootDictionaryObjId:dt,resourceDictionaryObjId:rt}));Ze(dt,!0),ne("<</Type /Pages");var ge="/Kids [";for(V=0;V<Rt;V++)ge+=ae[V]+" 0 R ";ne(ge+"]"),ne("/Count "+Rt),ne(">>"),ne("endobj"),vn.publish("postPutPages")},Pn=function(E){vn.publish("putFont",{font:E,out:ne,newObject:Te,putStream:gt}),E.isAlreadyPutted!==!0&&(E.objectNumber=Te(),ne("<<"),ne("/Type /Font"),ne("/BaseFont /"+Nh(E.postScriptName)),ne("/Subtype /Type1"),typeof E.encoding=="string"&&ne("/Encoding /"+E.encoding),ne("/FirstChar 32"),ne("/LastChar 255"),ne(">>"),ne("endobj"))},Zn=function(E){E.objectNumber=Te();var V=[];V.push({key:"Type",value:"/XObject"}),V.push({key:"Subtype",value:"/Form"}),V.push({key:"BBox",value:"["+[k(E.x),k(E.y),k(E.x+E.width),k(E.y+E.height)].join(" ")+"]"}),V.push({key:"Matrix",value:"["+E.matrix.toString()+"]"});var ae=E.pages[1].join(`
`);gt({data:ae,additionalKeyValues:V,objectId:E.objectNumber}),ne("endobj")},Xn=function(E,V){V||(V=21);var ae=Te(),ge=(function(Qe,_t){var Tt,Kt=[],Bt=1/(_t-1);for(Tt=0;Tt<1;Tt+=Bt)Kt.push(Tt);if(Kt.push(1),Qe[0].offset!=0){var Ln={offset:0,color:Qe[0].color};Qe.unshift(Ln)}if(Qe[Qe.length-1].offset!=1){var wr={offset:1,color:Qe[Qe.length-1].color};Qe.push(wr)}for(var hr="",m=0,x=0;x<Kt.length;x++){for(Tt=Kt[x];Tt>Qe[m+1].offset;)m++;var L=Qe[m].offset,X=(Tt-L)/(Qe[m+1].offset-L),Ce=Qe[m].color,Me=Qe[m+1].color;hr+=oe(Math.round((1-X)*Ce[0]+X*Me[0]).toString(16))+oe(Math.round((1-X)*Ce[1]+X*Me[1]).toString(16))+oe(Math.round((1-X)*Ce[2]+X*Me[2]).toString(16))}return hr.trim()})(E.colors,V),Ae=[];Ae.push({key:"FunctionType",value:"0"}),Ae.push({key:"Domain",value:"[0.0 1.0]"}),Ae.push({key:"Size",value:"["+V+"]"}),Ae.push({key:"BitsPerSample",value:"8"}),Ae.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ae.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),gt({data:ge,additionalKeyValues:Ae,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ae}),ne("endobj"),E.objectNumber=Te(),ne("<< /ShadingType "+E.type),ne("/ColorSpace /DeviceRGB");var He="/Coords ["+k(parseFloat(E.coords[0]))+" "+k(parseFloat(E.coords[1]))+" ";E.type===2?He+=k(parseFloat(E.coords[2]))+" "+k(parseFloat(E.coords[3])):He+=k(parseFloat(E.coords[2]))+" "+k(parseFloat(E.coords[3]))+" "+k(parseFloat(E.coords[4]))+" "+k(parseFloat(E.coords[5])),ne(He+="]"),E.matrix&&ne("/Matrix ["+E.matrix.toString()+"]"),ne("/Function "+ae+" 0 R"),ne("/Extend [true true]"),ne(">>"),ne("endobj")},cn=function(E,V){var ae=qe(),ge=Te();V.push({resourcesOid:ae,objectOid:ge}),E.objectNumber=ge;var Ae=[];Ae.push({key:"Type",value:"/Pattern"}),Ae.push({key:"PatternType",value:"1"}),Ae.push({key:"PaintType",value:"1"}),Ae.push({key:"TilingType",value:"1"}),Ae.push({key:"BBox",value:"["+E.boundingBox.map(k).join(" ")+"]"}),Ae.push({key:"XStep",value:k(E.xStep)}),Ae.push({key:"YStep",value:k(E.yStep)}),Ae.push({key:"Resources",value:ae+" 0 R"}),E.matrix&&Ae.push({key:"Matrix",value:"["+E.matrix.toString()+"]"}),gt({data:E.stream,additionalKeyValues:Ae,objectId:E.objectNumber}),ne("endobj")},cr=function(E){for(var V in E.objectNumber=Te(),ne("<<"),E)switch(V){case"opacity":ne("/ca "+T(E[V]));break;case"stroke-opacity":ne("/CA "+T(E[V]))}ne(">>"),ne("endobj")},zr=function(E){Ze(E.resourcesOid,!0),ne("<<"),ne("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var V in ne("/Font <<"),Et)Et.hasOwnProperty(V)&&(w===!1||w===!0&&A.hasOwnProperty(V))&&ne("/"+V+" "+Et[V].objectNumber+" 0 R");ne(">>")})(),(function(){if(Object.keys(Ot).length>0){for(var V in ne("/Shading <<"),Ot)Ot.hasOwnProperty(V)&&Ot[V]instanceof mc&&Ot[V].objectNumber>=0&&ne("/"+V+" "+Ot[V].objectNumber+" 0 R");vn.publish("putShadingPatternDict"),ne(">>")}})(),(function(V){if(Object.keys(Ot).length>0){for(var ae in ne("/Pattern <<"),Ot)Ot.hasOwnProperty(ae)&&Ot[ae]instanceof b.TilingPattern&&Ot[ae].objectNumber>=0&&Ot[ae].objectNumber<V&&ne("/"+ae+" "+Ot[ae].objectNumber+" 0 R");vn.publish("putTilingPatternDict"),ne(">>")}})(E.objectOid),(function(){if(Object.keys(qt).length>0){var V;for(V in ne("/ExtGState <<"),qt)qt.hasOwnProperty(V)&&qt[V].objectNumber>=0&&ne("/"+V+" "+qt[V].objectNumber+" 0 R");vn.publish("putGStateDict"),ne(">>")}})(),(function(){for(var V in ne("/XObject <<"),Wr)Wr.hasOwnProperty(V)&&Wr[V].objectNumber>=0&&ne("/"+V+" "+Wr[V].objectNumber+" 0 R");vn.publish("putXobjectDict"),ne(">>")})(),ne(">>"),ne("endobj")},ar=function(E){Yt[E.fontName]=Yt[E.fontName]||{},Yt[E.fontName][E.fontStyle]=E.id},ki=function(E,V,ae,ge,Ae){var He={id:"F"+(Object.keys(Et).length+1).toString(10),postScriptName:E,fontName:V,fontStyle:ae,encoding:ge,isStandardFont:Ae||!1,metadata:{}};return vn.publish("addFont",{font:He,instance:this}),Et[He.id]=He,ar(He),He.id},dr=b.__private__.pdfEscape=b.pdfEscape=function(E,V){return(function(ae,ge){var Ae,He,Qe,_t,Tt,Kt,Bt,Ln,wr;if(Qe=(ge=ge||{}).sourceEncoding||"Unicode",Tt=ge.outputEncoding,(ge.autoencode||Tt)&&Et[mt].metadata&&Et[mt].metadata[Qe]&&Et[mt].metadata[Qe].encoding&&(_t=Et[mt].metadata[Qe].encoding,!Tt&&Et[mt].encoding&&(Tt=Et[mt].encoding),!Tt&&_t.codePages&&(Tt=_t.codePages[0]),typeof Tt=="string"&&(Tt=_t[Tt]),Tt)){for(Bt=!1,Kt=[],Ae=0,He=ae.length;Ae<He;Ae++)(Ln=Tt[ae.charCodeAt(Ae)])?Kt.push(String.fromCharCode(Ln)):Kt.push(ae[Ae]),Kt[Ae].charCodeAt(0)>>8&&(Bt=!0);ae=Kt.join("")}for(Ae=ae.length;Bt===void 0&&Ae!==0;)ae.charCodeAt(Ae-1)>>8&&(Bt=!0),Ae--;if(!Bt)return ae;for(Kt=ge.noBOM?[]:[254,255],Ae=0,He=ae.length;Ae<He;Ae++){if((wr=(Ln=ae.charCodeAt(Ae))>>8)>>8)throw new Error("Character at position "+Ae+" of string '"+ae+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Kt.push(wr),Kt.push(Ln-(wr<<8))}return String.fromCharCode.apply(void 0,Kt)})(E,V).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ei=b.__private__.beginPage=function(E){tt[++Rt]=[],Lt[Rt]={objId:0,contentsObjId:0,userUnit:Number(c),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(E[0]),topRightY:Number(E[1])}},Oa(Rt),bt(tt[K])},fi=function(E,V){var ae,ge,Ae;switch(t=V||t,typeof E=="string"&&(ae=F(E.toLowerCase()),Array.isArray(ae)&&(ge=ae[0],Ae=ae[1])),Array.isArray(E)&&(ge=E[0]*an,Ae=E[1]*an),isNaN(ge)&&(ge=s[0],Ae=s[1]),(ge>14400||Ae>14400)&&(Or.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ge=Math.min(14400,ge),Ae=Math.min(14400,Ae)),s=[ge,Ae],t.substr(0,1)){case"l":Ae>ge&&(s=[Ae,ge]);break;case"p":ge>Ae&&(s=[Ae,ge])}Ei(s),Ht(Xi),ne(aa),oa!==0&&ne(oa+" J"),Qr!==0&&ne(Qr+" j"),vn.publish("addPage",{pageNumber:Rt})},Oi=function(E){E>0&&E<=Rt&&(tt.splice(E,1),Lt.splice(E,1),Rt--,K>Rt&&(K=Rt),this.setPage(K))},Oa=function(E){E>0&&E<=Rt&&(K=E)},Da=b.__private__.getNumberOfPages=b.getNumberOfPages=function(){return tt.length-1},An=function(E,V,ae){var ge,Ae=void 0;return ae=ae||{},E=E!==void 0?E:Et[mt].fontName,V=V!==void 0?V:Et[mt].fontStyle,ge=E.toLowerCase(),Yt[ge]!==void 0&&Yt[ge][V]!==void 0?Ae=Yt[ge][V]:Yt[E]!==void 0&&Yt[E][V]!==void 0?Ae=Yt[E][V]:ae.disableWarning===!1&&Or.warn("Unable to look up font label for font '"+E+"', '"+V+"'. Refer to getFontList() for available fonts."),Ae||ae.noFallback||(Ae=Yt.times[V])==null&&(Ae=Yt.times.normal),Ae},Gn=b.__private__.putInfo=function(){var E=Te(),V=function(ge){return ge};for(var ae in g!==null&&(V=Rr.encryptor(E,0)),ne("<<"),ne("/Producer ("+dr(V("jsPDF "+zt.version))+")"),$t)$t.hasOwnProperty(ae)&&$t[ae]&&ne("/"+ae.substr(0,1).toUpperCase()+ae.substr(1)+" ("+dr(V($t[ae]))+")");ne("/CreationDate ("+dr(V(xe))+")"),ne(">>"),ne("endobj")},Cr=b.__private__.putCatalog=function(E){var V=(E=E||{}).rootDictionaryObjId||dt;switch(Te(),ne("<<"),ne("/Type /Catalog"),ne("/Pages "+V+" 0 R"),pt||(pt="fullwidth"),pt){case"fullwidth":ne("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ne("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ne("/OpenAction [3 0 R /Fit]");break;case"original":ne("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ae=""+pt;ae.substr(ae.length-1)==="%"&&(pt=parseInt(pt)/100),typeof pt=="number"&&ne("/OpenAction [3 0 R /XYZ null null "+T(pt)+"]")}switch(rn||(rn="continuous"),rn){case"continuous":ne("/PageLayout /OneColumn");break;case"single":ne("/PageLayout /SinglePage");break;case"two":case"twoleft":ne("/PageLayout /TwoColumnLeft");break;case"tworight":ne("/PageLayout /TwoColumnRight")}kt&&ne("/PageMode /"+kt),vn.publish("putCatalog"),ne(">>"),ne("endobj")},er=b.__private__.putTrailer=function(){ne("trailer"),ne("<<"),ne("/Size "+(he+1)),ne("/Root "+he+" 0 R"),ne("/Info "+(he-1)+" 0 R"),g!==null&&ne("/Encrypt "+Rr.oid+" 0 R"),ne("/ID [ <"+re+"> <"+re+"> ]"),ne(">>")},It=b.__private__.putHeader=function(){ne("%PDF-"+M),ne("%")},Ki=b.__private__.putXRef=function(){var E="0000000000";ne("xref"),ne("0 "+(he+1)),ne("0000000000 65535 f ");for(var V=1;V<=he;V++)typeof be[V]=="function"?ne((E+be[V]()).slice(-10)+" 00000 n "):be[V]!==void 0?ne((E+be[V]).slice(-10)+" 00000 n "):ne("0000000000 00000 n ")},Di=b.__private__.buildDocument=function(){var E;he=0,De=0,Ie=[],be=[],ze=[],dt=qe(),rt=qe(),bt(Ie),vn.publish("buildDocument"),It(),sn(),(function(){vn.publish("putAdditionalObjects");for(var ae=0;ae<ze.length;ae++){var ge=ze[ae];Ze(ge.objId,!0),ne(ge.content),ne("endobj")}vn.publish("postPutAdditionalObjects")})(),E=[],(function(){for(var ae in Et)Et.hasOwnProperty(ae)&&(w===!1||w===!0&&A.hasOwnProperty(ae))&&Pn(Et[ae])})(),(function(){var ae;for(ae in qt)qt.hasOwnProperty(ae)&&cr(qt[ae])})(),(function(){for(var ae in Wr)Wr.hasOwnProperty(ae)&&Zn(Wr[ae])})(),(function(ae){var ge;for(ge in Ot)Ot.hasOwnProperty(ge)&&(Ot[ge]instanceof mc?Xn(Ot[ge]):Ot[ge]instanceof Rh&&cn(Ot[ge],ae))})(E),vn.publish("putResources"),E.forEach(zr),zr({resourcesOid:rt,objectOid:Number.MAX_SAFE_INTEGER}),vn.publish("postPutResources"),g!==null&&(Rr.oid=Te(),ne("<<"),ne("/Filter /Standard"),ne("/V "+Rr.v),ne("/R "+Rr.r),ne("/U <"+Rr.toHexString(Rr.U)+">"),ne("/O <"+Rr.toHexString(Rr.O)+">"),ne("/P "+Rr.P),ne(">>"),ne("endobj")),Gn(),Cr();var V=De;return Ki(),er(),ne("startxref"),ne(""+V),ne("%%EOF"),bt(tt[K]),Ie.join(`
`)},Rn=b.__private__.getBlob=function(E){return new Blob([un(E)],{type:"application/pdf"})},Ns=b.output=b.__private__.output=(_e=function(E,V){switch(typeof(V=V||{})=="string"?V={filename:V}:V.filename=V.filename||"generated.pdf",E){case void 0:return Di();case"save":b.save(V.filename);break;case"arraybuffer":return un(Di());case"blob":return Rn(Di());case"bloburi":case"bloburl":if(pn.URL!==void 0&&typeof pn.URL.createObjectURL=="function")return pn.URL&&pn.URL.createObjectURL(Rn(Di()))||void 0;Or.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ae="",ge=Di();try{ae=Vw(ge)}catch{ae=Vw(unescape(encodeURIComponent(ge)))}return"data:application/pdf;filename="+V.filename+";base64,"+ae;case"pdfobjectnewwindow":if(Object.prototype.toString.call(pn)==="[object Window]"){var Ae="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",He=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';V.pdfObjectUrl&&(Ae=V.pdfObjectUrl,He="");var Qe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ae+'"'+He+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(V)+");<\/script></body></html>",_t=pn.open();return _t!==null&&_t.document.write(Qe),_t}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(pn)==="[object Window]"){var Tt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(V.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+V.filename+'" width="500px" height="400px" /></body></html>',Kt=pn.open();if(Kt!==null){Kt.document.write(Tt);var Bt=this;Kt.document.documentElement.querySelector("#pdfViewer").onload=function(){Kt.document.title=V.filename,Kt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Bt.output("bloburl"))}}return Kt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(pn)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Ln='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",V)+'"></iframe></body></html>',wr=pn.open();if(wr!==null&&(wr.document.write(Ln),wr.document.title=V.filename),wr||typeof safari>"u")return wr;break;case"datauri":case"dataurl":return pn.document.location.href=this.output("datauristring",V);default:return null}},_e.foo=function(){try{return _e.apply(this,arguments)}catch(ae){var E=ae.stack||"";~E.indexOf(" at ")&&(E=E.split(" at ")[1]);var V="Error in function "+E.split(`
`)[0].split("<")[0]+": "+ae.message;if(!pn.console)throw new Error(V);pn.console.error(V,ae),pn.alert&&alert(V)}},_e.foo.bar=_e,_e.foo),Xr=function(E){return Array.isArray(hi)===!0&&hi.indexOf(E)>-1};switch(r){case"pt":an=1;break;case"mm":an=72/25.4;break;case"cm":an=72/2.54;break;case"in":an=72;break;case"px":an=Xr("px_scaling")==1?.75:96/72;break;case"pc":case"em":an=12;break;case"ex":an=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);an=r}var Rr=null;Q(),fe();var qr=b.__private__.getPageInfo=b.getPageInfo=function(E){if(isNaN(E)||E%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Lt[E].objId,pageNumber:E,pageContext:Lt[E]}},Qs=b.__private__.getPageInfoByObjId=function(E){if(isNaN(E)||E%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var V in Lt)if(Lt[V].objId===E)break;return qr(V)},Kl=b.__private__.getCurrentPageInfo=b.getCurrentPageInfo=function(){return{objId:Lt[K].objId,pageNumber:K,pageContext:Lt[K]}};b.addPage=function(){return fi.apply(this,arguments),this},b.setPage=function(){return Oa.apply(this,arguments),bt.call(this,tt[K]),this},b.insertPage=function(E){return this.addPage(),this.movePage(K,E),this},b.movePage=function(E,V){var ae,ge;if(E>V){ae=tt[E],ge=Lt[E];for(var Ae=E;Ae>V;Ae--)tt[Ae]=tt[Ae-1],Lt[Ae]=Lt[Ae-1];tt[V]=ae,Lt[V]=ge,this.setPage(V)}else if(E<V){ae=tt[E],ge=Lt[E];for(var He=E;He<V;He++)tt[He]=tt[He+1],Lt[He]=Lt[He+1];tt[V]=ae,Lt[V]=ge,this.setPage(V)}return this},b.deletePage=function(){return Oi.apply(this,arguments),this},b.__private__.text=b.text=function(E,V,ae,ge,Ae){var He,Qe,_t,Tt,Kt,Bt,Ln,wr,hr,m=(ge=ge||{}).scope||this;if(typeof E=="number"&&typeof V=="number"&&(typeof ae=="string"||Array.isArray(ae))){var x=ae;ae=V,V=E,E=x}if(arguments[3]instanceof Dt==0?(_t=arguments[4],Tt=arguments[5],_r(Ln=arguments[3])==="object"&&Ln!==null||(typeof _t=="string"&&(Tt=_t,_t=null),typeof Ln=="string"&&(Tt=Ln,Ln=null),typeof Ln=="number"&&(_t=Ln,Ln=null),ge={flags:Ln,angle:_t,align:Tt})):(R("The transform parameter of text() with a Matrix value"),hr=Ae),isNaN(V)||isNaN(ae)||E==null)throw new Error("Invalid arguments passed to jsPDF.text");if(E.length===0)return m;var L,X="",Ce=typeof ge.lineHeightFactor=="number"?ge.lineHeightFactor:ds,Me=m.internal.scaleFactor;function at(Qn){return Qn=Qn.split("	").join(Array(ge.TabLen||9).join(" ")),dr(Qn,Ln)}function hn(Qn){for(var qn,Ar=Qn.concat(),Zr=[],Fs=Ar.length;Fs--;)typeof(qn=Ar.shift())=="string"?Zr.push(qn):Array.isArray(Qn)&&(qn.length===1||qn[1]===void 0&&qn[2]===void 0)?Zr.push(qn[0]):Zr.push([qn[0],qn[1],qn[2]]);return Zr}function Er(Qn,qn){var Ar;if(typeof Qn=="string")Ar=qn(Qn)[0];else if(Array.isArray(Qn)){for(var Zr,Fs,ys=Qn.concat(),yl=[],Qu=ys.length;Qu--;)typeof(Zr=ys.shift())=="string"?yl.push(qn(Zr)[0]):Array.isArray(Zr)&&typeof Zr[0]=="string"&&(Fs=qn(Zr[0],Zr[1],Zr[2]),yl.push([Fs[0],Fs[1],Fs[2]]));Ar=yl}return Ar}var Tn=!1,nr=!0;if(typeof E=="string")Tn=!0;else if(Array.isArray(E)){var Si=E.concat();Qe=[];for(var Mi,pr=Si.length;pr--;)(typeof(Mi=Si.shift())!="string"||Array.isArray(Mi)&&typeof Mi[0]!="string")&&(nr=!1);Tn=nr}if(Tn===!1)throw new Error('Type of text must be string or Array. "'+E+'" is not recognized.');typeof E=="string"&&(E=E.match(/[\r?\n]/)?E.split(/\r\n|\r|\n/g):[E]);var ji=$e/m.internal.scaleFactor,Ua=ji*(Ce-1);switch(ge.baseline){case"bottom":ae-=Ua;break;case"top":ae+=ji-Ua;break;case"hanging":ae+=ji-2*Ua;break;case"middle":ae+=ji/2-Ua}if((Bt=ge.maxWidth||0)>0&&(typeof E=="string"?E=m.splitTextToSize(E,Bt):Object.prototype.toString.call(E)==="[object Array]"&&(E=E.reduce(function(Qn,qn){return Qn.concat(m.splitTextToSize(qn,Bt))},[]))),He={text:E,x:V,y:ae,options:ge,mutex:{pdfEscape:dr,activeFontKey:mt,fonts:Et,activeFontSize:$e}},vn.publish("preProcessText",He),E=He.text,_t=(ge=He.options).angle,hr instanceof Dt==0&&_t&&typeof _t=="number"){_t*=Math.PI/180,ge.rotationDirection===0&&(_t=-_t),te===ee&&(_t=-_t);var ks=Math.cos(_t),Os=Math.sin(_t);hr=new Dt(ks,Os,-Os,ks,0,0)}else _t&&_t instanceof Dt&&(hr=_t);te!==ee||hr||(hr=Ii),(Kt=ge.charSpace||sa)!==void 0&&(X+=k(j(Kt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(wr=ge.horizontalScale)!==void 0&&(X+=k(100*wr)+` Tz
`),ge.lang;var ua=-1,no=ge.renderingMode!==void 0?ge.renderingMode:ge.stroke,Wl=m.internal.getCurrentPageInfo().pageContext;switch(no){case 0:case!1:case"fill":ua=0;break;case 1:case!0:case"stroke":ua=1;break;case 2:case"fillThenStroke":ua=2;break;case 3:case"invisible":ua=3;break;case 4:case"fillAndAddForClipping":ua=4;break;case 5:case"strokeAndAddPathForClipping":ua=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ua=6;break;case 7:case"addToPathForClipping":ua=7}var Wu=Wl.usedRenderingMode!==void 0?Wl.usedRenderingMode:-1;ua!==-1?X+=ua+` Tr
`:Wu!==-1&&(X+=`0 Tr
`),ua!==-1&&(Wl.usedRenderingMode=ua),Tt=ge.align||"left";var Fa,ms=$e*Ce,ro=m.internal.pageSize.getWidth(),Xu=Et[mt];Kt=ge.charSpace||sa,Bt=ge.maxWidth||0,Ln=Object.assign({autoencode:!0,noBOM:!0},ge.flags);var gs=[],Do=function(Qn){return m.getStringUnitWidth(Qn,{font:Xu,charSpace:Kt,fontSize:$e,doKerning:!1})*$e/Me};if(Object.prototype.toString.call(E)==="[object Array]"){var ba;Qe=hn(E),Tt!=="left"&&(Fa=Qe.map(Do));var ca,Ds=0;if(Tt==="right"){V-=Fa[0],E=[],pr=Qe.length;for(var Ps=0;Ps<pr;Ps++)Ps===0?(ca=pi(V),ba=ri(ae)):(ca=j(Ds-Fa[Ps]),ba=-ms),E.push([Qe[Ps],ca,ba]),Ds=Fa[Ps]}else if(Tt==="center"){V-=Fa[0]/2,E=[],pr=Qe.length;for(var io=0;io<pr;io++)io===0?(ca=pi(V),ba=ri(ae)):(ca=j((Ds-Fa[io])/2),ba=-ms),E.push([Qe[io],ca,ba]),Ds=Fa[io]}else if(Tt==="left"){E=[],pr=Qe.length;for(var Xl=0;Xl<pr;Xl++)E.push(Qe[Xl])}else if(Tt==="justify"&&Xu.encoding==="Identity-H"){E=[],pr=Qe.length,Bt=Bt!==0?Bt:ro;for(var Ql=0,Jr=0;Jr<pr;Jr++)if(ba=Jr===0?ri(ae):-ms,ca=Jr===0?pi(V):Ql,Jr<pr-1){var Uc=j((Bt-Fa[Jr])/(Qe[Jr].split(" ").length-1)),Ms=Qe[Jr].split(" ");E.push([Ms[0]+" ",ca,ba]),Ql=0;for(var js=1;js<Ms.length;js++){var Ui=(Do(Ms[js-1]+" "+Ms[js])-Do(Ms[js]))*Me+Uc;js==Ms.length-1?E.push([Ms[js],Ui,0]):E.push([Ms[js]+" ",Ui,0]),Ql-=Ui}}else E.push([Qe[Jr],ca,ba]);E.push(["",Ql,0])}else{if(Tt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(E=[],pr=Qe.length,Bt=Bt!==0?Bt:ro,Jr=0;Jr<pr;Jr++){ba=Jr===0?ri(ae):-ms,ca=Jr===0?pi(V):0;var ao=Qe[Jr].split(" ").length-1,Jl=ao>0?(Bt-Fa[Jr])/ao:0;Jr<pr-1?gs.push(k(j(Jl))):gs.push(0),E.push([Qe[Jr],ca,ba])}}}(typeof ge.R2L=="boolean"?ge.R2L:Vt)===!0&&(E=Er(E,function(Qn,qn,Ar){return[Qn.split("").reverse().join(""),qn,Ar]})),He={text:E,x:V,y:ae,options:ge,mutex:{pdfEscape:dr,activeFontKey:mt,fonts:Et,activeFontSize:$e}},vn.publish("postProcessText",He),E=He.text,L=He.mutex.isHex||!1;var Zl=Et[mt].encoding;Zl!=="WinAnsiEncoding"&&Zl!=="StandardEncoding"||(E=Er(E,function(Qn,qn,Ar){return[at(Qn),qn,Ar]})),Qe=hn(E),E=[];for(var so,oo,Us,gl=Array.isArray(Qe[0])?1:0,Va="",lo=function(Qn,qn,Ar){var Zr="";return Ar instanceof Dt?(Ar=typeof ge.angle=="number"?ka(Ar,new Dt(1,0,0,1,Qn,qn)):ka(new Dt(1,0,0,1,Qn,qn),Ar),te===ee&&(Ar=ka(new Dt(1,0,0,-1,0,0),Ar)),Zr=Ar.join(" ")+` Tm
`):Zr=k(Qn)+" "+k(qn)+` Td
`,Zr},Qi=0;Qi<Qe.length;Qi++){switch(Va="",gl){case 1:Us=(L?"<":"(")+Qe[Qi][0]+(L?">":")"),so=parseFloat(Qe[Qi][1]),oo=parseFloat(Qe[Qi][2]);break;case 0:Us=(L?"<":"(")+Qe[Qi]+(L?">":")"),so=pi(V),oo=ri(ae)}gs!==void 0&&gs[Qi]!==void 0&&(Va=gs[Qi]+` Tw
`),Qi===0?E.push(Va+lo(so,oo,hr)+Us):gl===0?E.push(Va+Us):gl===1&&E.push(Va+lo(so,oo,hr)+Us)}E=gl===0?E.join(` Tj
T* `):E.join(` Tj
`),E+=` Tj
`;var Ka=`BT
/`;return Ka+=mt+" "+$e+` Tf
`,Ka+=k($e*Ce)+` TL
`,Ka+=Ma+`
`,Ka+=X,Ka+=E,ne(Ka+="ET"),A[mt]=!0,m};var cl=b.__private__.clip=b.clip=function(E){return ne(E==="evenodd"?"W*":"W"),this};b.clipEvenOdd=function(){return cl("evenodd")},b.__private__.discardPath=b.discardPath=function(){return ne("n"),this};var Pi=b.__private__.isValidStyle=function(E){var V=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(E)!==-1&&(V=!0),V};b.__private__.setDefaultPathOperation=b.setDefaultPathOperation=function(E){return Pi(E)&&(d=E),this};var hl=b.__private__.getStyle=b.getStyle=function(E){var V=d;switch(E){case"D":case"S":V="S";break;case"F":V="f";break;case"FD":case"DF":V="B";break;case"f":case"f*":case"B":case"B*":V=E}return V},hs=b.close=function(){return ne("h"),this};b.stroke=function(){return ne("S"),this},b.fill=function(E){return di("f",E),this},b.fillEvenOdd=function(E){return di("f*",E),this},b.fillStroke=function(E){return di("B",E),this},b.fillStrokeEvenOdd=function(E){return di("B*",E),this};var di=function(E,V){_r(V)==="object"?dl(V,E):ne(E)},Cs=function(E){E===null||te===ee&&E===void 0||(E=hl(E),ne(E))};function fl(E,V,ae,ge,Ae){var He=new Rh(V||this.boundingBox,ae||this.xStep,ge||this.yStep,this.gState,Ae||this.matrix);He.stream=this.stream;var Qe=E+"$$"+this.cloneIndex+++"$$";return ue(Qe,He),He}var dl=function(E,V){var ae=Bn[E.key],ge=Ot[ae];if(ge instanceof mc)ne("q"),ne(Ro(V)),ge.gState&&b.setGState(ge.gState),ne(E.matrix.toString()+" cm"),ne("/"+ae+" sh"),ne("Q");else if(ge instanceof Rh){var Ae=new Dt(1,0,0,-1,0,ja());E.matrix&&(Ae=Ae.multiply(E.matrix||Ii),ae=fl.call(ge,E.key,E.boundingBox,E.xStep,E.yStep,Ae).id),ne("q"),ne("/Pattern cs"),ne("/"+ae+" scn"),ge.gState&&b.setGState(ge.gState),ne(V),ne("Q")}},Ro=function(E){switch(E){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Lo=b.moveTo=function(E,V){return ne(k(j(E))+" "+k(le(V))+" m"),this},fs=b.lineTo=function(E,V){return ne(k(j(E))+" "+k(le(V))+" l"),this},Wi=b.curveTo=function(E,V,ae,ge,Ae,He){return ne([k(j(E)),k(le(V)),k(j(ae)),k(le(ge)),k(j(Ae)),k(le(He)),"c"].join(" ")),this};b.__private__.line=b.line=function(E,V,ae,ge,Ae){if(isNaN(E)||isNaN(V)||isNaN(ae)||isNaN(ge)||!Pi(Ae))throw new Error("Invalid arguments passed to jsPDF.line");return te===$?this.lines([[ae-E,ge-V]],E,V,[1,1],Ae||"S"):this.lines([[ae-E,ge-V]],E,V,[1,1]).stroke()},b.__private__.lines=b.lines=function(E,V,ae,ge,Ae,He){var Qe,_t,Tt,Kt,Bt,Ln,wr,hr,m,x,L,X;if(typeof E=="number"&&(X=ae,ae=V,V=E,E=X),ge=ge||[1,1],He=He||!1,isNaN(V)||isNaN(ae)||!Array.isArray(E)||!Array.isArray(ge)||!Pi(Ae)||typeof He!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Lo(V,ae),Qe=ge[0],_t=ge[1],Kt=E.length,x=V,L=ae,Tt=0;Tt<Kt;Tt++)(Bt=E[Tt]).length===2?(x=Bt[0]*Qe+x,L=Bt[1]*_t+L,fs(x,L)):(Ln=Bt[0]*Qe+x,wr=Bt[1]*_t+L,hr=Bt[2]*Qe+x,m=Bt[3]*_t+L,x=Bt[4]*Qe+x,L=Bt[5]*_t+L,Wi(Ln,wr,hr,m,x,L));return He&&hs(),Cs(Ae),this},b.path=function(E){for(var V=0;V<E.length;V++){var ae=E[V],ge=ae.c;switch(ae.op){case"m":Lo(ge[0],ge[1]);break;case"l":fs(ge[0],ge[1]);break;case"c":Wi.apply(this,ge);break;case"h":hs()}}return this},b.__private__.rect=b.rect=function(E,V,ae,ge,Ae){if(isNaN(E)||isNaN(V)||isNaN(ae)||isNaN(ge)||!Pi(Ae))throw new Error("Invalid arguments passed to jsPDF.rect");return te===$&&(ge=-ge),ne([k(j(E)),k(le(V)),k(j(ae)),k(j(ge)),"re"].join(" ")),Cs(Ae),this},b.__private__.triangle=b.triangle=function(E,V,ae,ge,Ae,He,Qe){if(isNaN(E)||isNaN(V)||isNaN(ae)||isNaN(ge)||isNaN(Ae)||isNaN(He)||!Pi(Qe))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ae-E,ge-V],[Ae-ae,He-ge],[E-Ae,V-He]],E,V,[1,1],Qe,!0),this},b.__private__.roundedRect=b.roundedRect=function(E,V,ae,ge,Ae,He,Qe){if(isNaN(E)||isNaN(V)||isNaN(ae)||isNaN(ge)||isNaN(Ae)||isNaN(He)||!Pi(Qe))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var _t=4/3*(Math.SQRT2-1);return Ae=Math.min(Ae,.5*ae),He=Math.min(He,.5*ge),this.lines([[ae-2*Ae,0],[Ae*_t,0,Ae,He-He*_t,Ae,He],[0,ge-2*He],[0,He*_t,-Ae*_t,He,-Ae,He],[2*Ae-ae,0],[-Ae*_t,0,-Ae,-He*_t,-Ae,-He],[0,2*He-ge],[0,-He*_t,Ae*_t,-He,Ae,-He]],E+Ae,V,[1,1],Qe,!0),this},b.__private__.ellipse=b.ellipse=function(E,V,ae,ge,Ae){if(isNaN(E)||isNaN(V)||isNaN(ae)||isNaN(ge)||!Pi(Ae))throw new Error("Invalid arguments passed to jsPDF.ellipse");var He=4/3*(Math.SQRT2-1)*ae,Qe=4/3*(Math.SQRT2-1)*ge;return Lo(E+ae,V),Wi(E+ae,V-Qe,E+He,V-ge,E,V-ge),Wi(E-He,V-ge,E-ae,V-Qe,E-ae,V),Wi(E-ae,V+Qe,E-He,V+ge,E,V+ge),Wi(E+He,V+ge,E+ae,V+Qe,E+ae,V),Cs(Ae),this},b.__private__.circle=b.circle=function(E,V,ae,ge){if(isNaN(E)||isNaN(V)||isNaN(ae)||!Pi(ge))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(E,V,ae,ae,ge)},b.setFont=function(E,V,ae){return ae&&(V=O(V,ae)),mt=An(E,V,{disableWarning:!1}),this};var Pa=b.__private__.getFont=b.getFont=function(){return Et[An.apply(b,arguments)]};b.__private__.getFontList=b.getFontList=function(){var E,V,ae={};for(E in Yt)if(Yt.hasOwnProperty(E))for(V in ae[E]=[],Yt[E])Yt[E].hasOwnProperty(V)&&ae[E].push(V);return ae},b.addFont=function(E,V,ae,ge,Ae){var He=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&He.indexOf(arguments[3])!==-1?Ae=arguments[3]:arguments[3]&&He.indexOf(arguments[3])==-1&&(ae=O(ae,ge)),ki.call(this,E,V,ae,Ae=Ae||"Identity-H")};var ds,Xi=n.lineWidth||.200025,Rs=b.__private__.getLineWidth=b.getLineWidth=function(){return Xi},Ht=b.__private__.setLineWidth=b.setLineWidth=function(E){return Xi=E,ne(k(j(E))+" w"),this};b.__private__.setLineDash=zt.API.setLineDash=zt.API.setLineDashPattern=function(E,V){if(E=E||[],V=V||0,isNaN(V)||!Array.isArray(E))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return E=E.map(function(ae){return k(j(ae))}).join(" "),V=k(j(V)),ne("["+E+"] "+V+" d"),this};var Js=b.__private__.getLineHeight=b.getLineHeight=function(){return $e*ds};b.__private__.getLineHeight=b.getLineHeight=function(){return $e*ds};var Io=b.__private__.setLineHeightFactor=b.setLineHeightFactor=function(E){return typeof(E=E||1.15)=="number"&&(ds=E),this},Ls=b.__private__.getLineHeightFactor=b.getLineHeightFactor=function(){return ds};Io(n.lineHeight);var pi=b.__private__.getHorizontalCoordinate=function(E){return j(E)},ri=b.__private__.getVerticalCoordinate=function(E){return te===ee?E:Lt[K].mediaBox.topRightY-Lt[K].mediaBox.bottomLeftY-j(E)},Zs=b.__private__.getHorizontalCoordinateString=b.getHorizontalCoordinateString=function(E){return k(pi(E))},tr=b.__private__.getVerticalCoordinateString=b.getVerticalCoordinateString=function(E){return k(ri(E))},aa=n.strokeColor||"0 G";b.__private__.getStrokeColor=b.getDrawColor=function(){return st(aa)},b.__private__.setStrokeColor=b.setDrawColor=function(E,V,ae,ge){return aa=ct({ch1:E,ch2:V,ch3:ae,ch4:ge,pdfColorType:"draw",precision:2}),ne(aa),this};var eo=n.fillColor||"0 g";b.__private__.getFillColor=b.getFillColor=function(){return st(eo)},b.__private__.setFillColor=b.setFillColor=function(E,V,ae,ge){return eo=ct({ch1:E,ch2:V,ch3:ae,ch4:ge,pdfColorType:"fill",precision:2}),ne(eo),this};var Ma=n.textColor||"0 g",pl=b.__private__.getTextColor=b.getTextColor=function(){return st(Ma)};b.__private__.setTextColor=b.setTextColor=function(E,V,ae,ge){return Ma=ct({ch1:E,ch2:V,ch3:ae,ch4:ge,pdfColorType:"text",precision:3}),this};var sa=n.charSpace,ps=b.__private__.getCharSpace=b.getCharSpace=function(){return parseFloat(sa||0)};b.__private__.setCharSpace=b.setCharSpace=function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return sa=E,this};var oa=0;b.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},b.__private__.setLineCap=b.setLineCap=function(E){var V=b.CapJoinStyles[E];if(V===void 0)throw new Error("Line cap style of '"+E+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return oa=V,ne(V+" J"),this};var Qr=0;b.__private__.setLineJoin=b.setLineJoin=function(E){var V=b.CapJoinStyles[E];if(V===void 0)throw new Error("Line join style of '"+E+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Qr=V,ne(V+" j"),this},b.__private__.setLineMiterLimit=b.__private__.setMiterLimit=b.setLineMiterLimit=b.setMiterLimit=function(E){if(E=E||0,isNaN(E))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ne(k(j(E))+" M"),this},b.GState=qm,b.setGState=function(E){(E=typeof E=="string"?qt[Ft[E]]:qa(null,E)).equals(zn)||(ne("/"+E.id+" gs"),zn=E)};var qa=function(E,V){if(!E||!Ft[E]){var ae=!1;for(var ge in qt)if(qt.hasOwnProperty(ge)&&qt[ge].equals(V)){ae=!0;break}if(ae)V=qt[ge];else{var Ae="GS"+(Object.keys(qt).length+1).toString(10);qt[Ae]=V,V.id=Ae}return E&&(Ft[E]=V.id),vn.publish("addGState",V),V}};b.addGState=function(E,V){return qa(E,V),this},b.saveGraphicsState=function(){return ne("q"),on.push({key:mt,size:$e,color:Ma}),this},b.restoreGraphicsState=function(){ne("Q");var E=on.pop();return mt=E.key,$e=E.size,Ma=E.color,zn=null,this},b.setCurrentTransformationMatrix=function(E){return ne(E.toString()+" cm"),this},b.comment=function(E){return ne("#"+E),this};var Ai=function(E,V){var ae=E||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ae},set:function(He){isNaN(He)||(ae=parseFloat(He))}});var ge=V||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ge},set:function(He){isNaN(He)||(ge=parseFloat(He))}});var Ae="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ae},set:function(He){Ae=He.toString()}}),this},Ha=function(E,V,ae,ge){Ai.call(this,E,V),this.type="rect";var Ae=ae||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ae},set:function(Qe){isNaN(Qe)||(Ae=parseFloat(Qe))}});var He=ge||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return He},set:function(Qe){isNaN(Qe)||(He=parseFloat(Qe))}}),this},Is=function(){this.page=Rt,this.currentPage=K,this.pages=tt.slice(0),this.pagesContext=Lt.slice(0),this.x=xt,this.y=ur,this.matrix=fn,this.width=va(K),this.height=ko(K),this.outputDestination=lt,this.id="",this.objectNumber=-1};Is.prototype.restore=function(){Rt=this.page,K=this.currentPage,Lt=this.pagesContext,tt=this.pages,xt=this.x,ur=this.y,fn=this.matrix,to(K,this.width),la(K,this.height),lt=this.outputDestination};var Ga=function(E,V,ae,ge,Ae){Dr.push(new Is),Rt=K=0,tt=[],xt=E,ur=V,fn=Ae,Ei([ae,ge])};for(var $a in b.beginFormObject=function(E,V,ae,ge,Ae){return Ga(E,V,ae,ge,Ae),this},b.endFormObject=function(E){return(function(V){if(Li[V])Dr.pop().restore();else{var ae=new Is,ge="Xo"+(Object.keys(Wr).length+1).toString(10);ae.id=ge,Li[V]=ge,Wr[ge]=ae,vn.publish("addFormObject",ae),Dr.pop().restore()}})(E),this},b.doFormObject=function(E,V){var ae=Wr[Li[E]];return ne("q"),ne(V.toString()+" cm"),ne("/"+ae.id+" Do"),ne("Q"),this},b.getFormObject=function(E){var V=Wr[Li[E]];return{x:V.x,y:V.y,width:V.width,height:V.height,matrix:V.matrix}},b.save=function(E,V){return E=E||"generated.pdf",(V=V||{}).returnPromise=V.returnPromise||!1,V.returnPromise===!1?(pc(Rn(Di()),E),typeof pc.unload=="function"&&pn.setTimeout&&setTimeout(pc.unload,911),this):new Promise(function(ae,ge){try{var Ae=pc(Rn(Di()),E);typeof pc.unload=="function"&&pn.setTimeout&&setTimeout(pc.unload,911),ae(Ae)}catch(He){ge(He.message)}})},zt.API)zt.API.hasOwnProperty($a)&&($a==="events"&&zt.API.events.length?(function(E,V){var ae,ge,Ae;for(Ae=V.length-1;Ae!==-1;Ae--)ae=V[Ae][0],ge=V[Ae][1],E.subscribe.apply(E,[ae].concat(typeof ge=="function"?[ge]:ge))})(vn,zt.API.events):b[$a]=zt.API[$a]);function va(E){return Lt[E].mediaBox.topRightX-Lt[E].mediaBox.bottomLeftX}function to(E,V){Lt[E].mediaBox.topRightX=V+Lt[E].mediaBox.bottomLeftX}function ko(E){return Lt[E].mediaBox.topRightY-Lt[E].mediaBox.bottomLeftY}function la(E,V){Lt[E].mediaBox.topRightY=V+Lt[E].mediaBox.bottomLeftY}var Ya=b.getPageWidth=function(E){return va(E=E||K)/an},ml=b.setPageWidth=function(E,V){to(E,V*an)},ja=b.getPageHeight=function(E){return ko(E=E||K)/an},Oo=b.setPageHeight=function(E,V){la(E,V*an)};return b.internal={pdfEscape:dr,getStyle:hl,getFont:Pa,getFontSize:ft,getCharSpace:ps,getTextColor:pl,getLineHeight:Js,getLineHeightFactor:Ls,getLineWidth:Rs,write:ot,getHorizontalCoordinate:pi,getVerticalCoordinate:ri,getCoordinateString:Zs,getVerticalCoordinateString:tr,collections:{},newObject:Te,newAdditionalObject:ht,newObjectDeferred:qe,newObjectDeferredBegin:Ze,getFilters:Pt,putStream:gt,events:vn,scaleFactor:an,pageSize:{getWidth:function(){return Ya(K)},setWidth:function(E){ml(K,E)},getHeight:function(){return ja(K)},setHeight:function(E){Oo(K,E)}},encryptionOptions:g,encryption:Rr,getEncryptor:function(E){return g!==null?Rr.encryptor(E,0):function(V){return V}},output:Ns,getNumberOfPages:Da,get pages(){return tt},out:ne,f2:T,f3:D,getPageInfo:qr,getPageInfoByObjId:Qs,getCurrentPageInfo:Kl,getPDFVersion:P,Point:Ai,Rectangle:Ha,Matrix:Dt,hasHotfix:Xr},Object.defineProperty(b.internal.pageSize,"width",{get:function(){return Ya(K)},set:function(E){ml(K,E)},enumerable:!0,configurable:!0}),Object.defineProperty(b.internal.pageSize,"height",{get:function(){return ja(K)},set:function(E){Oo(K,E)},enumerable:!0,configurable:!0}),(function(E){for(var V=0,ae=Ut.length;V<ae;V++){var ge=ki.call(this,E[V][0],E[V][1],E[V][2],Ut[V][3],!0);w===!1&&(A[ge]=!0);var Ae=E[V][0].split("-");ar({id:ge,fontName:Ae[0],fontStyle:Ae[1]||""})}vn.publish("addFonts",{fonts:Et,dictionary:Yt})}).call(b,Ut),mt="F1",fi(s,t),vn.publish("initialized"),b}Th.prototype.lsbFirstWord=function(n){return String.fromCharCode(255&n,n>>8&255,n>>16&255,n>>24&255)},Th.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Th.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},Th.prototype.processOwnerPassword=function(n,e){return u2(l2(e).substr(0,5),n)},Th.prototype.encryptor=function(n,e){var t=l2(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return u2(t,r)}},qm.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||_r(n)!==_r(this))return!1;var r=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;r++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&r--;return r===0},zt.API={events:[]},zt.version="4.2.0";var ci=zt.API,_y=1,jc=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},bh=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Lc=function(n){return n.toString().replace(/#/g,"#23").replace(/[\s\n\r()<>[\]{}\/%]/g,function(e){var t=e.charCodeAt(0).toString(16).toUpperCase();return"#"+(t.length===1?"0"+t:t)})},wn=function(n){return n.toFixed(2)},xu=function(n){return n.toFixed(5)};ci.__acroform__={};var cs=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},Hw=function(n){return n*_y},Wo=function(n){var e=new sS,t=Ct.internal.getHeight(n)||0,r=Ct.internal.getWidth(n)||0;return e.BBox=[0,0,Number(wn(r)),Number(wn(t))],e},W9=ci.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|1<<e},X9=ci.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&~(1<<e)},Q9=ci.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<e?1:0},vi=ci.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Q9(n,e-1)},bi=ci.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return W9(n,e-1)},_i=ci.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return X9(n,e-1)},J9=ci.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,s=n[0],o=n[1],u=n[2],c=n[3],f={};return f.lowerLeft_X=t(s)||0,f.lowerLeft_Y=r(o+c)||0,f.upperRight_X=t(s+u)||0,f.upperRight_Y=r(o)||0,[Number(wn(f.lowerLeft_X)),Number(wn(f.lowerLeft_Y)),Number(wn(f.upperRight_X)),Number(wn(f.upperRight_Y))]},Z9=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],t=n._V||n.DV,r=c2(n,t),s=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+s+" "+wn(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var o=Wo(n);return o.scope=n.scope,o.stream=e.join(`
`),o}},c2=function(n,e){var t=n.fontSize===0?n.maxFontSize:n.fontSize,r={text:"",fontSize:""},s=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");s=n.multiline?s.map(function(T){return T.split(`
`)}):s.map(function(T){return[T]});var o=t,u=Ct.internal.getHeight(n)||0;u=u<0?-u:u;var c=Ct.internal.getWidth(n)||0;c=c<0?-c:c;var f=function(T,D,j){if(T+1<s.length){var le=D+" "+s[T+1][0];return Qp(le,n,j).width<=c-4}return!1};o++;e:for(;o>0;){e="",o--;var d,g,w=Qp("3",n,o).height,A=n.multiline?u-o:(u-w)/2,b=A+=2,M=0,P=0,U=0;if(o<=0){e=`(...) Tj
`,e+="% Width of Text: "+Qp(e,n,o=12).width+", FieldWidth:"+c+`
`;break}for(var F="",$=0,ee=0;ee<s.length;ee++)if(s.hasOwnProperty(ee)){var te=!1;if(s[ee].length!==1&&U!==s[ee].length-1){if((w+2)*($+2)+2>u)continue e;F+=s[ee][U],te=!0,P=ee,ee--}else{F=(F+=s[ee][U]+" ").substr(F.length-1)==" "?F.substr(0,F.length-1):F;var ce=parseInt(ee),Ee=f(ce,F,o),O=ee>=s.length-1;if(Ee&&!O){F+=" ",U=0;continue}if(Ee||O){if(O)P=ce;else if(n.multiline&&(w+2)*($+2)+2>u)continue e}else{if(!n.multiline||(w+2)*($+2)+2>u)continue e;P=ce}}for(var k="",R=M;R<=P;R++){var q=s[R];if(n.multiline){if(R===P){k+=q[U]+" ",U=(U+1)%q.length;continue}if(R===M){k+=q[q.length-1]+" ";continue}}k+=q[0]+" "}switch(k=k.substr(k.length-1)==" "?k.substr(0,k.length-1):k,g=Qp(k,n,o).width,n.textAlign){case"right":d=c-g-2;break;case"center":d=(c-g)/2;break;default:d=2}e+=wn(d)+" "+wn(b)+` Td
`,e+="("+jc(k)+`) Tj
`,e+=-wn(d)+` 0 Td
`,b=-(o+2),g=0,M=te?P:P+1,$++,F=""}break}return r.text=e,r.fontSize=o,r},Qp=function(n,e,t){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),s=e.scope.getStringUnitWidth(n,{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:s}},eP={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},tP=function(n,e){var t={type:"reference",object:n};e.internal.getPageInfo(n.page).pageContext.annotations.find(function(r){return r.type===t.type&&r.object===t.object})===void 0&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},nP=function(n,e){if(e.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(No.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(eP)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");_y=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new oS,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in r)if(r.hasOwnProperty(s)){var o=r[s];o.objId=void 0,o.hasAnnotation&&tP(o,t)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(t){(function(r,s){var o=!r;for(var u in r||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(u)){var c=r[u],f=[],d=c.Rect;if(c.Rect&&(c.Rect=J9(c.Rect,s)),s.internal.newObjectDeferredBegin(c.objId,!0),c.DA=Ct.createDefaultAppearanceStream(c),_r(c)==="object"&&typeof c.getKeyValueListForStream=="function"&&(f=c.getKeyValueListForStream()),c.Rect=d,c.hasAppearanceStream&&!c.appearanceStreamContent){var g=Z9(c);f.push({key:"AP",value:"<</N "+g+">>"}),s.internal.acroformPlugin.xForms.push(g)}if(c.appearanceStreamContent){var w="";for(var A in c.appearanceStreamContent)if(c.appearanceStreamContent.hasOwnProperty(A)){var b=c.appearanceStreamContent[A];if(w+="/"+A+" ",w+="<<",Object.keys(b).length>=1||Array.isArray(b)){for(var u in b)if(b.hasOwnProperty(u)){var M=b[u];typeof M=="function"&&(M=M.call(s,c)),w+="/"+u+" "+M+" ",s.internal.acroformPlugin.xForms.indexOf(M)>=0||s.internal.acroformPlugin.xForms.push(M)}}else typeof(M=b)=="function"&&(M=M.call(s,c)),w+="/"+u+" "+M,s.internal.acroformPlugin.xForms.indexOf(M)>=0||s.internal.acroformPlugin.xForms.push(M);w+=">>"}f.push({key:"AP",value:`<<
`+w+">>"})}s.internal.putStream({additionalKeyValues:f,objectId:c.objId}),s.internal.out("endobj")}o&&(function(P,U){for(var F in P)if(P.hasOwnProperty(F)){var $=F,ee=P[F];U.internal.newObjectDeferredBegin(ee.objId,!0),_r(ee)==="object"&&typeof ee.putStream=="function"&&ee.putStream(),delete P[$]}})(s.internal.acroformPlugin.xForms,s)})(t,n)}),n.internal.acroformPlugin.isInitialized=!0}},aS=ci.__acroform__.arrayToPdfArray=function(n,e,t){var r=function(u){return u};if(Array.isArray(n)){for(var s="[",o=0;o<n.length;o++)switch(o!==0&&(s+=" "),_r(n[o])){case"boolean":case"number":case"object":s+=n[o].toString();break;case"string":n[o].substr(0,1)==="/"?s+="/"+Lc(n[o].substr(1)):(e!==void 0&&t&&(r=t.internal.getEncryptor(e)),s+="("+jc(r(n[o].toString()))+")")}return s+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},b0=function(n,e,t){var r=function(s){return s};return e!==void 0&&t&&(r=t.internal.getEncryptor(e)),(n=n||"").toString(),"("+jc(r(n))+")"},Jo=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Jo.prototype.toString=function(){return this.objId+" 0 R"},Jo.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},Jo.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var r=e[t],s=this[r];s&&(Array.isArray(s)?n.push({key:r,value:aS(s,this.objId,this.scope)}):s instanceof Jo?(s.scope=this.scope,n.push({key:r,value:s.objId+" 0 R"})):typeof s!="function"&&n.push({key:r,value:s}))}return n};var sS=function(){Jo.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};cs(sS,Jo);var oS=function(){Jo.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(r){return r};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+jc(t(n))+")"}},set:function(t){n=t}})};cs(oS,Jo);var No=function n(){Jo.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(F){if(isNaN(F))throw new Error('Invalid value "'+F+'" for attribute F supplied.');e=F}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!vi(e,3)},set:function(F){F?this.F=bi(e,3):this.F=_i(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(F){if(isNaN(F))throw new Error('Invalid value "'+F+'" for attribute Ff supplied.');t=F}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(F){r=F!==void 0?F:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(F){r[0]=F}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(F){r[1]=F}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(F){r[2]=F}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(F){r[3]=F}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(F){switch(F){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=F;break;default:throw new Error('Invalid value "'+F+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof Hm)return;o="FieldObject"+n.FieldNum++}var F=function($){return $};return this.scope&&(F=this.scope.internal.getEncryptor(this.objId)),"("+jc(F(o))+")"},set:function(F){o=F.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(F){o=F}});var u="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return u},set:function(F){u=F}});var c="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return c},set:function(F){c=F}});var f=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return f},set:function(F){f=F}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/_y:d},set:function(F){d=F}});var g="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return g},set:function(F){g=F}});var w="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!w||this instanceof Hm||this instanceof wc))return b0(w,this.objId,this.scope)},set:function(F){F=F.toString(),w=F}});var A=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(A)return this instanceof ia==0?b0(A,this.objId,this.scope):A},set:function(F){F=F.toString(),A=this instanceof ia==0?F.substr(0,1)==="("?bh(F.substr(1,F.length-2)):bh(F):F}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ia==1?bh(A.substr(1,A.length-1)):A},set:function(F){F=F.toString(),A=this instanceof ia==1?"/"+Lc(F):F}});var b=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(b)return b},set:function(F){this.V=F}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(b)return this instanceof ia==0?b0(b,this.objId,this.scope):b},set:function(F){F=F.toString(),b=this instanceof ia==0?F.substr(0,1)==="("?bh(F.substr(1,F.length-2)):bh(F):F}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ia==1?bh(b.substr(1,b.length-1)):b},set:function(F){F=F.toString(),b=this instanceof ia==1?"/"+Lc(F):F}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var M,P=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return P},set:function(F){F=!!F,P=F}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(M)return M},set:function(F){M=F}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!vi(this.Ff,1)},set:function(F){F?this.Ff=bi(this.Ff,1):this.Ff=_i(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!vi(this.Ff,2)},set:function(F){F?this.Ff=bi(this.Ff,2):this.Ff=_i(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!vi(this.Ff,3)},set:function(F){F?this.Ff=bi(this.Ff,3):this.Ff=_i(this.Ff,3)}});var U=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(U!==null)return U},set:function(F){if([0,1,2].indexOf(F)===-1)throw new Error('Invalid value "'+F+'" for attribute Q supplied.');U=F}}),Object.defineProperty(this,"textAlign",{get:function(){var F;switch(U){case 0:default:F="left";break;case 1:F="center";break;case 2:F="right"}return F},configurable:!0,enumerable:!0,set:function(F){switch(F){case"right":case 2:U=2;break;case"center":case 1:U=1;break;default:U=0}}})};cs(No,Jo);var jh=function(){No.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return aS(e,this.objId,this.scope)},set:function(t){var r,s;s=[],typeof(r=t)=="string"&&(s=(function(o,u,c){c||(c=1);for(var f,d=[];f=u.exec(o);)d.push(f[c]);return d})(r,/\((.*?)\)/g)),e=s}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,r){for(r=r||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!vi(this.Ff,18)},set:function(t){t?this.Ff=bi(this.Ff,18):this.Ff=_i(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!vi(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=bi(this.Ff,19):this.Ff=_i(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!vi(this.Ff,20)},set:function(t){t?(this.Ff=bi(this.Ff,20),e.sort()):this.Ff=_i(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!vi(this.Ff,22)},set:function(t){t?this.Ff=bi(this.Ff,22):this.Ff=_i(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!vi(this.Ff,23)},set:function(t){t?this.Ff=bi(this.Ff,23):this.Ff=_i(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!vi(this.Ff,27)},set:function(t){t?this.Ff=bi(this.Ff,27):this.Ff=_i(this.Ff,27)}}),this.hasAppearanceStream=!1};cs(jh,No);var Uh=function(){jh.call(this),this.fontName="helvetica",this.combo=!1};cs(Uh,jh);var Fh=function(){Uh.call(this),this.combo=!0};cs(Fh,Uh);var gm=function(){Fh.call(this),this.edit=!0};cs(gm,Fh);var ia=function(){No.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!vi(this.Ff,15)},set:function(t){t?this.Ff=bi(this.Ff,15):this.Ff=_i(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!vi(this.Ff,16)},set:function(t){t?this.Ff=bi(this.Ff,16):this.Ff=_i(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!vi(this.Ff,17)},set:function(t){t?this.Ff=bi(this.Ff,17):this.Ff=_i(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!vi(this.Ff,26)},set:function(t){t?this.Ff=bi(this.Ff,26):this.Ff=_i(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(o){return o};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,s=[];for(r in s.push("<<"),e)s.push("/"+r+" ("+jc(t(e[r]))+")");return s.push(">>"),s.join(`
`)}},set:function(t){_r(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){var r=t==null?"":t.toString();r.substr(0,1)==="/"&&(r=r.substr(1)),n="/"+Lc(r)}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+Lc(t)}})};cs(ia,No);var ym=function(){ia.call(this),this.pushButton=!0};cs(ym,ia);var Vh=function(){ia.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e!==void 0?e:[]}})};cs(Vh,ia);var Hm=function(){var n,e;No.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(s){n=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(s){e=s}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(c){return c};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var o,u=[];for(o in u.push("<<"),r)u.push("/"+o+" ("+jc(s(r[o]))+")");return u.push(">>"),u.join(`
`)},set:function(s){_r(s)==="object"&&(r=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(s){typeof s=="string"&&(r.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(s){var o=s==null?"":s.toString();o.substr(0,1)==="/"&&(o=o.substr(1)),t="/"+Lc(o)}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(s){var o=s==null?"":s.toString();o.substr(0,1)==="/"&&(o=o.substr(1)),t="/"+Lc(o)}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ct.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};cs(Hm,No),Vh.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},Vh.prototype.createOption=function(n){var e=new Hm;return e.Parent=this,e.optionName=n,this.Kids.push(e),rP.call(this.scope,e),e};var vm=function(){ia.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ct.CheckBox.createAppearanceStream()};cs(vm,ia);var wc=function(){No.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!vi(this.Ff,13)},set:function(e){e?this.Ff=bi(this.Ff,13):this.Ff=_i(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!vi(this.Ff,21)},set:function(e){e?this.Ff=bi(this.Ff,21):this.Ff=_i(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!vi(this.Ff,23)},set:function(e){e?this.Ff=bi(this.Ff,23):this.Ff=_i(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!vi(this.Ff,24)},set:function(e){e?this.Ff=bi(this.Ff,24):this.Ff=_i(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!vi(this.Ff,25)},set:function(e){e?this.Ff=bi(this.Ff,25):this.Ff=_i(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!vi(this.Ff,26)},set:function(e){e?this.Ff=bi(this.Ff,26):this.Ff=_i(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};cs(wc,No);var bm=function(){wc.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!vi(this.Ff,14)},set:function(n){n?this.Ff=bi(this.Ff,14):this.Ff=_i(this.Ff,14)}}),this.password=!0};cs(bm,wc);var Ct={CheckBox:{createAppearanceStream:function(){return{N:{On:Ct.CheckBox.YesNormal},D:{On:Ct.CheckBox.YesPushDown,Off:Ct.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=Wo(n);e.scope=n.scope;var t=[],r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,s=n.scope.__private__.encodeColorString(n.color),o=c2(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+wn(Ct.internal.getWidth(n))+" "+wn(Ct.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+r+" "+wn(o.fontSize)+" Tf "+s),t.push("BT"),t.push(o.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(n){var e=Wo(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),s=[],o=Ct.internal.getHeight(n),u=Ct.internal.getWidth(n),c=c2(n,n.caption);return s.push("1 g"),s.push("0 0 "+wn(u)+" "+wn(o)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+wn(u-1)+" "+wn(o-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+t+" "+wn(c.fontSize)+" Tf "+r),s.push(c.text),s.push("ET"),s.push("Q"),e.stream=s.join(`
`),e},OffPushDown:function(n){var e=Wo(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+wn(Ct.internal.getWidth(n))+" "+wn(Ct.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:Ct.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=Ct.RadioButton.Circle.YesNormal,e.D[n]=Ct.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=Wo(n);e.scope=n.scope;var t=[],r=Ct.internal.getWidth(n)<=Ct.internal.getHeight(n)?Ct.internal.getWidth(n)/4:Ct.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var s=Ct.internal.Bezier_C,o=Number((r*s).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+xu(Ct.internal.getWidth(n)/2)+" "+xu(Ct.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),t.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),t.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),t.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Wo(n);e.scope=n.scope;var t=[],r=Ct.internal.getWidth(n)<=Ct.internal.getHeight(n)?Ct.internal.getWidth(n)/4:Ct.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var s=Number((2*r).toFixed(5)),o=Number((s*Ct.internal.Bezier_C).toFixed(5)),u=Number((r*Ct.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+xu(Ct.internal.getWidth(n)/2)+" "+xu(Ct.internal.getHeight(n)/2)+" cm"),t.push(s+" 0 m"),t.push(s+" "+o+" "+o+" "+s+" 0 "+s+" c"),t.push("-"+o+" "+s+" -"+s+" "+o+" -"+s+" 0 c"),t.push("-"+s+" -"+o+" -"+o+" -"+s+" 0 -"+s+" c"),t.push(o+" -"+s+" "+s+" -"+o+" "+s+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+xu(Ct.internal.getWidth(n)/2)+" "+xu(Ct.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+u+" "+u+" "+r+" 0 "+r+" c"),t.push("-"+u+" "+r+" -"+r+" "+u+" -"+r+" 0 c"),t.push("-"+r+" -"+u+" -"+u+" -"+r+" 0 -"+r+" c"),t.push(u+" -"+r+" "+r+" -"+u+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(n){var e=Wo(n);e.scope=n.scope;var t=[],r=Ct.internal.getWidth(n)<=Ct.internal.getHeight(n)?Ct.internal.getWidth(n)/4:Ct.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var s=Number((2*r).toFixed(5)),o=Number((s*Ct.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+xu(Ct.internal.getWidth(n)/2)+" "+xu(Ct.internal.getHeight(n)/2)+" cm"),t.push(s+" 0 m"),t.push(s+" "+o+" "+o+" "+s+" 0 "+s+" c"),t.push("-"+o+" "+s+" -"+s+" "+o+" -"+s+" 0 c"),t.push("-"+s+" -"+o+" -"+o+" -"+s+" 0 -"+s+" c"),t.push(o+" -"+s+" "+s+" -"+o+" "+s+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:Ct.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=Ct.RadioButton.Cross.YesNormal,e.D[n]=Ct.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=Wo(n);e.scope=n.scope;var t=[],r=Ct.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+wn(Ct.internal.getWidth(n)-2)+" "+wn(Ct.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(wn(r.x1.x)+" "+wn(r.x1.y)+" m"),t.push(wn(r.x2.x)+" "+wn(r.x2.y)+" l"),t.push(wn(r.x4.x)+" "+wn(r.x4.y)+" m"),t.push(wn(r.x3.x)+" "+wn(r.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Wo(n);e.scope=n.scope;var t=Ct.internal.calculateCross(n),r=[];return r.push("0.749023 g"),r.push("0 0 "+wn(Ct.internal.getWidth(n))+" "+wn(Ct.internal.getHeight(n))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+wn(Ct.internal.getWidth(n)-2)+" "+wn(Ct.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push(wn(t.x1.x)+" "+wn(t.x1.y)+" m"),r.push(wn(t.x2.x)+" "+wn(t.x2.y)+" l"),r.push(wn(t.x4.x)+" "+wn(t.x4.y)+" m"),r.push(wn(t.x3.x)+" "+wn(t.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(n){var e=Wo(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+wn(Ct.internal.getWidth(n))+" "+wn(Ct.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};Ct.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=Ct.internal.getWidth(n),t=Ct.internal.getHeight(n),r=Math.min(e,t);return{x1:{x:(e-r)/2,y:(t-r)/2+r},x2:{x:(e-r)/2+r,y:(t-r)/2},x3:{x:(e-r)/2,y:(t-r)/2},x4:{x:(e-r)/2+r,y:(t-r)/2+r}}}},Ct.internal.getWidth=function(n){var e=0;return _r(n)==="object"&&(e=Hw(n.Rect[2])),e},Ct.internal.getHeight=function(n){var e=0;return _r(n)==="object"&&(e=Hw(n.Rect[3])),e};var rP=ci.addField=function(n){if(nP(this,n),!(n instanceof No))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};ci.AcroFormChoiceField=jh,ci.AcroFormListBox=Uh,ci.AcroFormComboBox=Fh,ci.AcroFormEditBox=gm,ci.AcroFormButton=ia,ci.AcroFormPushButton=ym,ci.AcroFormRadioButton=Vh,ci.AcroFormCheckBox=vm,ci.AcroFormTextField=wc,ci.AcroFormPasswordField=bm,ci.AcroFormAppearance=Ct,ci.AcroForm={ChoiceField:jh,ListBox:Uh,ComboBox:Fh,EditBox:gm,Button:ia,PushButton:ym,RadioButton:Vh,CheckBox:vm,TextField:wc,PasswordField:bm,Appearance:Ct},zt.AcroForm={ChoiceField:jh,ListBox:Uh,ComboBox:Fh,EditBox:gm,Button:ia,PushButton:ym,RadioButton:Vh,CheckBox:vm,TextField:wc,PasswordField:bm,Appearance:Ct};zt.AcroForm;function lS(n){return n.reduce(function(e,t,r){return e[t]=r,e},{})}(function(n){var e="addImage_";n.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},s=n.__addimage__.getImageFileTypeByImageData=function(T,D){var j,le,xe,re,me,fe=t;if((D=D||t)==="RGBA"||T.data!==void 0&&T.data instanceof Uint8ClampedArray&&"height"in T&&"width"in T)return"RGBA";if(Ee(T))for(me in r)for(xe=r[me],j=0;j<xe.length;j+=1){for(re=!0,le=0;le<xe[j].length;le+=1)if(xe[j][le]!==void 0&&xe[j][le]!==T[le]){re=!1;break}if(re===!0){fe=me;break}}else for(me in r)for(xe=r[me],j=0;j<xe.length;j+=1){for(re=!0,le=0;le<xe[j].length;le+=1)if(xe[j][le]!==void 0&&xe[j][le]!==T.charCodeAt(le)){re=!1;break}if(re===!0){fe=me;break}}return fe===t&&D!==t&&(fe=D),fe},o=function T(D){for(var j=this.internal.write,le=this.internal.putStream,xe=(0,this.internal.getFilters)();xe.indexOf("FlateEncode")!==-1;)xe.splice(xe.indexOf("FlateEncode"),1);D.objectId=this.internal.newObject();var re=[];if(re.push({key:"Type",value:"/XObject"}),re.push({key:"Subtype",value:"/Image"}),re.push({key:"Width",value:D.width}),re.push({key:"Height",value:D.height}),D.colorSpace===F.INDEXED?re.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(D.palette.length/3-1)+" "+("sMask"in D&&D.sMask!==void 0?D.objectId+2:D.objectId+1)+" 0 R]"}):(re.push({key:"ColorSpace",value:"/"+D.colorSpace}),D.colorSpace===F.DEVICE_CMYK&&re.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),re.push({key:"BitsPerComponent",value:D.bitsPerComponent}),"decodeParameters"in D&&D.decodeParameters!==void 0&&re.push({key:"DecodeParms",value:"<<"+D.decodeParameters+">>"}),"transparency"in D&&Array.isArray(D.transparency)&&D.transparency.length>0){for(var me="",fe=0,Ne=D.transparency.length;fe<Ne;fe++)me+=D.transparency[fe]+" "+D.transparency[fe]+" ";re.push({key:"Mask",value:"["+me+"]"})}D.sMask!==void 0&&re.push({key:"SMask",value:D.objectId+1+" 0 R"});var Fe=D.filter!==void 0?["/"+D.filter]:void 0;if(le({data:D.data,additionalKeyValues:re,alreadyAppliedFilters:Fe,objectId:D.objectId}),j("endobj"),"sMask"in D&&D.sMask!==void 0){var Q,I=(Q=D.sMaskBitsPerComponent)!==null&&Q!==void 0?Q:D.bitsPerComponent,K={width:D.width,height:D.height,colorSpace:"DeviceGray",bitsPerComponent:I,data:D.sMask};"filter"in D&&(K.decodeParameters="/Predictor ".concat(D.predictor," /Colors 1 /BitsPerComponent ").concat(I," /Columns ").concat(D.width),K.filter=D.filter),T.call(this,K)}if(D.colorSpace===F.INDEXED){var J=this.internal.newObject();le({data:k(new Uint8Array(D.palette)),objectId:J}),j("endobj")}},u=function(){var T=this.internal.collections[e+"images"];for(var D in T)o.call(this,T[D])},c=function(){var T,D=this.internal.collections[e+"images"],j=this.internal.write;for(var le in D)j("/I"+(T=D[le]).index,T.objectId,"0","R")},f=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",u),this.internal.events.subscribe("putXobjectDict",c))},d=function(){var T=this.internal.collections[e+"images"];return f.call(this),T},g=function(){return Object.keys(this.internal.collections[e+"images"]).length},w=function(T){return typeof n["process"+T.toUpperCase()]=="function"},A=function(T){return _r(T)==="object"&&T.nodeType===1},b=function(T,D){if(T.nodeName==="IMG"&&T.hasAttribute("src")){var j=""+T.getAttribute("src");if(j.indexOf("data:image/")===0)return mm(unescape(j).split("base64,").pop());var le=n.loadFile(j,!0);if(le!==void 0)return le}if(T.nodeName==="CANVAS"){if(T.width===0||T.height===0)throw new Error("Given canvas must have data. Canvas width: "+T.width+", height: "+T.height);var xe;switch(D){case"PNG":xe="image/png";break;case"WEBP":xe="image/webp";break;default:xe="image/jpeg"}return mm(T.toDataURL(xe,1).split("base64,").pop())}},M=function(T){var D=this.internal.collections[e+"images"];if(D){for(var j in D)if(T===D[j].alias)return D[j]}},P=function(T,D,j){return T||D||(T=-96,D=-96),T<0&&(T=-1*j.width*72/T/this.internal.scaleFactor),D<0&&(D=-1*j.height*72/D/this.internal.scaleFactor),T===0&&(T=D*j.width/j.height),D===0&&(D=T*j.height/j.width),[T,D]},U=function(T,D,j,le,xe,re){var me=P.call(this,j,le,xe),fe=this.internal.getCoordinateString,Ne=this.internal.getVerticalCoordinateString,Fe=d.call(this);if(j=me[0],le=me[1],Fe[xe.index]=xe,re){re*=Math.PI/180;var Q=Math.cos(re),I=Math.sin(re),K=function(oe){return oe.toFixed(4)},J=[K(Q),K(I),K(-1*I),K(Q),0,0,"cm"]}this.internal.write("q"),re?(this.internal.write([1,"0","0",1,fe(T),Ne(D+le),"cm"].join(" ")),this.internal.write(J.join(" ")),this.internal.write([fe(j),"0","0",fe(le),"0","0","cm"].join(" "))):this.internal.write([fe(j),"0","0",fe(le),fe(T),Ne(D+le),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+xe.index+" Do"),this.internal.write("Q")},F=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var $=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},ee=n.__addimage__.sHashCode=function(T){var D,j,le=0;if(typeof T=="string")for(j=T.length,D=0;D<j;D++)le=(le<<5)-le+T.charCodeAt(D),le|=0;else if(Ee(T))for(j=T.byteLength/2,D=0;D<j;D++)le=(le<<5)-le+T[D],le|=0;return le},te=n.__addimage__.validateStringAsBase64=function(T){(T=T||"").toString().trim();var D=!0;return T.length===0&&(D=!1),T.length%4!=0&&(D=!1),/^[A-Za-z0-9+/]+$/.test(T.substr(0,T.length-2))===!1&&(D=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(T.substr(-2))===!1&&(D=!1),D},ce=n.__addimage__.extractImageFromDataUrl=function(T){if(T==null||!(T=T.trim()).startsWith("data:"))return null;var D=T.indexOf(",");return D<0?null:T.substring(0,D).trim().endsWith("base64")?T.substring(D+1):null};n.__addimage__.isArrayBuffer=function(T){return T instanceof ArrayBuffer};var Ee=n.__addimage__.isArrayBufferView=function(T){return T instanceof Int8Array||T instanceof Uint8Array||T instanceof Uint8ClampedArray||T instanceof Int16Array||T instanceof Uint16Array||T instanceof Int32Array||T instanceof Uint32Array||T instanceof Float32Array||T instanceof Float64Array},O=n.__addimage__.binaryStringToUint8Array=function(T){for(var D=T.length,j=new Uint8Array(D),le=0;le<D;le++)j[le]=T.charCodeAt(le);return j},k=n.__addimage__.arrayBufferToBinaryString=function(T){for(var D="",j=Ee(T)?T:new Uint8Array(T),le=0;le<j.length;le+=8192)D+=String.fromCharCode.apply(null,j.subarray(le,le+8192));return D};n.addImage=function(){var T,D,j,le,xe,re,me,fe,Ne;if(typeof arguments[1]=="number"?(D=t,j=arguments[1],le=arguments[2],xe=arguments[3],re=arguments[4],me=arguments[5],fe=arguments[6],Ne=arguments[7]):(D=arguments[1],j=arguments[2],le=arguments[3],xe=arguments[4],re=arguments[5],me=arguments[6],fe=arguments[7],Ne=arguments[8]),_r(T=arguments[0])==="object"&&!A(T)&&"imageData"in T){var Fe=T;T=Fe.imageData,D=Fe.format||D||t,j=Fe.x||j||0,le=Fe.y||le||0,xe=Fe.w||Fe.width||xe,re=Fe.h||Fe.height||re,me=Fe.alias||me,fe=Fe.compression||fe,Ne=Fe.rotation||Fe.angle||Ne}var Q=this.internal.getFilters();if(fe===void 0&&Q.indexOf("FlateEncode")!==-1&&(fe="SLOW"),isNaN(j)||isNaN(le))throw new Error("Invalid coordinates passed to jsPDF.addImage");f.call(this);var I=R.call(this,T,D,me,fe);return U.call(this,j,le,xe,re,I,Ne),this};var R=function(T,D,j,le){var xe,re,me;if(typeof T=="string"&&s(T)===t){T=unescape(T);var fe=q(T,!1);(fe!==""||(fe=n.loadFile(T,!0))!==void 0)&&(T=fe)}if(A(T)&&(T=b(T,D)),D=s(T,D),!w(D))throw new Error("addImage does not support files of type '"+D+"', please ensure that a plugin for '"+D+"' support is added.");if(((me=j)==null||me.length===0)&&(j=(function(Ne){return typeof Ne=="string"||Ee(Ne)?ee(Ne):Ee(Ne.data)?ee(Ne.data):null})(T)),(xe=M.call(this,j))||(T instanceof Uint8Array||D==="RGBA"||(re=T,T=O(T)),xe=this["process"+D.toUpperCase()](T,g.call(this),j,(function(Ne){return Ne&&typeof Ne=="string"&&(Ne=Ne.toUpperCase()),Ne in n.image_compression?Ne:$.NONE})(le),re)),!xe)throw new Error("An unknown error occurred whilst processing the image.");return xe},q=n.__addimage__.convertBase64ToBinaryString=function(T,D){D=typeof D!="boolean"||D;var j,le="";if(typeof T=="string"){var xe;j=(xe=ce(T))!==null&&xe!==void 0?xe:T;try{le=mm(j)}catch(re){if(D)throw te(j)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+re.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return le};n.getImageProperties=function(T){var D,j,le="";if(A(T)&&(T=b(T)),typeof T=="string"&&s(T)===t&&((le=q(T,!1))===""&&(le=n.loadFile(T)||""),T=le),j=s(T),!w(j))throw new Error("addImage does not support files of type '"+j+"', please ensure that a plugin for '"+j+"' support is added.");if(T instanceof Uint8Array||(T=O(T)),!(D=this["process"+j.toUpperCase()](T)))throw new Error("An unknown error occurred whilst processing the image");return D.fileType=j,D}})(zt.API),(function(n){var e=function(t){if(t!==void 0&&t!="")return!0};zt.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var r,s,o,u=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString,f=this.internal.getPageInfoByObjId(t.objId),d=t.pageContext.annotations,g=!1,w=0;w<d.length&&!g;w++)switch((r=d[w]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(g=!0);break;case"reference":case"text":case"freetext":g=!0}if(g!=0){this.internal.write("/Annots [");for(var A=0;A<d.length;A++){r=d[A];var b=this.internal.pdfEscape,M=this.internal.getEncryptor(t.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var P=this.internal.newAdditionalObject(),U=this.internal.newAdditionalObject(),F=this.internal.getEncryptor(P.objId),$=r.title||"Note";o="<</Type /Annot /Subtype /Text "+(s="/Rect ["+u(r.bounds.x)+" "+c(r.bounds.y+r.bounds.h)+" "+u(r.bounds.x+r.bounds.w)+" "+c(r.bounds.y)+"] ")+"/Contents ("+b(F(r.contents))+")",o+=" /Popup "+U.objId+" 0 R",o+=" /P "+f.objId+" 0 R",o+=" /T ("+b(F($))+") >>",P.content=o;var ee=P.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+u(r.bounds.x+30)+" "+c(r.bounds.y+r.bounds.h)+" "+u(r.bounds.x+r.bounds.w+30)+" "+c(r.bounds.y)+"] ")+" /Parent "+ee,r.open&&(o+=" /Open true"),o+=" >>",U.content=o,this.internal.write(P.objId,"0 R",U.objId,"0 R");break;case"freetext":s="/Rect ["+u(r.bounds.x)+" "+c(r.bounds.y)+" "+u(r.bounds.x+r.bounds.w)+" "+c(r.bounds.y+r.bounds.h)+"] ";var te=r.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+b(M(r.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+te+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(r.options.name){var ce=this.annotations._nameMap[r.options.name];r.options.pageNumber=ce.page,r.options.top=ce.y}else r.options.top||(r.options.top=0);if(s="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",o="",r.options.url)o="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+b(M(r.options.url))+") >>";else if(r.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,o+=" /FitV "+r.options.left+"]";break;default:var Ee=c(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),o+=" /XYZ "+r.options.left+" "+Ee+" "+r.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),n.createAnnotation=function(t){var r=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":r.pageContext.annotations.push(t)}},n.link=function(t,r,s,o,u){var c=this.internal.getCurrentPageInfo(),f=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;c.pageContext.annotations.push({finalBounds:{x:f(t),y:d(r),w:f(t+s),h:d(r+o)},options:u,type:"link"})},n.textWithLink=function(t,r,s,o){var u,c,f=this.getTextWidth(t),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){c=o.maxWidth;var g=this.splitTextToSize(t,c).length;u=Math.ceil(d*g)}else c=f,u=d;return this.text(t,r,s,o),s+=.2*d,o.align==="center"&&(r-=f/2),o.align==="right"&&(r-=f),this.link(r,s-d,c,u,o),f},n.getTextWidth=function(t){var r=this.internal.getFontSize();return this.getStringUnitWidth(t)*r/this.internal.scaleFactor}})(zt.API),(function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];n.__arabicParser__={};var o=n.__arabicParser__.isInArabicSubstitutionA=function(P){return e[P.charCodeAt(0)]!==void 0},u=n.__arabicParser__.isArabicLetter=function(P){return typeof P=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(P)},c=n.__arabicParser__.isArabicEndLetter=function(P){return u(P)&&o(P)&&e[P.charCodeAt(0)].length<=2},f=n.__arabicParser__.isArabicAlfLetter=function(P){return u(P)&&s.indexOf(P.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(P){return u(P)&&o(P)&&e[P.charCodeAt(0)].length>=1};var d=n.__arabicParser__.arabicLetterHasFinalForm=function(P){return u(P)&&o(P)&&e[P.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(P){return u(P)&&o(P)&&e[P.charCodeAt(0)].length>=3};var g=n.__arabicParser__.arabicLetterHasMedialForm=function(P){return u(P)&&o(P)&&e[P.charCodeAt(0)].length==4},w=n.__arabicParser__.resolveLigatures=function(P){var U=0,F=t,$="",ee=0;for(U=0;U<P.length;U+=1)F[P.charCodeAt(U)]!==void 0?(ee++,typeof(F=F[P.charCodeAt(U)])=="number"&&($+=String.fromCharCode(F),F=t,ee=0),U===P.length-1&&(F=t,$+=P.charAt(U-(ee-1)),U-=ee-1,ee=0)):(F=t,$+=P.charAt(U-ee),U-=ee,ee=0);return $};n.__arabicParser__.isArabicDiacritic=function(P){return P!==void 0&&r[P.charCodeAt(0)]!==void 0};var A=n.__arabicParser__.getCorrectForm=function(P,U,F){return u(P)?o(P)===!1?-1:!d(P)||!u(U)&&!u(F)||!u(F)&&c(U)||c(P)&&!u(U)||c(P)&&f(U)||c(P)&&c(U)?0:g(P)&&u(U)&&!c(U)&&u(F)&&d(F)?3:c(P)||!u(F)?1:2:-1},b=function(P){var U=0,F=0,$=0,ee="",te="",ce="",Ee=(P=P||"").split("\\s+"),O=[];for(U=0;U<Ee.length;U+=1){for(O.push(""),F=0;F<Ee[U].length;F+=1)ee=Ee[U][F],te=Ee[U][F-1],ce=Ee[U][F+1],u(ee)?($=A(ee,te,ce),O[U]+=$!==-1?String.fromCharCode(e[ee.charCodeAt(0)][$]):ee):O[U]+=ee;O[U]=w(O[U])}return O.join(" ")},M=n.__arabicParser__.processArabic=n.processArabic=function(){var P,U=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,F=[];if(Array.isArray(U)){var $=0;for(F=[],$=0;$<U.length;$+=1)Array.isArray(U[$])?F.push([b(U[$][0]),U[$][1],U[$][2]]):F.push([b(U[$])]);P=F}else P=b(U);return typeof arguments[0]=="string"?P:(arguments[0].text=P,arguments[0])};n.events.push(["preProcessText",M])})(zt.API),zt.API.autoPrint=function(n){var e;return(n=n||{}).variant=n.variant||"non-conform",n.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(c){t=c}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(c){r=isNaN(c)||Number.isInteger(c)===!1||c<0?150:c,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(c){s=isNaN(c)||Number.isInteger(c)===!1||c<0?300:c,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(c){o=c}});var u={};Object.defineProperty(this,"style",{get:function(){return u},set:function(c){u=c}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,r){var s;if((t=t||"2d")!=="2d")return null;for(s in r)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=r[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(zt.API),(function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var f=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return f},set:function(P){f=P}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(P){d=P}});var g=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return g},set:function(P){g=P}});var w=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return w},set:function(P){w=P}});var A=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return A},set:function(P){A=P}});var b=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return b},set:function(P){b=P}});var M=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return M},set:function(P){M=P}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(f){return r.call(this),this.internal.__cell__.headerFunction=typeof f=="function"?f:void 0,this},n.getTextDimensions=function(f,d){r.call(this);var g=(d=d||{}).fontSize||this.getFontSize(),w=d.font||this.getFont(),A=d.scaleFactor||this.internal.scaleFactor,b=0,M=0,P=0,U=this;if(!Array.isArray(f)&&typeof f!="string"){if(typeof f!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");f=String(f)}var F=d.maxWidth;F>0?typeof f=="string"?f=this.splitTextToSize(f,F):Object.prototype.toString.call(f)==="[object Array]"&&(f=f.reduce(function(ee,te){return ee.concat(U.splitTextToSize(te,F))},[])):f=Array.isArray(f)?f:[f];for(var $=0;$<f.length;$++)b<(P=this.getStringUnitWidth(f[$],{font:w})*g)&&(b=P);return b!==0&&(M=f.length),{w:b/=A,h:Math.max((M*g*this.getLineHeightFactor()-g*(this.getLineHeightFactor()-1))/A,0)}},n.cellAddPage=function(){r.call(this),this.addPage();var f=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new o(f.left,f.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var u=n.cell=function(){var f;f=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),r.call(this);var d=this.internal.__cell__.lastCell,g=this.internal.__cell__.padding,w=this.internal.__cell__.margins||e,A=this.internal.__cell__.tableHeaderRow,b=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===f.lineNumber?(f.x=(d.x||0)+(d.width||0),f.y=d.y||0):d.y+d.height+f.height+w.bottom>this.getPageHeight()?(this.cellAddPage(),f.y=w.top,b&&A&&(this.printHeaderRow(f.lineNumber,!0),f.y+=A[0].height)):f.y=d.y+d.height||f.y),f.text[0]!==void 0&&(this.rect(f.x,f.y,f.width,f.height,t===!0?"FD":void 0),f.align==="right"?this.text(f.text,f.x+f.width-g,f.y+g,{align:"right",baseline:"top"}):f.align==="center"?this.text(f.text,f.x+f.width/2,f.y+g,{align:"center",baseline:"top",maxWidth:f.width-g-g}):this.text(f.text,f.x+g,f.y+g,{align:"left",baseline:"top",maxWidth:f.width-g-g})),this.internal.__cell__.lastCell=f,this};n.table=function(f,d,g,w,A){if(r.call(this),!g)throw new Error("No data for PDF table.");var b,M,P,U,F=[],$=[],ee=[],te={},ce={},Ee=[],O=[],k=(A=A||{}).autoSize||!1,R=A.printHeaders!==!1,q=A.css&&A.css["font-size"]!==void 0?16*A.css["font-size"]:A.fontSize||12,T=A.margins||Object.assign({width:this.getPageWidth()},e),D=typeof A.padding=="number"?A.padding:3,j=A.headerBackgroundColor||"#c8c8c8",le=A.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=R,this.internal.__cell__.margins=T,this.internal.__cell__.table_font_size=q,this.internal.__cell__.padding=D,this.internal.__cell__.headerBackgroundColor=j,this.internal.__cell__.headerTextColor=le,this.setFontSize(q),w==null)$=F=Object.keys(g[0]),ee=F.map(function(){return"left"});else if(Array.isArray(w)&&_r(w[0])==="object")for(F=w.map(function(Fe){return Fe.name}),$=w.map(function(Fe){return Fe.prompt||Fe.name||""}),ee=w.map(function(Fe){return Fe.align||"left"}),b=0;b<w.length;b+=1)ce[w[b].name]=.7499990551181103*w[b].width;else Array.isArray(w)&&typeof w[0]=="string"&&($=F=w,ee=F.map(function(){return"left"}));if(k||Array.isArray(w)&&typeof w[0]=="string")for(b=0;b<F.length;b+=1){for(te[U=F[b]]=g.map(function(Fe){return Fe[U]}),this.setFont(void 0,"bold"),Ee.push(this.getTextDimensions($[b],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),M=te[U],this.setFont(void 0,"normal"),P=0;P<M.length;P+=1)Ee.push(this.getTextDimensions(M[P],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);ce[U]=Math.max.apply(null,Ee)+D+D,Ee=[]}if(R){var xe={};for(b=0;b<F.length;b+=1)xe[F[b]]={},xe[F[b]].text=$[b],xe[F[b]].align=ee[b];var re=c.call(this,xe,ce);O=F.map(function(Fe){return new o(f,d,ce[Fe],re,xe[Fe].text,void 0,xe[Fe].align)}),this.setTableHeaderRow(O),this.printHeaderRow(1,!1)}var me=w.reduce(function(Fe,Q){return Fe[Q.name]=Q.align,Fe},{});for(b=0;b<g.length;b+=1){"rowStart"in A&&A.rowStart instanceof Function&&A.rowStart({row:b,data:g[b]},this);var fe=c.call(this,g[b],ce);for(P=0;P<F.length;P+=1){var Ne=g[b][F[P]];"cellStart"in A&&A.cellStart instanceof Function&&A.cellStart({row:b,col:P,data:Ne},this),u.call(this,new o(f,d,ce[F[P]],fe,Ne,b+2,me[F[P]]))}}return this.internal.__cell__.table_x=f,this.internal.__cell__.table_y=d,this};var c=function(f,d){var g=this.internal.__cell__.padding,w=this.internal.__cell__.table_font_size,A=this.internal.scaleFactor;return Object.keys(f).map(function(b){var M=f[b];return this.splitTextToSize(M.hasOwnProperty("text")?M.text:M,d[b]-g-g)},this).map(function(b){return this.getLineHeightFactor()*b.length*w/A+g+g},this).reduce(function(b,M){return Math.max(b,M)},0)};n.setTableHeaderRow=function(f){r.call(this),this.internal.__cell__.tableHeaderRow=f},n.printHeaderRow=function(f,d){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var g;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var w=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(w[0],w[1],w[2],w[3],void 0,-1)}this.setFont(void 0,"bold");for(var A=[],b=0;b<this.internal.__cell__.tableHeaderRow.length;b+=1){g=this.internal.__cell__.tableHeaderRow[b].clone(),d&&(g.y=this.internal.__cell__.margins.top||0,A.push(g)),g.lineNumber=f;var M=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),u.call(this,g),this.setTextColor(M)}A.length>0&&this.setTableHeaderRow(A),this.setFont(void 0,"normal"),t=!1}})(zt.API);var uS={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},cS=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],h2=lS(cS),hS=[100,200,300,400,500,600,700,800,900],iP=lS(hS);function _0(n){var e=n.family.replace(/"|'/g,"").toLowerCase(),t=(function(o){return uS[o=o||"normal"]?o:"normal"})(n.style),r=(function(o){return o?typeof o=="number"?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):o==="bold"?700:400:400})(n.weight),s=(function(o){return typeof h2[o=o||"normal"]=="number"?o:"normal"})(n.stretch);return{family:e,style:t,weight:r,stretch:s,src:n.src||[],ref:n.ref||{name:e,style:[s,t,r].join(" ")}}}function Gw(n,e,t,r){var s;for(s=t;s>=0&&s<e.length;s+=r)if(n[e[s]])return n[e[s]];for(s=t;s>=0&&s<e.length;s-=r)if(n[e[s]])return n[e[s]]}var aP={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},$w={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Yw(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function Kw(n){return n.trimLeft()}function sP(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function oP(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],n.substring(e[0].length)]}var _h,Jp,Ww,Xw,Qw,w0=["times"];function Jw(n,e,t,r,s){var o=4,u=e4;switch(s){case zt.API.image_compression.FAST:o=1,u=Zw;break;case zt.API.image_compression.MEDIUM:o=6,u=t4;break;case zt.API.image_compression.SLOW:o=9,u=n4}n=(function(f,d,g,w){for(var A,b=f.length/d,M=new Uint8Array(f.length+b),P=[lP,Zw,e4,t4,n4],U=0;U<b;U+=1){var F=U*d,$=f.subarray(F,F+d);if(w)M.set(w($,g,A),F+U);else{for(var ee=P.length,te=[],ce=0;ce<ee;ce+=1)te[ce]=P[ce]($,g,A);var Ee=cP(te.concat());M.set(te[Ee],F+U)}A=$}return M})(n,e,Math.ceil(t*r/8),u);var c=i2(n,{level:o});return zt.API.__addimage__.arrayBufferToBinaryString(c)}function lP(n){var e=Array.apply([],n);return e.unshift(0),e}function Zw(n,e){var t=n.length,r=[];r[0]=1;for(var s=0;s<t;s+=1){var o=n[s-e]||0;r[s+1]=n[s]-o+256&255}return r}function e4(n,e,t){var r=n.length,s=[];s[0]=2;for(var o=0;o<r;o+=1){var u=t&&t[o]||0;s[o+1]=n[o]-u+256&255}return s}function t4(n,e,t){var r=n.length,s=[];s[0]=3;for(var o=0;o<r;o+=1){var u=n[o-e]||0,c=t&&t[o]||0;s[o+1]=n[o]+256-(u+c>>>1)&255}return s}function n4(n,e,t){var r=n.length,s=[];s[0]=4;for(var o=0;o<r;o+=1){var u=uP(n[o-e]||0,t&&t[o]||0,t&&t[o-e]||0);s[o+1]=n[o]-u+256&255}return s}function uP(n,e,t){if(n===e&&e===t)return n;var r=Math.abs(e-t),s=Math.abs(n-t),o=Math.abs(n+e-t-t);return r<=s&&r<=o?n:s<=o?e:t}function cP(n){var e=n.map(function(t){return t.reduce(function(r,s){return r+Math.abs(s)},0)});return e.indexOf(Math.min.apply(null,e))}function E0(n,e,t){var r=e*t,s=Math.floor(r/8),o=16-(r-8*s+t),u=(1<<t)-1;return fS(n,s)>>o&u}function r4(n,e,t,r){var s=t*r,o=Math.floor(s/8),u=16-(s-8*o+r),c=(1<<r)-1,f=(e&c)<<u;(function(d,g,w){if(g+1<d.byteLength)d.setUint16(g,w,!1);else{var A=w>>8&255;d.setUint8(g,A)}})(n,o,fS(n,o)&~(c<<u)&65535|f)}function fS(n,e){return e+1<n.byteLength?n.getUint16(e,!1):n.getUint8(e)<<8}function hP(n){var e=0;if(n[e++]!==71||n[e++]!==73||n[e++]!==70||n[e++]!==56||(n[e++]+1&253)!=56||n[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,r=n[e++]|n[e++]<<8,s=n[e++],o=s>>7,u=1<<1+(7&s);n[e++],n[e++];var c=null,f=null;o&&(c=e,f=u,e+=3*u);var d=!0,g=[],w=0,A=null,b=0,M=null;for(this.width=t,this.height=r;d&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(n[e]!==11||n[e+1]==78&&n[e+2]==69&&n[e+3]==84&&n[e+4]==83&&n[e+5]==67&&n[e+6]==65&&n[e+7]==80&&n[e+8]==69&&n[e+9]==50&&n[e+10]==46&&n[e+11]==48&&n[e+12]==3&&n[e+13]==1&&n[e+16]==0)e+=14,M=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((T=n[e++])>=0))throw Error("Invalid block size");if(T===0)break;e+=T}break;case 249:if(n[e++]!==4||n[e+4]!==0)throw new Error("Invalid graphics extension block.");var P=n[e++];w=n[e++]|n[e++]<<8,A=n[e++],1&P||(A=null),b=P>>2&7,e++;break;case 254:for(;;){if(!((T=n[e++])>=0))throw Error("Invalid block size");if(T===0)break;e+=T}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var U=n[e++]|n[e++]<<8,F=n[e++]|n[e++]<<8,$=n[e++]|n[e++]<<8,ee=n[e++]|n[e++]<<8,te=n[e++],ce=te>>6&1,Ee=1<<1+(7&te),O=c,k=f,R=!1;te>>7&&(R=!0,O=e,k=Ee,e+=3*Ee);var q=e;for(e++;;){var T;if(!((T=n[e++])>=0))throw Error("Invalid block size");if(T===0)break;e+=T}g.push({x:U,y:F,width:$,height:ee,has_local_palette:R,palette_offset:O,palette_size:k,data_offset:q,data_length:e-q,transparent_index:A,interlaced:!!ce,delay:w,disposal:b});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return g.length},this.loopCount=function(){return M},this.frameInfo=function(D){if(D<0||D>=g.length)throw new Error("Frame index out of range.");return g[D]},this.decodeAndBlitFrameBGRA=function(D,j){var le=this.frameInfo(D),xe=le.width*le.height;if(xe>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");var re=new Uint8Array(xe);i4(n,le.data_offset,re,xe);var me=le.palette_offset,fe=le.transparent_index;fe===null&&(fe=256);var Ne=le.width,Fe=t-Ne,Q=Ne,I=4*(le.y*t+le.x),K=4*((le.y+le.height)*t+le.x),J=I,oe=4*Fe;le.interlaced===!0&&(oe+=4*t*7);for(var he=8,be=0,Ie=re.length;be<Ie;++be){var De=re[be];if(Q===0&&(Q=Ne,(J+=oe)>=K&&(oe=4*Fe+4*t*(he-1),J=I+(Ne+Fe)*(he<<1),he>>=1)),De===fe)J+=4;else{var ze=n[me+3*De],tt=n[me+3*De+1],it=n[me+3*De+2];j[J++]=it,j[J++]=tt,j[J++]=ze,j[J++]=255}--Q}},this.decodeAndBlitFrameRGBA=function(D,j){var le=this.frameInfo(D),xe=le.width*le.height;if(xe>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");var re=new Uint8Array(xe);i4(n,le.data_offset,re,xe);var me=le.palette_offset,fe=le.transparent_index;fe===null&&(fe=256);var Ne=le.width,Fe=t-Ne,Q=Ne,I=4*(le.y*t+le.x),K=4*((le.y+le.height)*t+le.x),J=I,oe=4*Fe;le.interlaced===!0&&(oe+=4*t*7);for(var he=8,be=0,Ie=re.length;be<Ie;++be){var De=re[be];if(Q===0&&(Q=Ne,(J+=oe)>=K&&(oe=4*Fe+4*t*(he-1),J=I+(Ne+Fe)*(he<<1),he>>=1)),De===fe)J+=4;else{var ze=n[me+3*De],tt=n[me+3*De+1],it=n[me+3*De+2];j[J++]=ze,j[J++]=tt,j[J++]=it,j[J++]=255}--Q}}}function i4(n,e,t,r){for(var s=n[e++],o=1<<s,u=o+1,c=u+1,f=s+1,d=(1<<f)-1,g=0,w=0,A=0,b=n[e++],M=new Int32Array(4096),P=null;;){for(;g<16&&b!==0;)w|=n[e++]<<g,g+=8,b===1?b=n[e++]:--b;if(g<f)break;var U=w&d;if(w>>=f,g-=f,U!==o){if(U===u)break;for(var F=U<c?U:P,$=0,ee=F;ee>o;)ee=M[ee]>>8,++$;var te=ee;if(A+$+(F!==U?1:0)>r)return void Or.log("Warning, gif stream longer than expected.");t[A++]=te;var ce=A+=$;for(F!==U&&(t[A++]=te),ee=F;$--;)ee=M[ee],t[--ce]=255&ee,ee>>=8;P!==null&&c<4096&&(M[c++]=P<<8|te,c>=d+1&&f<12&&(++f,d=d<<1|1)),P=U}else c=u+1,d=(1<<(f=s+1))-1,P=null}return A!==r&&Or.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function A0(n){var e,t,r,s,o,u=Math.floor,c=new Array(64),f=new Array(64),d=new Array(64),g=new Array(64),w=new Array(65535),A=new Array(65535),b=new Array(64),M=new Array(64),P=[],U=0,F=7,$=new Array(64),ee=new Array(64),te=new Array(64),ce=new Array(256),Ee=new Array(2048),O=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],k=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],R=[0,1,2,3,4,5,6,7,8,9,10,11],q=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],T=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],D=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],j=[0,1,2,3,4,5,6,7,8,9,10,11],le=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],xe=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function re(I,K){for(var J=0,oe=0,he=new Array,be=1;be<=16;be++){for(var Ie=1;Ie<=I[be];Ie++)he[K[oe]]=[],he[K[oe]][0]=J,he[K[oe]][1]=be,oe++,J++;J*=2}return he}function me(I){for(var K=I[0],J=I[1]-1;J>=0;)K&1<<J&&(U|=1<<F),J--,--F<0&&(U==255?(fe(255),fe(0)):fe(U),F=7,U=0)}function fe(I){P.push(I)}function Ne(I){fe(I>>8&255),fe(255&I)}function Fe(I,K,J,oe,he){for(var be,Ie=he[0],De=he[240],ze=(function($e,pt){var ft,Vt,kt,Qt,rn,en,gn,$t,mt,an,xt=0;for(mt=0;mt<8;++mt){ft=$e[xt],Vt=$e[xt+1],kt=$e[xt+2],Qt=$e[xt+3],rn=$e[xt+4],en=$e[xt+5],gn=$e[xt+6];var ur=ft+($t=$e[xt+7]),fn=ft-$t,Et=Vt+gn,Yt=Vt-gn,on=kt+en,Ot=kt-en,Bn=Qt+rn,qt=Qt-rn,Ft=ur+Bn,zn=ur-Bn,Rt=Et+on,Lt=Et-on;$e[xt]=Ft+Rt,$e[xt+4]=Ft-Rt;var vn=.707106781*(Lt+zn);$e[xt+2]=zn+vn,$e[xt+6]=zn-vn;var hi=.382683433*((Ft=qt+Ot)-(Lt=Yt+fn)),Wr=.5411961*Ft+hi,Li=1.306562965*Lt+hi,Dr=.707106781*(Rt=Ot+Yt),Dt=fn+Dr,ka=fn-Dr;$e[xt+5]=ka+Wr,$e[xt+3]=ka-Wr,$e[xt+1]=Dt+Li,$e[xt+7]=Dt-Li,xt+=8}for(xt=0,mt=0;mt<8;++mt){ft=$e[xt],Vt=$e[xt+8],kt=$e[xt+16],Qt=$e[xt+24],rn=$e[xt+32],en=$e[xt+40],gn=$e[xt+48];var Ii=ft+($t=$e[xt+56]),ue=ft-$t,_e=Vt+gn,Te=Vt-gn,qe=kt+en,Ze=kt-en,ht=Qt+rn,dt=Qt-rn,rt=Ii+ht,st=Ii-ht,ct=_e+qe,Pt=_e-qe;$e[xt]=rt+ct,$e[xt+32]=rt-ct;var gt=.707106781*(Pt+st);$e[xt+16]=st+gt,$e[xt+48]=st-gt;var Jt=.382683433*((rt=dt+Ze)-(Pt=Te+ue)),sn=.5411961*rt+Jt,Pn=1.306562965*Pt+Jt,Zn=.707106781*(ct=Ze+Te),Xn=ue+Zn,cn=ue-Zn;$e[xt+40]=cn+sn,$e[xt+24]=cn-sn,$e[xt+8]=Xn+Pn,$e[xt+56]=Xn-Pn,xt++}for(mt=0;mt<64;++mt)an=$e[mt]*pt[mt],b[mt]=an>0?an+.5|0:an-.5|0;return b})(I,K),tt=0;tt<64;++tt)M[O[tt]]=ze[tt];var it=M[0]-J;J=M[0],it==0?me(oe[0]):(me(oe[A[be=32767+it]]),me(w[be]));for(var lt=63;lt>0&&M[lt]==0;)lt--;if(lt==0)return me(Ie),J;for(var bt,ne=1;ne<=lt;){for(var ot=ne;M[ne]==0&&ne<=lt;)++ne;var un=ne-ot;if(un>=16){bt=un>>4;for(var Ut=1;Ut<=bt;++Ut)me(De);un&=15}be=32767+M[ne],me(he[(un<<4)+A[be]]),me(w[be]),ne++}return lt!=63&&me(Ie),J}function Q(I){I=Math.min(Math.max(I,1),100),o!=I&&((function(K){for(var J=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],oe=0;oe<64;oe++){var he=u((J[oe]*K+50)/100);he=Math.min(Math.max(he,1),255),c[O[oe]]=he}for(var be=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Ie=0;Ie<64;Ie++){var De=u((be[Ie]*K+50)/100);De=Math.min(Math.max(De,1),255),f[O[Ie]]=De}for(var ze=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],tt=0,it=0;it<8;it++)for(var lt=0;lt<8;lt++)d[tt]=1/(c[O[tt]]*ze[it]*ze[lt]*8),g[tt]=1/(f[O[tt]]*ze[it]*ze[lt]*8),tt++})(I<50?Math.floor(5e3/I):Math.floor(200-2*I)),o=I)}this.encode=function(I,K){K&&Q(K),P=new Array,U=0,F=7,Ne(65496),Ne(65504),Ne(16),fe(74),fe(70),fe(73),fe(70),fe(0),fe(1),fe(1),fe(0),Ne(1),Ne(1),fe(0),fe(0),(function(){Ne(65499),Ne(132),fe(0);for(var Vt=0;Vt<64;Vt++)fe(c[Vt]);fe(1);for(var kt=0;kt<64;kt++)fe(f[kt])})(),(function(Vt,kt){Ne(65472),Ne(17),fe(8),Ne(kt),Ne(Vt),fe(3),fe(1),fe(17),fe(0),fe(2),fe(17),fe(1),fe(3),fe(17),fe(1)})(I.width,I.height),(function(){Ne(65476),Ne(418),fe(0);for(var Vt=0;Vt<16;Vt++)fe(k[Vt+1]);for(var kt=0;kt<=11;kt++)fe(R[kt]);fe(16);for(var Qt=0;Qt<16;Qt++)fe(q[Qt+1]);for(var rn=0;rn<=161;rn++)fe(T[rn]);fe(1);for(var en=0;en<16;en++)fe(D[en+1]);for(var gn=0;gn<=11;gn++)fe(j[gn]);fe(17);for(var $t=0;$t<16;$t++)fe(le[$t+1]);for(var mt=0;mt<=161;mt++)fe(xe[mt])})(),Ne(65498),Ne(12),fe(3),fe(1),fe(0),fe(2),fe(17),fe(3),fe(17),fe(0),fe(63),fe(0);var J=0,oe=0,he=0;U=0,F=7,this.encode.displayName="_encode_";for(var be,Ie,De,ze,tt,it,lt,bt,ne,ot=I.data,un=I.width,Ut=I.height,$e=4*un,pt=0;pt<Ut;){for(be=0;be<$e;){for(tt=$e*pt+be,lt=-1,bt=0,ne=0;ne<64;ne++)it=tt+(bt=ne>>3)*$e+(lt=4*(7&ne)),pt+bt>=Ut&&(it-=$e*(pt+1+bt-Ut)),be+lt>=$e&&(it-=be+lt-$e+4),Ie=ot[it++],De=ot[it++],ze=ot[it++],$[ne]=(Ee[Ie]+Ee[De+256|0]+Ee[ze+512|0]>>16)-128,ee[ne]=(Ee[Ie+768|0]+Ee[De+1024|0]+Ee[ze+1280|0]>>16)-128,te[ne]=(Ee[Ie+1280|0]+Ee[De+1536|0]+Ee[ze+1792|0]>>16)-128;J=Fe($,d,J,e,r),oe=Fe(ee,g,oe,t,s),he=Fe(te,g,he,t,s),be+=32}pt+=8}if(F>=0){var ft=[];ft[1]=F+1,ft[0]=(1<<F+1)-1,me(ft)}return Ne(65497),new Uint8Array(P)},n=n||50,(function(){for(var I=String.fromCharCode,K=0;K<256;K++)ce[K]=I(K)})(),e=re(k,R),t=re(D,j),r=re(q,T),s=re(le,xe),(function(){for(var I=1,K=2,J=1;J<=15;J++){for(var oe=I;oe<K;oe++)A[32767+oe]=J,w[32767+oe]=[],w[32767+oe][1]=J,w[32767+oe][0]=oe;for(var he=-(K-1);he<=-I;he++)A[32767+he]=J,w[32767+he]=[],w[32767+he][1]=J,w[32767+he][0]=K-1+he;I<<=1,K<<=1}})(),(function(){for(var I=0;I<256;I++)Ee[I]=19595*I,Ee[I+256|0]=38470*I,Ee[I+512|0]=7471*I+32768,Ee[I+768|0]=-11059*I,Ee[I+1024|0]=-21709*I,Ee[I+1280|0]=32768*I+8421375,Ee[I+1536|0]=-27439*I,Ee[I+1792|0]=-5329*I})(),Q(n)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function vo(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function a4(n){function e(R){if(!R)throw Error("assert :P")}function t(R,q,T){for(var D=0;4>D;D++)if(R[q+D]!=T.charCodeAt(D))return!0;return!1}function r(R,q,T,D,j){for(var le=0;le<j;le++)R[q+le]=T[D+le]}function s(R,q,T,D){for(var j=0;j<D;j++)R[q+j]=T}function o(R){return new Int32Array(R)}function u(R,q){for(var T=[],D=0;D<R;D++)T.push(new q);return T}function c(R,q){var T=[];return(function D(j,le,xe){for(var re=xe[le],me=0;me<re&&(j.push(xe.length>le+1?[]:new q),!(xe.length<le+1));me++)D(j[me],le+1,xe)})(T,0,R),T}var f=function(){var R=this;function q(p,v){for(var S=1<<v-1>>>0;p&S;)S>>>=1;return S?(p&S-1)+S:p}function T(p,v,S,N,z){e(!(N%S));do p[v+(N-=S)]=z;while(0<N)}function D(p,v,S,N,z){if(e(2328>=z),512>=z)var H=o(512);else if((H=o(z))==null)return 0;return(function(G,W,Z,se,ye,ke){var ie,we,Re=W,Be=1<<Z,Le=o(16),Ve=o(16);for(e(ye!=0),e(se!=null),e(G!=null),e(0<Z),we=0;we<ye;++we){if(15<se[we])return 0;++Le[se[we]]}if(Le[0]==ye)return 0;for(Ve[1]=0,ie=1;15>ie;++ie){if(Le[ie]>1<<ie)return 0;Ve[ie+1]=Ve[ie]+Le[ie]}for(we=0;we<ye;++we)ie=se[we],0<se[we]&&(ke[Ve[ie]++]=we);if(Ve[15]==1)return(se=new j).g=0,se.value=ke[0],T(G,Re,1,Be,se),Be;var Ye,nt=-1,Xe=Be-1,Nt=0,yt=1,dn=1,At=1<<Z;for(we=0,ie=1,ye=2;ie<=Z;++ie,ye<<=1){if(yt+=dn<<=1,0>(dn-=Le[ie]))return 0;for(;0<Le[ie];--Le[ie])(se=new j).g=ie,se.value=ke[we++],T(G,Re+Nt,ye,At,se),Nt=q(Nt,ie)}for(ie=Z+1,ye=2;15>=ie;++ie,ye<<=1){if(yt+=dn<<=1,0>(dn-=Le[ie]))return 0;for(;0<Le[ie];--Le[ie]){if(se=new j,(Nt&Xe)!=nt){for(Re+=At,Ye=1<<(nt=ie)-Z;15>nt&&!(0>=(Ye-=Le[nt]));)++nt,Ye<<=1;Be+=At=1<<(Ye=nt-Z),G[W+(nt=Nt&Xe)].g=Ye+Z,G[W+nt].value=Re-W-nt}se.g=ie-Z,se.value=ke[we++],T(G,Re+(Nt>>Z),ye,At,se),Nt=q(Nt,ie)}}return yt!=2*Ve[15]-1?0:Be})(p,v,S,N,z,H)}function j(){this.value=this.g=0}function le(){this.value=this.g=0}function xe(){this.G=u(5,j),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=u(Do,le)}function re(p,v,S,N){e(p!=null),e(v!=null),e(2147483648>N),p.Ca=254,p.I=0,p.b=-8,p.Ka=0,p.oa=v,p.pa=S,p.Jd=v,p.Yc=S+N,p.Zc=4<=N?S+N-4+1:S,Ie(p)}function me(p,v){for(var S=0;0<v--;)S|=ze(p,128)<<v;return S}function fe(p,v){var S=me(p,v);return De(p)?-S:S}function Ne(p,v,S,N){var z,H=0;for(e(p!=null),e(v!=null),e(4294967288>N),p.Sb=N,p.Ra=0,p.u=0,p.h=0,4<N&&(N=4),z=0;z<N;++z)H+=v[S+z]<<8*z;p.Ra=H,p.bb=N,p.oa=v,p.pa=S}function Fe(p){for(;8<=p.u&&p.bb<p.Sb;)p.Ra>>>=8,p.Ra+=p.oa[p.pa+p.bb]<<Ds-8>>>0,++p.bb,p.u-=8;oe(p)&&(p.h=1,p.u=0)}function Q(p,v){if(e(0<=v),!p.h&&v<=ca){var S=J(p)&ba[v];return p.u+=v,Fe(p),S}return p.h=1,p.u=0}function I(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function K(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function J(p){return p.Ra>>>(p.u&Ds-1)>>>0}function oe(p){return e(p.bb<=p.Sb),p.h||p.bb==p.Sb&&p.u>Ds}function he(p,v){p.u=v,p.h=oe(p)}function be(p){p.u>=Ps&&(e(p.u>=Ps),Fe(p))}function Ie(p){e(p!=null&&p.oa!=null),p.pa<p.Zc?(p.I=(p.oa[p.pa++]|p.I<<8)>>>0,p.b+=8):(e(p!=null&&p.oa!=null),p.pa<p.Yc?(p.b+=8,p.I=p.oa[p.pa++]|p.I<<8):p.Ka?p.b=0:(p.I<<=8,p.b+=8,p.Ka=1))}function De(p){return me(p,1)}function ze(p,v){var S=p.Ca;0>p.b&&Ie(p);var N=p.b,z=S*v>>>8,H=(p.I>>>N>z)+0;for(H?(S-=z,p.I-=z+1<<N>>>0):S=z+1,N=S,z=0;256<=N;)z+=8,N>>=8;return N=7^z+io[N],p.b-=N,p.Ca=(S<<N)-1,H}function tt(p,v,S){p[v+0]=S>>24&255,p[v+1]=S>>16&255,p[v+2]=S>>8&255,p[v+3]=255&S}function it(p,v){return p[v+0]|p[v+1]<<8}function lt(p,v){return it(p,v)|p[v+2]<<16}function bt(p,v){return it(p,v)|it(p,v+2)<<16}function ne(p,v){var S=1<<v;return e(p!=null),e(0<v),p.X=o(S),p.X==null?0:(p.Mb=32-v,p.Xa=v,1)}function ot(p,v){e(p!=null),e(v!=null),e(p.Xa==v.Xa),r(v.X,0,p.X,0,1<<v.Xa)}function un(){this.X=[],this.Xa=this.Mb=0}function Ut(p,v,S,N){e(S!=null),e(N!=null);var z=S[0],H=N[0];return z==0&&(z=(p*H+v/2)/v),H==0&&(H=(v*z+p/2)/p),0>=z||0>=H?0:(S[0]=z,N[0]=H,1)}function $e(p,v){return p+(1<<v)-1>>>v}function pt(p,v){return((4278255360&p)+(4278255360&v)>>>0&4278255360)+((16711935&p)+(16711935&v)>>>0&16711935)>>>0}function ft(p,v){R[v]=function(S,N,z,H,G,W,Z){var se;for(se=0;se<G;++se){var ye=R[p](W[Z+se-1],z,H+se);W[Z+se]=pt(S[N+se],ye)}}}function Vt(){this.ud=this.hd=this.jd=0}function kt(p,v){return((4278124286&(p^v))>>>1)+(p&v)>>>0}function Qt(p){return 0<=p&&256>p?p:0>p?0:255<p?255:void 0}function rn(p,v){return Qt(p+(p-v+.5>>1))}function en(p,v,S){return Math.abs(v-S)-Math.abs(p-S)}function gn(p,v,S,N,z,H,G){for(N=H[G-1],S=0;S<z;++S)H[G+S]=N=pt(p[v+S],N)}function $t(p,v,S,N,z){var H;for(H=0;H<S;++H){var G=p[v+H],W=G>>8&255,Z=16711935&(Z=(Z=16711935&G)+((W<<16)+W));N[z+H]=(4278255360&G)+Z>>>0}}function mt(p,v){v.jd=255&p,v.hd=p>>8&255,v.ud=p>>16&255}function an(p,v,S,N,z,H){var G;for(G=0;G<N;++G){var W=v[S+G],Z=W>>>8,se=W,ye=255&(ye=(ye=W>>>16)+((p.jd<<24>>24)*(Z<<24>>24)>>>5));se=255&(se=(se+=(p.hd<<24>>24)*(Z<<24>>24)>>>5)+((p.ud<<24>>24)*(ye<<24>>24)>>>5)),z[H+G]=(4278255360&W)+(ye<<16)+se}}function xt(p,v,S,N,z){R[v]=function(H,G,W,Z,se,ye,ke,ie,we){for(Z=ke;Z<ie;++Z)for(ke=0;ke<we;++ke)se[ye++]=z(W[N(H[G++])])},R[p]=function(H,G,W,Z,se,ye,ke){var ie=8>>H.b,we=H.Ea,Re=H.K[0],Be=H.w;if(8>ie)for(H=(1<<H.b)-1,Be=(1<<ie)-1;G<W;++G){var Le,Ve=0;for(Le=0;Le<we;++Le)Le&H||(Ve=N(Z[se++])),ye[ke++]=z(Re[Ve&Be]),Ve>>=ie}else R["VP8LMapColor"+S](Z,se,Re,Be,ye,ke,G,W,we)}}function ur(p,v,S,N,z){for(S=v+S;v<S;){var H=p[v++];N[z++]=H>>16&255,N[z++]=H>>8&255,N[z++]=255&H}}function fn(p,v,S,N,z){for(S=v+S;v<S;){var H=p[v++];N[z++]=H>>16&255,N[z++]=H>>8&255,N[z++]=255&H,N[z++]=H>>24&255}}function Et(p,v,S,N,z){for(S=v+S;v<S;){var H=(G=p[v++])>>16&240|G>>12&15,G=240&G|G>>28&15;N[z++]=H,N[z++]=G}}function Yt(p,v,S,N,z){for(S=v+S;v<S;){var H=(G=p[v++])>>16&248|G>>13&7,G=G>>5&224|G>>3&31;N[z++]=H,N[z++]=G}}function on(p,v,S,N,z){for(S=v+S;v<S;){var H=p[v++];N[z++]=255&H,N[z++]=H>>8&255,N[z++]=H>>16&255}}function Ot(p,v,S,N,z,H){if(H==0)for(S=v+S;v<S;)tt(N,((H=p[v++])[0]>>24|H[1]>>8&65280|H[2]<<8&16711680|H[3]<<24)>>>0),z+=32;else r(N,z,p,v,S)}function Bn(p,v){R[v][0]=R[p+"0"],R[v][1]=R[p+"1"],R[v][2]=R[p+"2"],R[v][3]=R[p+"3"],R[v][4]=R[p+"4"],R[v][5]=R[p+"5"],R[v][6]=R[p+"6"],R[v][7]=R[p+"7"],R[v][8]=R[p+"8"],R[v][9]=R[p+"9"],R[v][10]=R[p+"10"],R[v][11]=R[p+"11"],R[v][12]=R[p+"12"],R[v][13]=R[p+"13"],R[v][14]=R[p+"0"],R[v][15]=R[p+"0"]}function qt(p){return p==rc||p==qc||p==tu||p==Hc}function Ft(){this.eb=[],this.size=this.A=this.fb=0}function zn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Rt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ft,this.f.kb=new zn,this.sd=null}function Lt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function vn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function hi(p){return alert("todo:WebPSamplerProcessPlane"),p.T}function Wr(p,v){var S=p.T,N=v.ba.f.RGBA,z=N.eb,H=N.fb+p.ka*N.A,G=Bi[v.ba.S],W=p.y,Z=p.O,se=p.f,ye=p.N,ke=p.ea,ie=p.W,we=v.cc,Re=v.dc,Be=v.Mc,Le=v.Nc,Ve=p.ka,Ye=p.ka+p.T,nt=p.U,Xe=nt+1>>1;for(Ve==0?G(W,Z,null,null,se,ye,ke,ie,se,ye,ke,ie,z,H,null,null,nt):(G(v.ec,v.fc,W,Z,we,Re,Be,Le,se,ye,ke,ie,z,H-N.A,z,H,nt),++S);Ve+2<Ye;Ve+=2)we=se,Re=ye,Be=ke,Le=ie,ye+=p.Rc,ie+=p.Rc,H+=2*N.A,G(W,(Z+=2*p.fa)-p.fa,W,Z,we,Re,Be,Le,se,ye,ke,ie,z,H-N.A,z,H,nt);return Z+=p.fa,p.j+Ye<p.o?(r(v.ec,v.fc,W,Z,nt),r(v.cc,v.dc,se,ye,Xe),r(v.Mc,v.Nc,ke,ie,Xe),S--):1&Ye||G(W,Z,null,null,se,ye,ke,ie,se,ye,ke,ie,z,H+N.A,null,null,nt),S}function Li(p,v,S){var N=p.F,z=[p.J];if(N!=null){var H=p.U,G=v.ba.S,W=G==nc||G==tu;v=v.ba.f.RGBA;var Z=[0],se=p.ka;Z[0]=p.T,p.Kb&&(se==0?--Z[0]:(--se,z[0]-=p.width),p.j+p.ka+p.T==p.o&&(Z[0]=p.o-p.j-se));var ye=v.eb;se=v.fb+se*v.A,p=Ju(N,z[0],p.width,H,Z,ye,se+(W?0:3),v.A),e(S==Z),p&&qt(G)&&vl(ye,se,W,H,Z,v.A)}return 0}function Dr(p){var v=p.ma,S=v.ba.S,N=11>S,z=S==Zi||S==Xa||S==nc||S==eu||S==12||qt(S);if(v.memory=null,v.Ib=null,v.Jb=null,v.Nd=null,!ro(v.Oa,p,z?11:12))return 0;if(z&&qt(S)&&hn(),p.da)alert("todo:use_scaling");else{if(N){if(v.Ib=hi,p.Kb){if(S=p.U+1>>1,v.memory=o(p.U+2*S),v.memory==null)return 0;v.ec=v.memory,v.fc=0,v.cc=v.ec,v.dc=v.fc+p.U,v.Mc=v.cc,v.Nc=v.dc+S,v.Ib=Wr,hn()}}else alert("todo:EmitYUV");z&&(v.Jb=Li,N&&Me())}if(N&&!Bo){for(p=0;256>p;++p)zi[p]=89858*(p-128)+iu>>ns,vg[p]=-22014*(p-128)+iu,Wd[p]=-45773*(p-128),Wc[p]=113618*(p-128)+iu>>ns;for(p=El;p<Vo;++p)v=76283*(p-16)+iu>>ns,bg[p-El]=Gn(v,255),_g[p-El]=Gn(v+8>>4,15);Bo=1}return 1}function Dt(p){var v=p.ma,S=p.U,N=p.T;return e(!(1&p.ka)),0>=S||0>=N?0:(S=v.Ib(p,v),v.Jb!=null&&v.Jb(p,v,S),v.Dc+=S,1)}function ka(p){p.ma.memory=null}function Ii(p,v,S,N){return Q(p,8)!=47?0:(v[0]=Q(p,14)+1,S[0]=Q(p,14)+1,N[0]=Q(p,1),Q(p,3)!=0?0:!p.h)}function ue(p,v){if(4>p)return p+1;var S=p-2>>1;return(2+(1&p)<<S)+Q(v,S)+1}function _e(p,v){return 120<v?v-120:1<=(S=((S=Ja[v-1])>>4)*p+(8-(15&S)))?S:1;var S}function Te(p,v,S){var N=J(S),z=p[v+=255&N].g-8;return 0<z&&(he(S,S.u+8),N=J(S),v+=p[v].value,v+=N&(1<<z)-1),he(S,S.u+p[v].g),p[v].value}function qe(p,v,S){return S.g+=p.g,S.value+=p.value<<v>>>0,e(8>=S.g),p.g}function Ze(p,v,S){var N=p.xc;return e((v=N==0?0:p.vc[p.md*(S>>N)+(v>>N)])<p.Wb),p.Ya[v]}function ht(p,v,S,N){var z=p.ab,H=p.c*v,G=p.C;v=G+v;var W=S,Z=N;for(N=p.Ta,S=p.Ua;0<z--;){var se=p.gc[z],ye=G,ke=v,ie=W,we=Z,Re=(Z=N,W=S,se.Ea);switch(e(ye<ke),e(ke<=se.nc),se.hc){case 2:Jr(ie,we,(ke-ye)*Re,Z,W);break;case 0:var Be=ye,Le=ke,Ve=Z,Ye=W,nt=(At=se).Ea;Be==0&&(Xl(ie,we,null,null,1,Ve,Ye),gn(ie,we+1,0,0,nt-1,Ve,Ye+1),we+=nt,Ye+=nt,++Be);for(var Xe=1<<At.b,Nt=Xe-1,yt=$e(nt,At.b),dn=At.K,At=At.w+(Be>>At.b)*yt;Be<Le;){var In=dn,Ir=At,bn=1;for(Ql(ie,we,Ve,Ye-nt,1,Ve,Ye);bn<nt;){var vt=(bn&~Nt)+Xe;vt>nt&&(vt=nt),(0,ao[In[Ir++]>>8&15])(ie,we+ +bn,Ve,Ye+bn-nt,vt-bn,Ve,Ye+bn),bn=vt}we+=nt,Ye+=nt,++Be&Nt||(At+=yt)}ke!=se.nc&&r(Z,W-Re,Z,W+(ke-ye-1)*Re,Re);break;case 1:for(Re=ie,Le=we,nt=(ie=se.Ea)-(Ye=ie&~(Ve=(we=1<<se.b)-1)),Be=$e(ie,se.b),Xe=se.K,se=se.w+(ye>>se.b)*Be;ye<ke;){for(Nt=Xe,yt=se,dn=new Vt,At=Le+Ye,In=Le+ie;Le<At;)mt(Nt[yt++],dn),Jl(dn,Re,Le,we,Z,W),Le+=we,W+=we;Le<In&&(mt(Nt[yt++],dn),Jl(dn,Re,Le,nt,Z,W),Le+=nt,W+=nt),++ye&Ve||(se+=Be)}break;case 3:if(ie==Z&&we==W&&0<se.b){for(Le=Z,ie=Re=W+(ke-ye)*Re-(Ye=(ke-ye)*$e(se.Ea,se.b)),we=Z,Ve=W,Be=[],Ye=(nt=Ye)-1;0<=Ye;--Ye)Be[Ye]=we[Ve+Ye];for(Ye=nt-1;0<=Ye;--Ye)Le[ie+Ye]=Be[Ye];Uc(se,ye,ke,Z,Re,Z,W)}else Uc(se,ye,ke,ie,we,Z,W)}W=N,Z=S}Z!=S&&r(N,S,W,Z,H)}function dt(p,v){var S=p.V,N=p.Ba+p.c*p.C,z=v-p.C;if(e(v<=p.l.o),e(16>=z),0<z){var H=p.l,G=p.Ta,W=p.Ua,Z=H.width;if(ht(p,z,S,N),z=W=[W],e((S=p.C)<(N=v)),e(H.v<H.va),N>H.o&&(N=H.o),S<H.j){var se=H.j-S;S=H.j,z[0]+=se*Z}if(S>=N?S=0:(z[0]+=4*H.v,H.ka=S-H.j,H.U=H.va-H.v,H.T=N-S,S=1),S){if(W=W[0],11>(S=p.ca).S){var ye=S.f.RGBA,ke=(N=S.S,z=H.U,H=H.T,se=ye.eb,ye.A),ie=H;for(ye=ye.fb+p.Ma*ye.A;0<ie--;){var we=G,Re=W,Be=z,Le=se,Ve=ye;switch(N){case Bc:Zl(we,Re,Be,Le,Ve);break;case Zi:so(we,Re,Be,Le,Ve);break;case rc:so(we,Re,Be,Le,Ve),vl(Le,Ve,0,Be,1,0);break;case zc:gl(we,Re,Be,Le,Ve);break;case Xa:Ot(we,Re,Be,Le,Ve,1);break;case qc:Ot(we,Re,Be,Le,Ve,1),vl(Le,Ve,0,Be,1,0);break;case nc:Ot(we,Re,Be,Le,Ve,0);break;case tu:Ot(we,Re,Be,Le,Ve,0),vl(Le,Ve,1,Be,1,0);break;case eu:oo(we,Re,Be,Le,Ve);break;case Hc:oo(we,Re,Be,Le,Ve),Wa(Le,Ve,Be,1,0);break;case Po:Us(we,Re,Be,Le,Ve);break;default:e(0)}W+=Z,ye+=ke}p.Ma+=H}else alert("todo:EmitRescaledRowsYUVA");e(p.Ma<=S.height)}}p.C=v,e(p.C<=p.i)}function rt(p){var v;if(0<p.ua)return 0;for(v=0;v<p.Wb;++v){var S=p.Ya[v].G,N=p.Ya[v].H;if(0<S[1][N[1]+0].g||0<S[2][N[2]+0].g||0<S[3][N[3]+0].g)return 0}return 1}function st(p,v,S,N,z,H){if(p.Z!=0){var G=p.qd,W=p.rd;for(e(co[p.Z]!=null);v<S;++v)co[p.Z](G,W,N,z,N,z,H),G=N,W=z,z+=H;p.qd=G,p.rd=W}}function ct(p,v){var S=p.l.ma,N=S.Z==0||S.Z==1?p.l.j:p.C;if(N=p.C<N?N:p.C,e(v<=p.l.o),v>N){var z=p.l.width,H=S.ca,G=S.tb+z*N,W=p.V,Z=p.Ba+p.c*N,se=p.gc;e(p.ab==1),e(se[0].hc==3),js(se[0],N,v,W,Z,H,G),st(S,N,v,H,G,z)}p.C=p.Ma=v}function Pt(p,v,S,N,z,H,G){var W=p.$/N,Z=p.$%N,se=p.m,ye=p.s,ke=S+p.$,ie=ke;z=S+N*z;var we=S+N*H,Re=280+ye.ua,Be=p.Pb?W:16777216,Le=0<ye.ua?ye.Wa:null,Ve=ye.wc,Ye=ke<we?Ze(ye,Z,W):null;e(p.C<H),e(we<=z);var nt=!1;e:for(;;){for(;nt||ke<we;){var Xe=0;if(W>=Be){var Nt=ke-S;e((Be=p).Pb),Be.wd=Be.m,Be.xd=Nt,0<Be.s.ua&&ot(Be.s.Wa,Be.s.vb),Be=W+Mo}if(Z&Ve||(Ye=Ze(ye,Z,W)),e(Ye!=null),Ye.Qb&&(v[ke]=Ye.qb,nt=!0),!nt)if(be(se),Ye.jc){Xe=se,Nt=v;var yt=ke,dn=Ye.pd[J(Xe)&Do-1];e(Ye.jc),256>dn.g?(he(Xe,Xe.u+dn.g),Nt[yt]=dn.value,Xe=0):(he(Xe,Xe.u+dn.g-256),e(256<=dn.value),Xe=dn.value),Xe==0&&(nt=!0)}else Xe=Te(Ye.G[0],Ye.H[0],se);if(se.h)break;if(nt||256>Xe){if(!nt)if(Ye.nd)v[ke]=(Ye.qb|Xe<<8)>>>0;else{if(be(se),nt=Te(Ye.G[1],Ye.H[1],se),be(se),Nt=Te(Ye.G[2],Ye.H[2],se),yt=Te(Ye.G[3],Ye.H[3],se),se.h)break;v[ke]=(yt<<24|nt<<16|Xe<<8|Nt)>>>0}if(nt=!1,++ke,++Z>=N&&(Z=0,++W,G!=null&&W<=H&&!(W%16)&&G(p,W),Le!=null))for(;ie<ke;)Xe=v[ie++],Le.X[(506832829*Xe&4294967295)>>>Le.Mb]=Xe}else if(280>Xe){if(Xe=ue(Xe-256,se),Nt=Te(Ye.G[4],Ye.H[4],se),be(se),Nt=_e(N,Nt=ue(Nt,se)),se.h)break;if(ke-S<Nt||z-ke<Xe)break e;for(yt=0;yt<Xe;++yt)v[ke+yt]=v[ke+yt-Nt];for(ke+=Xe,Z+=Xe;Z>=N;)Z-=N,++W,G!=null&&W<=H&&!(W%16)&&G(p,W);if(e(ke<=z),Z&Ve&&(Ye=Ze(ye,Z,W)),Le!=null)for(;ie<ke;)Xe=v[ie++],Le.X[(506832829*Xe&4294967295)>>>Le.Mb]=Xe}else{if(!(Xe<Re))break e;for(nt=Xe-280,e(Le!=null);ie<ke;)Xe=v[ie++],Le.X[(506832829*Xe&4294967295)>>>Le.Mb]=Xe;Xe=ke,e(!(nt>>>(Nt=Le).Xa)),v[Xe]=Nt.X[nt],nt=!0}nt||e(se.h==oe(se))}if(p.Pb&&se.h&&ke<z)e(p.m.h),p.a=5,p.m=p.wd,p.$=p.xd,0<p.s.ua&&ot(p.s.vb,p.s.Wa);else{if(se.h)break e;G!=null&&G(p,W>H?H:W),p.a=0,p.$=ke-S}return 1}return p.a=3,0}function gt(p){e(p!=null),p.vc=null,p.yc=null,p.Ya=null;var v=p.Wa;v!=null&&(v.X=null),p.vb=null,e(p!=null)}function Jt(){var p=new Kt;return p==null?null:(p.a=0,p.xb=lf,Bn("Predictor","VP8LPredictors"),Bn("Predictor","VP8LPredictors_C"),Bn("PredictorAdd","VP8LPredictorsAdd"),Bn("PredictorAdd","VP8LPredictorsAdd_C"),Jr=$t,Jl=an,Zl=ur,so=fn,oo=Et,Us=Yt,gl=on,R.VP8LMapColor32b=Ms,R.VP8LMapColor8b=Ui,p)}function sn(p,v,S,N,z){var H=1,G=[p],W=[v],Z=N.m,se=N.s,ye=null,ke=0;e:for(;;){if(S)for(;H&&Q(Z,1);){var ie=G,we=W,Re=N,Be=1,Le=Re.m,Ve=Re.gc[Re.ab],Ye=Q(Le,2);if(Re.Oc&1<<Ye)H=0;else{switch(Re.Oc|=1<<Ye,Ve.hc=Ye,Ve.Ea=ie[0],Ve.nc=we[0],Ve.K=[null],++Re.ab,e(4>=Re.ab),Ye){case 0:case 1:Ve.b=Q(Le,3)+2,Be=sn($e(Ve.Ea,Ve.b),$e(Ve.nc,Ve.b),0,Re,Ve.K),Ve.K=Ve.K[0];break;case 3:var nt,Xe=Q(Le,8)+1,Nt=16<Xe?0:4<Xe?1:2<Xe?2:3;if(ie[0]=$e(Ve.Ea,Nt),Ve.b=Nt,nt=Be=sn(Xe,1,0,Re,Ve.K)){var yt,dn=Xe,At=Ve,In=1<<(8>>At.b),Ir=o(In);if(Ir==null)nt=0;else{var bn=At.K[0],vt=At.w;for(Ir[0]=At.K[0][0],yt=1;yt<1*dn;++yt)Ir[yt]=pt(bn[vt+yt],Ir[yt-1]);for(;yt<4*In;++yt)Ir[yt]=0;At.K[0]=null,At.K[0]=Ir,nt=1}}Be=nt;break;case 2:break;default:e(0)}H=Be}}if(G=G[0],W=W[0],H&&Q(Z,1)&&!(H=1<=(ke=Q(Z,4))&&11>=ke)){N.a=3;break e}var ut;if(ut=H)t:{var Pr,tn,Sn,sr=N,mi=G,qi=W,Sr=ke,ii=S,ea=sr.m,ai=sr.s,Nn=[null],$n=1,Mr=0,Jn=Za[Sr];n:for(;;){if(ii&&Q(ea,1)){var gi=Q(ea,3)+2,jr=$e(mi,gi),Yn=$e(qi,gi),ti=jr*Yn;if(!sn(jr,Yn,0,sr,Nn))break n;for(Nn=Nn[0],ai.xc=gi,Pr=0;Pr<ti;++Pr){var or=Nn[Pr]>>8&65535;Nn[Pr]=or,or>=$n&&($n=or+1)}}if(ea.h)break n;for(tn=0;5>tn;++tn){var si=_l[tn];!tn&&0<Sr&&(si+=1<<Sr),Mr<si&&(Mr=si)}var oi=u($n*Jn,j),mr=$n,Hn=u(mr,xe);if(Hn==null)var ta=null;else e(65536>=mr),ta=Hn;var Gr=o(Mr);if(ta==null||Gr==null||oi==null){sr.a=1;break n}var Gt=oi;for(Pr=Sn=0;Pr<$n;++Pr){var Wt=ta[Pr],Kn=Wt.G,_a=Wt.H,rs=0,fa=1,li=0;for(tn=0;5>tn;++tn){si=_l[tn],Kn[tn]=Gt,_a[tn]=Sn,!tn&&0<Sr&&(si+=1<<Sr);i:{var zo,qo=si,Qc=sr,xr=Gr,cf=Gt,hf=Sn,Jc=0,ho=Qc.m,wg=Q(ho,1);if(s(xr,0,0,qo),wg){var ff=Q(ho,1)+1,df=Q(ho,1),Zc=Q(ho,df==0?1:8);xr[Zc]=1,ff==2&&(xr[Zc=Q(ho,8)]=1);var xi=1}else{var $r=o(19),oc=Q(ho,4)+4;if(19<oc){Qc.a=3;var Ho=0;break i}for(zo=0;zo<oc;++zo)$r[ic[zo]]=Q(ho,3);var su=void 0,Al=void 0,Bs=Qc,eh=$r,ou=qo,th=xr,nh=0,fo=Bs.m,pf=8,mf=u(128,j);r:for(;D(mf,0,7,eh,19);){if(Q(fo,1)){var Xd=2+2*Q(fo,3);if((su=2+Q(fo,Xd))>ou)break r}else su=ou;for(Al=0;Al<ou&&su--;){be(fo);var gf=mf[0+(127&J(fo))];he(fo,fo.u+gf.g);var Go=gf.value;if(16>Go)th[Al++]=Go,Go!=0&&(pf=Go);else{var Qd=Go==16,Jd=Go-16,Zd=nu[Jd],yf=Q(fo,Qa[Jd])+Zd;if(Al+yf>ou)break r;for(var ep=Qd?pf:0;0<yf--;)th[Al++]=ep}}nh=1;break r}nh||(Bs.a=3),xi=nh}(xi=xi&&!ho.h)&&(Jc=D(cf,hf,8,xr,qo)),xi&&Jc!=0?Ho=Jc:(Qc.a=3,Ho=0)}if(Ho==0)break n;if(fa&&Gc[tn]==1&&(fa=Gt[Sn].g==0),rs+=Gt[Sn].g,Sn+=Ho,3>=tn){var Sl,rh=Gr[0];for(Sl=1;Sl<si;++Sl)Gr[Sl]>rh&&(rh=Gr[Sl]);li+=rh}}if(Wt.nd=fa,Wt.Qb=0,fa&&(Wt.qb=(Kn[3][_a[3]+0].value<<24|Kn[1][_a[1]+0].value<<16|Kn[2][_a[2]+0].value)>>>0,rs==0&&256>Kn[0][_a[0]+0].value&&(Wt.Qb=1,Wt.qb+=Kn[0][_a[0]+0].value<<8)),Wt.jc=!Wt.Qb&&6>li,Wt.jc){var lc,zs=Wt;for(lc=0;lc<Do;++lc){var po=lc,mo=zs.pd[po],ih=zs.G[0][zs.H[0]+po];256<=ih.value?(mo.g=ih.g+256,mo.value=ih.value):(mo.g=0,mo.value=0,po>>=qe(ih,8,mo),po>>=qe(zs.G[1][zs.H[1]+po],16,mo),po>>=qe(zs.G[2][zs.H[2]+po],0,mo),qe(zs.G[3][zs.H[3]+po],24,mo))}}}ai.vc=Nn,ai.Wb=$n,ai.Ya=ta,ai.yc=oi,ut=1;break t}ut=0}if(!(H=ut)){N.a=3;break e}if(0<ke){if(se.ua=1<<ke,!ne(se.Wa,ke)){N.a=1,H=0;break e}}else se.ua=0;var ah=N,xl=G,tp=W,lu=ah.s,uu=lu.xc;if(ah.c=xl,ah.i=tp,lu.md=$e(xl,uu),lu.wc=uu==0?-1:(1<<uu)-1,S){N.xb=jo;break e}if((ye=o(G*W))==null){N.a=1,H=0;break e}H=(H=Pt(N,ye,0,G,W,W,null))&&!Z.h;break e}return H?(z!=null?z[0]=ye:(e(ye==null),e(S)),N.$=0,S||gt(se)):gt(se),H}function Pn(p,v){var S=p.c*p.i,N=S+v+16*v;return e(p.c<=v),p.V=o(N),p.V==null?(p.Ta=null,p.Ua=0,p.a=1,0):(p.Ta=p.V,p.Ua=p.Ba+S+v,1)}function Zn(p,v){var S=p.C,N=v-S,z=p.V,H=p.Ba+p.c*S;for(e(v<=p.l.o);0<N;){var G=16<N?16:N,W=p.l.ma,Z=p.l.width,se=Z*G,ye=W.ca,ke=W.tb+Z*S,ie=p.Ta,we=p.Ua;ht(p,G,z,H),Ba(ie,we,ye,ke,se),st(W,S,S+G,ye,ke,Z),N-=G,z+=G*p.c,S+=G}e(S==v),p.C=p.Ma=v}function Xn(){this.ub=this.yd=this.td=this.Rb=0}function cn(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function cr(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function zr(){this.Yb=(function(){var p=[];return(function v(S,N,z){for(var H=z[N],G=0;G<H&&(S.push(z.length>N+1?[]:0),!(z.length<N+1));G++)v(S[G],N+1,z)})(p,0,[3,11]),p})()}function ar(){this.jb=o(3),this.Wc=c([4,8],zr),this.Xc=c([4,17],zr)}function ki(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function dr(){this.ld=this.La=this.dd=this.tc=0}function Ei(){this.Na=this.la=0}function fi(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Oi(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Oa(){this.uc=this.M=this.Nb=0,this.wa=Array(new dr),this.Y=0,this.ya=Array(new Oi),this.aa=0,this.l=new Cr}function Da(){this.y=o(16),this.f=o(8),this.ea=o(8)}function An(){this.cb=this.a=0,this.sc="",this.m=new I,this.Od=new Xn,this.Kc=new cn,this.ed=new ki,this.Qa=new cr,this.Ic=this.$c=this.Aa=0,this.D=new Oa,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=u(8,I),this.ia=0,this.pb=u(4,fi),this.Pa=new ar,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Da),this.Hd=0,this.rb=Array(new Ei),this.sb=0,this.wa=Array(new dr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Oi),this.L=this.aa=0,this.gd=c([4,2],dr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Gn(p,v){return 0>p?0:p>v?v:p}function Cr(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function er(){var p=new An;return p!=null&&(p.a=0,p.sc="OK",p.cb=0,p.Xb=0,za||(za=Rn)),p}function It(p,v,S){return p.a==0&&(p.a=v,p.sc=S,p.cb=0),0}function Ki(p,v,S){return 3<=S&&p[v+0]==157&&p[v+1]==1&&p[v+2]==42}function Di(p,v){if(p==null)return 0;if(p.a=0,p.sc="OK",v==null)return It(p,2,"null VP8Io passed to VP8GetHeaders()");var S=v.data,N=v.w,z=v.ha;if(4>z)return It(p,7,"Truncated header.");var H=S[N+0]|S[N+1]<<8|S[N+2]<<16,G=p.Od;if(G.Rb=!(1&H),G.td=H>>1&7,G.yd=H>>4&1,G.ub=H>>5,3<G.td)return It(p,3,"Incorrect keyframe parameters.");if(!G.yd)return It(p,4,"Frame not displayable.");N+=3,z-=3;var W=p.Kc;if(G.Rb){if(7>z)return It(p,7,"cannot parse picture header");if(!Ki(S,N,z))return It(p,3,"Bad code word");W.c=16383&(S[N+4]<<8|S[N+3]),W.Td=S[N+4]>>6,W.i=16383&(S[N+6]<<8|S[N+5]),W.Ud=S[N+6]>>6,N+=7,z-=7,p.za=W.c+15>>4,p.Ub=W.i+15>>4,v.width=W.c,v.height=W.i,v.Da=0,v.j=0,v.v=0,v.va=v.width,v.o=v.height,v.da=0,v.ib=v.width,v.hb=v.height,v.U=v.width,v.T=v.height,s((H=p.Pa).jb,0,255,H.jb.length),e((H=p.Qa)!=null),H.Cb=0,H.Bb=0,H.Fb=1,s(H.Zb,0,0,H.Zb.length),s(H.Lb,0,0,H.Lb)}if(G.ub>z)return It(p,7,"bad partition length");re(H=p.m,S,N,G.ub),N+=G.ub,z-=G.ub,G.Rb&&(W.Ld=De(H),W.Kd=De(H)),W=p.Qa;var Z,se=p.Pa;if(e(H!=null),e(W!=null),W.Cb=De(H),W.Cb){if(W.Bb=De(H),De(H)){for(W.Fb=De(H),Z=0;4>Z;++Z)W.Zb[Z]=De(H)?fe(H,7):0;for(Z=0;4>Z;++Z)W.Lb[Z]=De(H)?fe(H,6):0}if(W.Bb)for(Z=0;3>Z;++Z)se.jb[Z]=De(H)?me(H,8):255}else W.Bb=0;if(H.Ka)return It(p,3,"cannot parse segment header");if((W=p.ed).zd=De(H),W.Tb=me(H,6),W.wb=me(H,3),W.Pc=De(H),W.Pc&&De(H)){for(se=0;4>se;++se)De(H)&&(W.vd[se]=fe(H,6));for(se=0;4>se;++se)De(H)&&(W.od[se]=fe(H,6))}if(p.L=W.Tb==0?0:W.zd?1:2,H.Ka)return It(p,3,"cannot parse filter header");var ye=z;if(z=Z=N,N=Z+ye,W=ye,p.Xb=(1<<me(p.m,2))-1,ye<3*(se=p.Xb))S=7;else{for(Z+=3*se,W-=3*se,ye=0;ye<se;++ye){var ke=S[z+0]|S[z+1]<<8|S[z+2]<<16;ke>W&&(ke=W),re(p.Jc[+ye],S,Z,ke),Z+=ke,W-=ke,z+=3}re(p.Jc[+se],S,Z,W),S=Z<N?0:5}if(S!=0)return It(p,S,"cannot parse partitions");for(S=me(Z=p.m,7),z=De(Z)?fe(Z,4):0,N=De(Z)?fe(Z,4):0,W=De(Z)?fe(Z,4):0,se=De(Z)?fe(Z,4):0,Z=De(Z)?fe(Z,4):0,ye=p.Qa,ke=0;4>ke;++ke){if(ye.Cb){var ie=ye.Zb[ke];ye.Fb||(ie+=S)}else{if(0<ke){p.pb[ke]=p.pb[0];continue}ie=S}var we=p.pb[ke];we.Sc[0]=es[Gn(ie+z,127)],we.Sc[1]=ts[Gn(ie+0,127)],we.Eb[0]=2*es[Gn(ie+N,127)],we.Eb[1]=101581*ts[Gn(ie+W,127)]>>16,8>we.Eb[1]&&(we.Eb[1]=8),we.Qc[0]=es[Gn(ie+se,117)],we.Qc[1]=ts[Gn(ie+Z,127)],we.lc=ie+Z}if(!G.Rb)return It(p,4,"Not a key frame.");for(De(H),G=p.Pa,S=0;4>S;++S){for(z=0;8>z;++z)for(N=0;3>N;++N)for(W=0;11>W;++W)se=ze(H,Lr[S][z][N][W])?me(H,8):Kd[S][z][N][W],G.Wc[S][z].Yb[N][W]=se;for(z=0;17>z;++z)G.Xc[S][z]=G.Wc[S][kn[z]]}return p.kc=De(H),p.kc&&(p.Bd=me(H,8)),p.cb=1}function Rn(p,v,S,N,z,H,G){var W=v[z].Yb[S];for(S=0;16>z;++z){if(!ze(p,W[S+0]))return z;for(;!ze(p,W[S+1]);)if(W=v[++z].Yb[0],S=0,z==16)return 16;var Z=v[z+1].Yb;if(ze(p,W[S+2])){var se=p,ye=0;if(ze(se,(ie=W)[(ke=S)+3]))if(ze(se,ie[ke+6])){for(W=0,ke=2*(ye=ze(se,ie[ke+8]))+(ie=ze(se,ie[ke+9+ye])),ye=0,ie=Yd[ke];ie[W];++W)ye+=ye+ze(se,ie[W]);ye+=3+(8<<ke)}else ze(se,ie[ke+7])?(ye=7+2*ze(se,165),ye+=ze(se,145)):ye=5+ze(se,159);else ye=ze(se,ie[ke+4])?3+ze(se,ie[ke+5]):2;W=Z[2]}else ye=1,W=Z[1];Z=G+of[z],0>(se=p).b&&Ie(se);var ke,ie=se.b,we=(ke=se.Ca>>1)-(se.I>>ie)>>31;--se.b,se.Ca+=we,se.Ca|=1,se.I-=(ke+1&we)<<ie,H[Z]=((ye^we)-we)*N[(0<z)+0]}return 16}function Ns(p){var v=p.rb[p.sb-1];v.la=0,v.Na=0,s(p.zc,0,0,p.zc.length),p.ja=0}function Xr(p,v,S,N,z){z=p[v+S+32*N]+(z>>3),p[v+S+32*N]=-256&z?0>z?0:255:z}function Rr(p,v,S,N,z,H){Xr(p,v,0,S,N+z),Xr(p,v,1,S,N+H),Xr(p,v,2,S,N-H),Xr(p,v,3,S,N-z)}function qr(p){return(20091*p>>16)+p}function Qs(p,v,S,N){var z,H=0,G=o(16);for(z=0;4>z;++z){var W=p[v+0]+p[v+8],Z=p[v+0]-p[v+8],se=(35468*p[v+4]>>16)-qr(p[v+12]),ye=qr(p[v+4])+(35468*p[v+12]>>16);G[H+0]=W+ye,G[H+1]=Z+se,G[H+2]=Z-se,G[H+3]=W-ye,H+=4,v++}for(z=H=0;4>z;++z)W=(p=G[H+0]+4)+G[H+8],Z=p-G[H+8],se=(35468*G[H+4]>>16)-qr(G[H+12]),Xr(S,N,0,0,W+(ye=qr(G[H+4])+(35468*G[H+12]>>16))),Xr(S,N,1,0,Z+se),Xr(S,N,2,0,Z-se),Xr(S,N,3,0,W-ye),H++,N+=32}function Kl(p,v,S,N){var z=p[v+0]+4,H=35468*p[v+4]>>16,G=qr(p[v+4]),W=35468*p[v+1]>>16;Rr(S,N,0,z+G,p=qr(p[v+1]),W),Rr(S,N,1,z+H,p,W),Rr(S,N,2,z-H,p,W),Rr(S,N,3,z-G,p,W)}function cl(p,v,S,N,z){Qs(p,v,S,N),z&&Qs(p,v+16,S,N+4)}function Pi(p,v,S,N){lo(p,v+0,S,N,1),lo(p,v+32,S,N+128,1)}function hl(p,v,S,N){var z;for(p=p[v+0]+4,z=0;4>z;++z)for(v=0;4>v;++v)Xr(S,N,v,z,p)}function hs(p,v,S,N){p[v+0]&&Qn(p,v+0,S,N),p[v+16]&&Qn(p,v+16,S,N+4),p[v+32]&&Qn(p,v+32,S,N+128),p[v+48]&&Qn(p,v+48,S,N+128+4)}function di(p,v,S,N){var z,H=o(16);for(z=0;4>z;++z){var G=p[v+0+z]+p[v+12+z],W=p[v+4+z]+p[v+8+z],Z=p[v+4+z]-p[v+8+z],se=p[v+0+z]-p[v+12+z];H[0+z]=G+W,H[8+z]=G-W,H[4+z]=se+Z,H[12+z]=se-Z}for(z=0;4>z;++z)G=(p=H[0+4*z]+3)+H[3+4*z],W=H[1+4*z]+H[2+4*z],Z=H[1+4*z]-H[2+4*z],se=p-H[3+4*z],S[N+0]=G+W>>3,S[N+16]=se+Z>>3,S[N+32]=G-W>>3,S[N+48]=se-Z>>3,N+=64}function Cs(p,v,S){var N,z=v-32,H=Ji,G=255-p[z-1];for(N=0;N<S;++N){var W,Z=H,se=G+p[v-1];for(W=0;W<S;++W)p[v+W]=Z[se+p[z+W]];v+=32}}function fl(p,v){Cs(p,v,4)}function dl(p,v){Cs(p,v,8)}function Ro(p,v){Cs(p,v,16)}function Lo(p,v){var S;for(S=0;16>S;++S)r(p,v+32*S,p,v-32,16)}function fs(p,v){var S;for(S=16;0<S;--S)s(p,v,p[v-1],16),v+=32}function Wi(p,v,S){var N;for(N=0;16>N;++N)s(v,S+32*N,p,16)}function Pa(p,v){var S,N=16;for(S=0;16>S;++S)N+=p[v-1+32*S]+p[v+S-32];Wi(N>>5,p,v)}function ds(p,v){var S,N=8;for(S=0;16>S;++S)N+=p[v-1+32*S];Wi(N>>4,p,v)}function Xi(p,v){var S,N=8;for(S=0;16>S;++S)N+=p[v+S-32];Wi(N>>4,p,v)}function Rs(p,v){Wi(128,p,v)}function Ht(p,v,S){return p+2*v+S+2>>2}function Js(p,v){var S,N=v-32;for(N=new Uint8Array([Ht(p[N-1],p[N+0],p[N+1]),Ht(p[N+0],p[N+1],p[N+2]),Ht(p[N+1],p[N+2],p[N+3]),Ht(p[N+2],p[N+3],p[N+4])]),S=0;4>S;++S)r(p,v+32*S,N,0,N.length)}function Io(p,v){var S=p[v-1],N=p[v-1+32],z=p[v-1+64],H=p[v-1+96];tt(p,v+0,16843009*Ht(p[v-1-32],S,N)),tt(p,v+32,16843009*Ht(S,N,z)),tt(p,v+64,16843009*Ht(N,z,H)),tt(p,v+96,16843009*Ht(z,H,H))}function Ls(p,v){var S,N=4;for(S=0;4>S;++S)N+=p[v+S-32]+p[v-1+32*S];for(N>>=3,S=0;4>S;++S)s(p,v+32*S,N,4)}function pi(p,v){var S=p[v-1+0],N=p[v-1+32],z=p[v-1+64],H=p[v-1-32],G=p[v+0-32],W=p[v+1-32],Z=p[v+2-32],se=p[v+3-32];p[v+0+96]=Ht(N,z,p[v-1+96]),p[v+1+96]=p[v+0+64]=Ht(S,N,z),p[v+2+96]=p[v+1+64]=p[v+0+32]=Ht(H,S,N),p[v+3+96]=p[v+2+64]=p[v+1+32]=p[v+0+0]=Ht(G,H,S),p[v+3+64]=p[v+2+32]=p[v+1+0]=Ht(W,G,H),p[v+3+32]=p[v+2+0]=Ht(Z,W,G),p[v+3+0]=Ht(se,Z,W)}function ri(p,v){var S=p[v+1-32],N=p[v+2-32],z=p[v+3-32],H=p[v+4-32],G=p[v+5-32],W=p[v+6-32],Z=p[v+7-32];p[v+0+0]=Ht(p[v+0-32],S,N),p[v+1+0]=p[v+0+32]=Ht(S,N,z),p[v+2+0]=p[v+1+32]=p[v+0+64]=Ht(N,z,H),p[v+3+0]=p[v+2+32]=p[v+1+64]=p[v+0+96]=Ht(z,H,G),p[v+3+32]=p[v+2+64]=p[v+1+96]=Ht(H,G,W),p[v+3+64]=p[v+2+96]=Ht(G,W,Z),p[v+3+96]=Ht(W,Z,Z)}function Zs(p,v){var S=p[v-1+0],N=p[v-1+32],z=p[v-1+64],H=p[v-1-32],G=p[v+0-32],W=p[v+1-32],Z=p[v+2-32],se=p[v+3-32];p[v+0+0]=p[v+1+64]=H+G+1>>1,p[v+1+0]=p[v+2+64]=G+W+1>>1,p[v+2+0]=p[v+3+64]=W+Z+1>>1,p[v+3+0]=Z+se+1>>1,p[v+0+96]=Ht(z,N,S),p[v+0+64]=Ht(N,S,H),p[v+0+32]=p[v+1+96]=Ht(S,H,G),p[v+1+32]=p[v+2+96]=Ht(H,G,W),p[v+2+32]=p[v+3+96]=Ht(G,W,Z),p[v+3+32]=Ht(W,Z,se)}function tr(p,v){var S=p[v+0-32],N=p[v+1-32],z=p[v+2-32],H=p[v+3-32],G=p[v+4-32],W=p[v+5-32],Z=p[v+6-32],se=p[v+7-32];p[v+0+0]=S+N+1>>1,p[v+1+0]=p[v+0+64]=N+z+1>>1,p[v+2+0]=p[v+1+64]=z+H+1>>1,p[v+3+0]=p[v+2+64]=H+G+1>>1,p[v+0+32]=Ht(S,N,z),p[v+1+32]=p[v+0+96]=Ht(N,z,H),p[v+2+32]=p[v+1+96]=Ht(z,H,G),p[v+3+32]=p[v+2+96]=Ht(H,G,W),p[v+3+64]=Ht(G,W,Z),p[v+3+96]=Ht(W,Z,se)}function aa(p,v){var S=p[v-1+0],N=p[v-1+32],z=p[v-1+64],H=p[v-1+96];p[v+0+0]=S+N+1>>1,p[v+2+0]=p[v+0+32]=N+z+1>>1,p[v+2+32]=p[v+0+64]=z+H+1>>1,p[v+1+0]=Ht(S,N,z),p[v+3+0]=p[v+1+32]=Ht(N,z,H),p[v+3+32]=p[v+1+64]=Ht(z,H,H),p[v+3+64]=p[v+2+64]=p[v+0+96]=p[v+1+96]=p[v+2+96]=p[v+3+96]=H}function eo(p,v){var S=p[v-1+0],N=p[v-1+32],z=p[v-1+64],H=p[v-1+96],G=p[v-1-32],W=p[v+0-32],Z=p[v+1-32],se=p[v+2-32];p[v+0+0]=p[v+2+32]=S+G+1>>1,p[v+0+32]=p[v+2+64]=N+S+1>>1,p[v+0+64]=p[v+2+96]=z+N+1>>1,p[v+0+96]=H+z+1>>1,p[v+3+0]=Ht(W,Z,se),p[v+2+0]=Ht(G,W,Z),p[v+1+0]=p[v+3+32]=Ht(S,G,W),p[v+1+32]=p[v+3+64]=Ht(N,S,G),p[v+1+64]=p[v+3+96]=Ht(z,N,S),p[v+1+96]=Ht(H,z,N)}function Ma(p,v){var S;for(S=0;8>S;++S)r(p,v+32*S,p,v-32,8)}function pl(p,v){var S;for(S=0;8>S;++S)s(p,v,p[v-1],8),v+=32}function sa(p,v,S){var N;for(N=0;8>N;++N)s(v,S+32*N,p,8)}function ps(p,v){var S,N=8;for(S=0;8>S;++S)N+=p[v+S-32]+p[v-1+32*S];sa(N>>4,p,v)}function oa(p,v){var S,N=4;for(S=0;8>S;++S)N+=p[v+S-32];sa(N>>3,p,v)}function Qr(p,v){var S,N=4;for(S=0;8>S;++S)N+=p[v-1+32*S];sa(N>>3,p,v)}function qa(p,v){sa(128,p,v)}function Ai(p,v,S){var N=p[v-S],z=p[v+0],H=3*(z-N)+uo[1020+p[v-2*S]-p[v+S]],G=tc[112+(H+4>>3)];p[v-S]=Ji[255+N+tc[112+(H+3>>3)]],p[v+0]=Ji[255+z-G]}function Ha(p,v,S,N){var z=p[v+0],H=p[v+S];return Fi[255+p[v-2*S]-p[v-S]]>N||Fi[255+H-z]>N}function Is(p,v,S,N){return 4*Fi[255+p[v-S]-p[v+0]]+Fi[255+p[v-2*S]-p[v+S]]<=N}function Ga(p,v,S,N,z){var H=p[v-3*S],G=p[v-2*S],W=p[v-S],Z=p[v+0],se=p[v+S],ye=p[v+2*S],ke=p[v+3*S];return 4*Fi[255+W-Z]+Fi[255+G-se]>N?0:Fi[255+p[v-4*S]-H]<=z&&Fi[255+H-G]<=z&&Fi[255+G-W]<=z&&Fi[255+ke-ye]<=z&&Fi[255+ye-se]<=z&&Fi[255+se-Z]<=z}function $a(p,v,S,N){var z=2*N+1;for(N=0;16>N;++N)Is(p,v+N,S,z)&&Ai(p,v+N,S)}function va(p,v,S,N){var z=2*N+1;for(N=0;16>N;++N)Is(p,v+N*S,1,z)&&Ai(p,v+N*S,1)}function to(p,v,S,N){var z;for(z=3;0<z;--z)$a(p,v+=4*S,S,N)}function ko(p,v,S,N){var z;for(z=3;0<z;--z)va(p,v+=4,S,N)}function la(p,v,S,N,z,H,G,W){for(H=2*H+1;0<z--;){if(Ga(p,v,S,H,G))if(Ha(p,v,S,W))Ai(p,v,S);else{var Z=p,se=v,ye=S,ke=Z[se-2*ye],ie=Z[se-ye],we=Z[se+0],Re=Z[se+ye],Be=Z[se+2*ye],Le=27*(Ye=uo[1020+3*(we-ie)+uo[1020+ke-Re]])+63>>7,Ve=18*Ye+63>>7,Ye=9*Ye+63>>7;Z[se-3*ye]=Ji[255+Z[se-3*ye]+Ye],Z[se-2*ye]=Ji[255+ke+Ve],Z[se-ye]=Ji[255+ie+Le],Z[se+0]=Ji[255+we-Le],Z[se+ye]=Ji[255+Re-Ve],Z[se+2*ye]=Ji[255+Be-Ye]}v+=N}}function Ya(p,v,S,N,z,H,G,W){for(H=2*H+1;0<z--;){if(Ga(p,v,S,H,G))if(Ha(p,v,S,W))Ai(p,v,S);else{var Z=p,se=v,ye=S,ke=Z[se-ye],ie=Z[se+0],we=Z[se+ye],Re=tc[112+(4+(Be=3*(ie-ke))>>3)],Be=tc[112+(Be+3>>3)],Le=Re+1>>1;Z[se-2*ye]=Ji[255+Z[se-2*ye]+Le],Z[se-ye]=Ji[255+ke+Be],Z[se+0]=Ji[255+ie-Re],Z[se+ye]=Ji[255+we-Le]}v+=N}}function ml(p,v,S,N,z,H){la(p,v,S,1,16,N,z,H)}function ja(p,v,S,N,z,H){la(p,v,1,S,16,N,z,H)}function Oo(p,v,S,N,z,H){var G;for(G=3;0<G;--G)Ya(p,v+=4*S,S,1,16,N,z,H)}function E(p,v,S,N,z,H){var G;for(G=3;0<G;--G)Ya(p,v+=4,1,S,16,N,z,H)}function V(p,v,S,N,z,H,G,W){la(p,v,z,1,8,H,G,W),la(S,N,z,1,8,H,G,W)}function ae(p,v,S,N,z,H,G,W){la(p,v,1,z,8,H,G,W),la(S,N,1,z,8,H,G,W)}function ge(p,v,S,N,z,H,G,W){Ya(p,v+4*z,z,1,8,H,G,W),Ya(S,N+4*z,z,1,8,H,G,W)}function Ae(p,v,S,N,z,H,G,W){Ya(p,v+4,1,z,8,H,G,W),Ya(S,N+4,1,z,8,H,G,W)}function He(){this.ba=new Rt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new vn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Qe(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function _t(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Tt(){this.ua=0,this.Wa=new un,this.vb=new un,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new xe,this.yc=new j}function Kt(){this.xb=this.a=0,this.l=new Cr,this.ca=new Rt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new K,this.Pb=0,this.wd=new K,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Tt,this.ab=0,this.gc=u(4,_t),this.Oc=0}function Bt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Cr,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Ln(p,v,S,N,z,H,G){for(p=p==null?0:p[v+0],v=0;v<G;++v)z[H+v]=p+S[N+v]&255,p=z[H+v]}function wr(p,v,S,N,z,H,G){var W;if(p==null)Ln(null,null,S,N,z,H,G);else for(W=0;W<G;++W)z[H+W]=p[v+W]+S[N+W]&255}function hr(p,v,S,N,z,H,G){if(p==null)Ln(null,null,S,N,z,H,G);else{var W,Z=p[v+0],se=Z,ye=Z;for(W=0;W<G;++W)se=ye+(Z=p[v+W])-se,ye=S[N+W]+(-256&se?0>se?0:255:se)&255,se=Z,z[H+W]=ye}}function m(p,v,S,N){var z=v.width,H=v.o;if(e(p!=null&&v!=null),0>S||0>=N||S+N>H)return null;if(!p.Cc){if(p.ga==null){var G;if(p.ga=new Bt,(G=p.ga==null)||(G=v.width*v.o,e(p.Gb.length==0),p.Gb=o(G),p.Uc=0,p.Gb==null?G=0:(p.mb=p.Gb,p.nb=p.Uc,p.rc=null,G=1),G=!G),!G){G=p.ga;var W=p.Fa,Z=p.P,se=p.qc,ye=p.mb,ke=p.nb,ie=Z+1,we=se-1,Re=G.l;if(e(W!=null&&ye!=null&&v!=null),co[0]=null,co[1]=Ln,co[2]=wr,co[3]=hr,G.ca=ye,G.tb=ke,G.c=v.width,G.i=v.height,e(0<G.c&&0<G.i),1>=se)v=0;else if(G.$a=3&W[Z+0],G.Z=W[Z+0]>>2&3,G.Lc=W[Z+0]>>4&3,Z=W[Z+0]>>6&3,0>G.$a||1<G.$a||4<=G.Z||1<G.Lc||Z)v=0;else if(Re.put=Dt,Re.ac=Dr,Re.bc=ka,Re.ma=G,Re.width=v.width,Re.height=v.height,Re.Da=v.Da,Re.v=v.v,Re.va=v.va,Re.j=v.j,Re.o=v.o,G.$a)e:{e(G.$a==1),v=Jt();t:for(;;){if(v==null){v=0;break e}if(e(G!=null),G.mc=v,v.c=G.c,v.i=G.i,v.l=G.l,v.l.ma=G,v.l.width=G.c,v.l.height=G.i,v.a=0,Ne(v.m,W,ie,we),!sn(G.c,G.i,1,v,null)||(v.ab==1&&v.gc[0].hc==3&&rt(v.s)?(G.ic=1,W=v.c*v.i,v.Ta=null,v.Ua=0,v.V=o(W),v.Ba=0,v.V==null?(v.a=1,v=0):v=1):(G.ic=0,v=Pn(v,G.c)),!v))break t;v=1;break e}G.mc=null,v=0}else v=we>=G.c*G.i;G=!v}if(G)return null;p.ga.Lc!=1?p.Ga=0:N=H-S}e(p.ga!=null),e(S+N<=H);e:{if(v=(W=p.ga).c,H=W.l.o,W.$a==0){if(ie=p.rc,we=p.Vc,Re=p.Fa,Z=p.P+1+S*v,se=p.mb,ye=p.nb+S*v,e(Z<=p.P+p.qc),W.Z!=0)for(e(co[W.Z]!=null),G=0;G<N;++G)co[W.Z](ie,we,Re,Z,se,ye,v),ie=se,we=ye,ye+=v,Z+=v;else for(G=0;G<N;++G)r(se,ye,Re,Z,v),ie=se,we=ye,ye+=v,Z+=v;p.rc=ie,p.Vc=we}else{if(e(W.mc!=null),v=S+N,e((G=W.mc)!=null),e(v<=G.i),G.C>=v)v=1;else if(W.ic||Me(),W.ic){W=G.V,ie=G.Ba,we=G.c;var Be=G.i,Le=(Re=1,Z=G.$/we,se=G.$%we,ye=G.m,ke=G.s,G.$),Ve=we*Be,Ye=we*v,nt=ke.wc,Xe=Le<Ye?Ze(ke,se,Z):null;e(Le<=Ve),e(v<=Be),e(rt(ke));t:for(;;){for(;!ye.h&&Le<Ye;){if(se&nt||(Xe=Ze(ke,se,Z)),e(Xe!=null),be(ye),256>(Be=Te(Xe.G[0],Xe.H[0],ye)))W[ie+Le]=Be,++Le,++se>=we&&(se=0,++Z<=v&&!(Z%16)&&ct(G,Z));else{if(!(280>Be)){Re=0;break t}Be=ue(Be-256,ye);var Nt,yt=Te(Xe.G[4],Xe.H[4],ye);if(be(ye),!(Le>=(yt=_e(we,yt=ue(yt,ye)))&&Ve-Le>=Be)){Re=0;break t}for(Nt=0;Nt<Be;++Nt)W[ie+Le+Nt]=W[ie+Le+Nt-yt];for(Le+=Be,se+=Be;se>=we;)se-=we,++Z<=v&&!(Z%16)&&ct(G,Z);Le<Ye&&se&nt&&(Xe=Ze(ke,se,Z))}e(ye.h==oe(ye))}ct(G,Z>v?v:Z);break t}!Re||ye.h&&Le<Ve?(Re=0,G.a=ye.h?5:3):G.$=Le,v=Re}else v=Pt(G,G.V,G.Ba,G.c,G.i,v,Zn);if(!v){N=0;break e}}S+N>=H&&(p.Cc=1),N=1}if(!N)return null;if(p.Cc&&((N=p.ga)!=null&&(N.mc=null),p.ga=null,0<p.Ga))return alert("todo:WebPDequantizeLevels"),null}return p.nb+S*z}function x(p,v,S,N,z,H){for(;0<z--;){var G,W=p,Z=v+(S?1:0),se=p,ye=v+(S?0:3);for(G=0;G<N;++G){var ke=se[ye+4*G];ke!=255&&(ke*=32897,W[Z+4*G+0]=W[Z+4*G+0]*ke>>23,W[Z+4*G+1]=W[Z+4*G+1]*ke>>23,W[Z+4*G+2]=W[Z+4*G+2]*ke>>23)}v+=H}}function L(p,v,S,N,z){for(;0<N--;){var H;for(H=0;H<S;++H){var G=p[v+2*H+0],W=15&(se=p[v+2*H+1]),Z=4369*W,se=(240&se|se>>4)*Z>>16;p[v+2*H+0]=(240&G|G>>4)*Z>>16&240|(15&G|G<<4)*Z>>16>>4&15,p[v+2*H+1]=240&se|W}v+=z}}function X(p,v,S,N,z,H,G,W){var Z,se,ye=255;for(se=0;se<z;++se){for(Z=0;Z<N;++Z){var ke=p[v+Z];H[G+4*Z]=ke,ye&=ke}v+=S,G+=W}return ye!=255}function Ce(p,v,S,N,z){var H;for(H=0;H<z;++H)S[N+H]=p[v+H]>>8}function Me(){vl=x,Wa=L,Ju=X,Ba=Ce}function at(p,v,S){R[p]=function(N,z,H,G,W,Z,se,ye,ke,ie,we,Re,Be,Le,Ve,Ye,nt){var Xe,Nt=nt-1>>1,yt=W[Z+0]|se[ye+0]<<16,dn=ke[ie+0]|we[Re+0]<<16;e(N!=null);var At=3*yt+dn+131074>>2;for(v(N[z+0],255&At,At>>16,Be,Le),H!=null&&(At=3*dn+yt+131074>>2,v(H[G+0],255&At,At>>16,Ve,Ye)),Xe=1;Xe<=Nt;++Xe){var In=W[Z+Xe]|se[ye+Xe]<<16,Ir=ke[ie+Xe]|we[Re+Xe]<<16,bn=yt+In+dn+Ir+524296,vt=bn+2*(In+dn)>>3;At=vt+yt>>1,yt=(bn=bn+2*(yt+Ir)>>3)+In>>1,v(N[z+2*Xe-1],255&At,At>>16,Be,Le+(2*Xe-1)*S),v(N[z+2*Xe-0],255&yt,yt>>16,Be,Le+(2*Xe-0)*S),H!=null&&(At=bn+dn>>1,yt=vt+Ir>>1,v(H[G+2*Xe-1],255&At,At>>16,Ve,Ye+(2*Xe-1)*S),v(H[G+2*Xe+0],255&yt,yt>>16,Ve,Ye+(2*Xe+0)*S)),yt=In,dn=Ir}1&nt||(At=3*yt+dn+131074>>2,v(N[z+nt-1],255&At,At>>16,Be,Le+(nt-1)*S),H!=null&&(At=3*dn+yt+131074>>2,v(H[G+nt-1],255&At,At>>16,Ve,Ye+(nt-1)*S)))}}function hn(){Bi[Bc]=wl,Bi[Zi]=ru,Bi[zc]=uf,Bi[Xa]=Yc,Bi[nc]=Uo,Bi[eu]=Vs,Bi[Po]=Fo,Bi[rc]=ru,Bi[qc]=Yc,Bi[tu]=Uo,Bi[Hc]=Vs}function Er(p){return p&-16384?0>p?0:255:p>>Kc}function Tn(p,v){return Er((19077*p>>8)+(26149*v>>8)-14234)}function nr(p,v,S){return Er((19077*p>>8)-(6419*v>>8)-(13320*S>>8)+8708)}function Si(p,v){return Er((19077*p>>8)+(33050*v>>8)-17685)}function Mi(p,v,S,N,z){N[z+0]=Tn(p,S),N[z+1]=nr(p,v,S),N[z+2]=Si(p,v)}function pr(p,v,S,N,z){N[z+0]=Si(p,v),N[z+1]=nr(p,v,S),N[z+2]=Tn(p,S)}function ji(p,v,S,N,z){var H=nr(p,v,S);v=H<<3&224|Si(p,v)>>3,N[z+0]=248&Tn(p,S)|H>>5,N[z+1]=v}function Ua(p,v,S,N,z){var H=240&Si(p,v)|15;N[z+0]=240&Tn(p,S)|nr(p,v,S)>>4,N[z+1]=H}function ks(p,v,S,N,z){N[z+0]=255,Mi(p,v,S,N,z+1)}function Os(p,v,S,N,z){pr(p,v,S,N,z),N[z+3]=255}function ua(p,v,S,N,z){Mi(p,v,S,N,z),N[z+3]=255}function no(p,v,S){R[p]=function(N,z,H,G,W,Z,se,ye,ke){for(var ie=ye+(-2&ke)*S;ye!=ie;)v(N[z+0],H[G+0],W[Z+0],se,ye),v(N[z+1],H[G+0],W[Z+0],se,ye+S),z+=2,++G,++Z,ye+=2*S;1&ke&&v(N[z+0],H[G+0],W[Z+0],se,ye)}}function Wl(p,v,S){return S==0?p==0?v==0?6:5:v==0?4:0:S}function Wu(p,v,S,N,z){switch(p>>>30){case 3:lo(v,S,N,z,0);break;case 2:Qi(v,S,N,z);break;case 1:Qn(v,S,N,z)}}function Fa(p,v){var S,N,z=v.M,H=v.Nb,G=p.oc,W=p.pc+40,Z=p.oc,se=p.pc+584,ye=p.oc,ke=p.pc+600;for(S=0;16>S;++S)G[W+32*S-1]=129;for(S=0;8>S;++S)Z[se+32*S-1]=129,ye[ke+32*S-1]=129;for(0<z?G[W-1-32]=Z[se-1-32]=ye[ke-1-32]=129:(s(G,W-32-1,127,21),s(Z,se-32-1,127,9),s(ye,ke-32-1,127,9)),N=0;N<p.za;++N){var ie=v.ya[v.aa+N];if(0<N){for(S=-1;16>S;++S)r(G,W+32*S-4,G,W+32*S+12,4);for(S=-1;8>S;++S)r(Z,se+32*S-4,Z,se+32*S+4,4),r(ye,ke+32*S-4,ye,ke+32*S+4,4)}var we=p.Gd,Re=p.Hd+N,Be=ie.ad,Le=ie.Hc;if(0<z&&(r(G,W-32,we[Re].y,0,16),r(Z,se-32,we[Re].f,0,8),r(ye,ke-32,we[Re].ea,0,8)),ie.Za){var Ve=G,Ye=W-32+16;for(0<z&&(N>=p.za-1?s(Ve,Ye,we[Re].y[15],4):r(Ve,Ye,we[Re+1].y,0,4)),S=0;4>S;S++)Ve[Ye+128+S]=Ve[Ye+256+S]=Ve[Ye+384+S]=Ve[Ye+0+S];for(S=0;16>S;++S,Le<<=2)Ve=G,Ye=W+ei[S],Hr[ie.Ob[S]](Ve,Ye),Wu(Le,Be,16*+S,Ve,Ye)}else if(Ve=Wl(N,z,ie.Ob[0]),ha[Ve](G,W),Le!=0)for(S=0;16>S;++S,Le<<=2)Wu(Le,Be,16*+S,G,W+ei[S]);for(S=ie.Gc,Ve=Wl(N,z,ie.Dd),vs[Ve](Z,se),vs[Ve](ye,ke),Le=Be,Ve=Z,Ye=se,255&(ie=0|S)&&(170&ie?Ka(Le,256,Ve,Ye):qn(Le,256,Ve,Ye)),ie=ye,Le=ke,255&(S>>=8)&&(170&S?Ka(Be,320,ie,Le):qn(Be,320,ie,Le)),z<p.Ub-1&&(r(we[Re].y,0,G,W+480,16),r(we[Re].f,0,Z,se+224,8),r(we[Re].ea,0,ye,ke+224,8)),S=8*H*p.B,we=p.sa,Re=p.ta+16*N+16*H*p.R,Be=p.qa,ie=p.ra+8*N+S,Le=p.Ha,Ve=p.Ia+8*N+S,S=0;16>S;++S)r(we,Re+S*p.R,G,W+32*S,16);for(S=0;8>S;++S)r(Be,ie+S*p.B,Z,se+32*S,8),r(Le,Ve+S*p.B,ye,ke+32*S,8)}}function ms(p,v,S,N,z,H,G,W,Z){var se=[0],ye=[0],ke=0,ie=Z!=null?Z.kd:0,we=Z??new Qe;if(p==null||12>S)return 7;we.data=p,we.w=v,we.ha=S,v=[v],S=[S],we.gb=[we.gb];e:{var Re=v,Be=S,Le=we.gb;if(e(p!=null),e(Be!=null),e(Le!=null),Le[0]=0,12<=Be[0]&&!t(p,Re[0],"RIFF")){if(t(p,Re[0]+8,"WEBP")){Le=3;break e}var Ve=bt(p,Re[0]+4);if(12>Ve||4294967286<Ve){Le=3;break e}if(ie&&Ve>Be[0]-8){Le=7;break e}Le[0]=Ve,Re[0]+=12,Be[0]-=12}Le=0}if(Le!=0)return Le;for(Ve=0<we.gb[0],S=S[0];;){e:{var Ye=p;Be=v,Le=S;var nt=se,Xe=ye,Nt=Re=[0];if((At=ke=[ke])[0]=0,8>Le[0])Le=7;else{if(!t(Ye,Be[0],"VP8X")){if(bt(Ye,Be[0]+4)!=10){Le=3;break e}if(18>Le[0]){Le=7;break e}var yt=bt(Ye,Be[0]+8),dn=1+lt(Ye,Be[0]+12);if(2147483648<=dn*(Ye=1+lt(Ye,Be[0]+15))){Le=3;break e}Nt!=null&&(Nt[0]=yt),nt!=null&&(nt[0]=dn),Xe!=null&&(Xe[0]=Ye),Be[0]+=18,Le[0]-=18,At[0]=1}Le=0}}if(ke=ke[0],Re=Re[0],Le!=0)return Le;if(Be=!!(2&Re),!Ve&&ke)return 3;if(H!=null&&(H[0]=!!(16&Re)),G!=null&&(G[0]=Be),W!=null&&(W[0]=0),G=se[0],Re=ye[0],ke&&Be&&Z==null){Le=0;break}if(4>S){Le=7;break}if(Ve&&ke||!Ve&&!ke&&!t(p,v[0],"ALPH")){S=[S],we.na=[we.na],we.P=[we.P],we.Sa=[we.Sa];e:{yt=p,Le=v,Ve=S;var At=we.gb;nt=we.na,Xe=we.P,Nt=we.Sa,dn=22,e(yt!=null),e(Ve!=null),Ye=Le[0];var In=Ve[0];for(e(nt!=null),e(Nt!=null),nt[0]=null,Xe[0]=null,Nt[0]=0;;){if(Le[0]=Ye,Ve[0]=In,8>In){Le=7;break e}var Ir=bt(yt,Ye+4);if(4294967286<Ir){Le=3;break e}var bn=8+Ir+1&-2;if(dn+=bn,0<At&&dn>At){Le=3;break e}if(!t(yt,Ye,"VP8 ")||!t(yt,Ye,"VP8L")){Le=0;break e}if(In[0]<bn){Le=7;break e}t(yt,Ye,"ALPH")||(nt[0]=yt,Xe[0]=Ye+8,Nt[0]=Ir),Ye+=bn,In-=bn}}if(S=S[0],we.na=we.na[0],we.P=we.P[0],we.Sa=we.Sa[0],Le!=0)break}S=[S],we.Ja=[we.Ja],we.xa=[we.xa];e:if(At=p,Le=v,Ve=S,nt=we.gb[0],Xe=we.Ja,Nt=we.xa,yt=Le[0],Ye=!t(At,yt,"VP8 "),dn=!t(At,yt,"VP8L"),e(At!=null),e(Ve!=null),e(Xe!=null),e(Nt!=null),8>Ve[0])Le=7;else{if(Ye||dn){if(At=bt(At,yt+4),12<=nt&&At>nt-12){Le=3;break e}if(ie&&At>Ve[0]-8){Le=7;break e}Xe[0]=At,Le[0]+=8,Ve[0]-=8,Nt[0]=dn}else Nt[0]=5<=Ve[0]&&At[yt+0]==47&&!(At[yt+4]>>5),Xe[0]=Ve[0];Le=0}if(S=S[0],we.Ja=we.Ja[0],we.xa=we.xa[0],v=v[0],Le!=0)break;if(4294967286<we.Ja)return 3;if(W==null||Be||(W[0]=we.xa?2:1),G=[G],Re=[Re],we.xa){if(5>S){Le=7;break}W=G,ie=Re,Be=H,p==null||5>S?p=0:5<=S&&p[v+0]==47&&!(p[v+4]>>5)?(Ve=[0],At=[0],nt=[0],Ne(Xe=new K,p,v,S),Ii(Xe,Ve,At,nt)?(W!=null&&(W[0]=Ve[0]),ie!=null&&(ie[0]=At[0]),Be!=null&&(Be[0]=nt[0]),p=1):p=0):p=0}else{if(10>S){Le=7;break}W=Re,p==null||10>S||!Ki(p,v+3,S-3)?p=0:(ie=p[v+0]|p[v+1]<<8|p[v+2]<<16,Be=16383&(p[v+7]<<8|p[v+6]),p=16383&(p[v+9]<<8|p[v+8]),1&ie||3<(ie>>1&7)||!(ie>>4&1)||ie>>5>=we.Ja||!Be||!p?p=0:(G&&(G[0]=Be),W&&(W[0]=p),p=1))}if(!p||(G=G[0],Re=Re[0],ke&&(se[0]!=G||ye[0]!=Re)))return 3;Z!=null&&(Z[0]=we,Z.offset=v-Z.w,e(4294967286>v-Z.w),e(Z.offset==Z.ha-S));break}return Le==0||Le==7&&ke&&Z==null?(H!=null&&(H[0]|=we.na!=null&&0<we.na.length),N!=null&&(N[0]=G),z!=null&&(z[0]=Re),0):Le}function ro(p,v,S){var N=v.width,z=v.height,H=0,G=0,W=N,Z=z;if(v.Da=p!=null&&0<p.Da,v.Da&&(W=p.cd,Z=p.bd,H=p.v,G=p.j,11>S||(H&=-2,G&=-2),0>H||0>G||0>=W||0>=Z||H+W>N||G+Z>z))return 0;if(v.v=H,v.j=G,v.va=H+W,v.o=G+Z,v.U=W,v.T=Z,v.da=p!=null&&0<p.da,v.da){if(!Ut(W,Z,S=[p.ib],H=[p.hb]))return 0;v.ib=S[0],v.hb=H[0]}return v.ob=p!=null&&p.ob,v.Kb=p==null||!p.Sd,v.da&&(v.ob=v.ib<3*N/4&&v.hb<3*z/4,v.Kb=0),1}function Xu(p){if(p==null)return 2;if(11>p.S){var v=p.f.RGBA;v.fb+=(p.height-1)*v.A,v.A=-v.A}else v=p.f.kb,p=p.height,v.O+=(p-1)*v.fa,v.fa=-v.fa,v.N+=(p-1>>1)*v.Ab,v.Ab=-v.Ab,v.W+=(p-1>>1)*v.Db,v.Db=-v.Db,v.F!=null&&(v.J+=(p-1)*v.lb,v.lb=-v.lb);return 0}function gs(p,v,S,N){if(N==null||0>=p||0>=v)return 2;if(S!=null){if(S.Da){var z=S.cd,H=S.bd,G=-2&S.v,W=-2&S.j;if(0>G||0>W||0>=z||0>=H||G+z>p||W+H>v)return 2;p=z,v=H}if(S.da){if(!Ut(p,v,z=[S.ib],H=[S.hb]))return 2;p=z[0],v=H[0]}}N.width=p,N.height=v;e:{var Z=N.width,se=N.height;if(p=N.S,0>=Z||0>=se||!(p>=Bc&&13>p))p=2;else{if(0>=N.Rd&&N.sd==null){G=H=z=v=0;var ye=(W=Z*Xc[p])*se;if(11>p||(H=(se+1)/2*(v=(Z+1)/2),p==12&&(G=(z=Z)*se)),(se=o(ye+2*H+G))==null){p=1;break e}N.sd=se,11>p?((Z=N.f.RGBA).eb=se,Z.fb=0,Z.A=W,Z.size=ye):((Z=N.f.kb).y=se,Z.O=0,Z.fa=W,Z.Fd=ye,Z.f=se,Z.N=0+ye,Z.Ab=v,Z.Cd=H,Z.ea=se,Z.W=0+ye+H,Z.Db=v,Z.Ed=H,p==12&&(Z.F=se,Z.J=0+ye+2*H),Z.Tc=G,Z.lb=z)}if(v=1,z=N.S,H=N.width,G=N.height,z>=Bc&&13>z)if(11>z)p=N.f.RGBA,v&=(W=Math.abs(p.A))*(G-1)+H<=p.size,v&=W>=H*Xc[z],v&=p.eb!=null;else{p=N.f.kb,W=(H+1)/2,ye=(G+1)/2,Z=Math.abs(p.fa),se=Math.abs(p.Ab);var ke=Math.abs(p.Db),ie=Math.abs(p.lb),we=ie*(G-1)+H;v&=Z*(G-1)+H<=p.Fd,v&=se*(ye-1)+W<=p.Cd,v=(v&=ke*(ye-1)+W<=p.Ed)&Z>=H&se>=W&ke>=W,v&=p.y!=null,v&=p.f!=null,v&=p.ea!=null,z==12&&(v&=ie>=H,v&=we<=p.Tc,v&=p.F!=null)}else v=0;p=v?0:2}}return p!=0||S!=null&&S.fd&&(p=Xu(N)),p}var Do=64,ba=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ca=24,Ds=32,Ps=8,io=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ft("Predictor0","PredictorAdd0"),R.Predictor0=function(){return 4278190080},R.Predictor1=function(p){return p},R.Predictor2=function(p,v,S){return v[S+0]},R.Predictor3=function(p,v,S){return v[S+1]},R.Predictor4=function(p,v,S){return v[S-1]},R.Predictor5=function(p,v,S){return kt(kt(p,v[S+1]),v[S+0])},R.Predictor6=function(p,v,S){return kt(p,v[S-1])},R.Predictor7=function(p,v,S){return kt(p,v[S+0])},R.Predictor8=function(p,v,S){return kt(v[S-1],v[S+0])},R.Predictor9=function(p,v,S){return kt(v[S+0],v[S+1])},R.Predictor10=function(p,v,S){return kt(kt(p,v[S-1]),kt(v[S+0],v[S+1]))},R.Predictor11=function(p,v,S){var N=v[S+0];return 0>=en(N>>24&255,p>>24&255,(v=v[S-1])>>24&255)+en(N>>16&255,p>>16&255,v>>16&255)+en(N>>8&255,p>>8&255,v>>8&255)+en(255&N,255&p,255&v)?N:p},R.Predictor12=function(p,v,S){var N=v[S+0];return(Qt((p>>24&255)+(N>>24&255)-((v=v[S-1])>>24&255))<<24|Qt((p>>16&255)+(N>>16&255)-(v>>16&255))<<16|Qt((p>>8&255)+(N>>8&255)-(v>>8&255))<<8|Qt((255&p)+(255&N)-(255&v)))>>>0},R.Predictor13=function(p,v,S){var N=v[S-1];return(rn((p=kt(p,v[S+0]))>>24&255,N>>24&255)<<24|rn(p>>16&255,N>>16&255)<<16|rn(p>>8&255,N>>8&255)<<8|rn(255&p,255&N))>>>0};var Xl=R.PredictorAdd0;R.PredictorAdd1=gn,ft("Predictor2","PredictorAdd2"),ft("Predictor3","PredictorAdd3"),ft("Predictor4","PredictorAdd4"),ft("Predictor5","PredictorAdd5"),ft("Predictor6","PredictorAdd6"),ft("Predictor7","PredictorAdd7"),ft("Predictor8","PredictorAdd8"),ft("Predictor9","PredictorAdd9"),ft("Predictor10","PredictorAdd10"),ft("Predictor11","PredictorAdd11"),ft("Predictor12","PredictorAdd12"),ft("Predictor13","PredictorAdd13");var Ql=R.PredictorAdd2;xt("ColorIndexInverseTransform","MapARGB","32b",function(p){return p>>8&255},function(p){return p}),xt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(p){return p},function(p){return p>>8&255});var Jr,Uc=R.ColorIndexInverseTransform,Ms=R.MapARGB,js=R.VP8LColorIndexInverseTransformAlpha,Ui=R.MapAlpha,ao=R.VP8LPredictorsAdd=[];ao.length=16,(R.VP8LPredictors=[]).length=16,(R.VP8LPredictorsAdd_C=[]).length=16,(R.VP8LPredictors_C=[]).length=16;var Jl,Zl,so,oo,Us,gl,Va,lo,Qi,Ka,Qn,qn,Ar,Zr,Fs,ys,yl,Qu,rf,Hd,Gd,$d,af,sf,vl,Wa,Ju,Ba,bl=o(511),Fc=o(2041),Zu=o(225),ec=o(767),Vc=0,uo=Fc,tc=Zu,Ji=ec,Fi=bl,Bc=0,Zi=1,zc=2,Xa=3,nc=4,eu=5,Po=6,rc=7,qc=8,tu=9,Hc=10,Qa=[2,3,7],nu=[3,3,11],_l=[280,256,256,256,40],Gc=[0,1,1,1,0],ic=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Ja=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Za=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Mo=8,es=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],ts=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],za=null,Yd=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],of=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],$c=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Kd=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Vi=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Lr=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],kn=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ha=[],Hr=[],vs=[],jo=1,lf=2,co=[],Bi=[];at("UpsampleRgbLinePair",Mi,3),at("UpsampleBgrLinePair",pr,3),at("UpsampleRgbaLinePair",ua,4),at("UpsampleBgraLinePair",Os,4),at("UpsampleArgbLinePair",ks,4),at("UpsampleRgba4444LinePair",Ua,2),at("UpsampleRgb565LinePair",ji,2);var wl=R.UpsampleRgbLinePair,uf=R.UpsampleBgrLinePair,ru=R.UpsampleRgbaLinePair,Yc=R.UpsampleBgraLinePair,Uo=R.UpsampleArgbLinePair,Vs=R.UpsampleRgba4444LinePair,Fo=R.UpsampleRgb565LinePair,ns=16,iu=1<<ns-1,El=-227,Vo=482,Kc=6,Bo=0,zi=o(256),Wc=o(256),Wd=o(256),vg=o(256),bg=o(Vo-El),_g=o(Vo-El);no("YuvToRgbRow",Mi,3),no("YuvToBgrRow",pr,3),no("YuvToRgbaRow",ua,4),no("YuvToBgraRow",Os,4),no("YuvToArgbRow",ks,4),no("YuvToRgba4444Row",Ua,2),no("YuvToRgb565Row",ji,2);var ei=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],au=[0,2,8],ac=[8,7,6,4,4,2,2,2,1,1,1,1],sc=1;this.WebPDecodeRGBA=function(p,v,S,N,z){var H=Zi,G=new He,W=new Rt;G.ba=W,W.S=H,W.width=[W.width],W.height=[W.height];var Z=W.width,se=W.height,ye=new Lt;if(ye==null||p==null)var ke=2;else e(ye!=null),ke=ms(p,v,S,ye.width,ye.height,ye.Pd,ye.Qd,ye.format,null);if(ke!=0?Z=0:(Z!=null&&(Z[0]=ye.width[0]),se!=null&&(se[0]=ye.height[0]),Z=1),Z){W.width=W.width[0],W.height=W.height[0],N!=null&&(N[0]=W.width),z!=null&&(z[0]=W.height);e:{if(N=new Cr,(z=new Qe).data=p,z.w=v,z.ha=S,z.kd=1,v=[0],e(z!=null),((p=ms(z.data,z.w,z.ha,null,null,null,v,null,z))==0||p==7)&&v[0]&&(p=4),(v=p)==0){if(e(G!=null),N.data=z.data,N.w=z.w+z.offset,N.ha=z.ha-z.offset,N.put=Dt,N.ac=Dr,N.bc=ka,N.ma=G,z.xa){if((p=Jt())==null){G=1;break e}if((function(ie,we){var Re=[0],Be=[0],Le=[0];t:for(;;){if(ie==null)return 0;if(we==null)return ie.a=2,0;if(ie.l=we,ie.a=0,Ne(ie.m,we.data,we.w,we.ha),!Ii(ie.m,Re,Be,Le)){ie.a=3;break t}if(ie.xb=lf,we.width=Re[0],we.height=Be[0],!sn(Re[0],Be[0],1,ie,null))break t;return 1}return e(ie.a!=0),0})(p,N)){if(N=(v=gs(N.width,N.height,G.Oa,G.ba))==0){t:{N=p;n:for(;;){if(N==null){N=0;break t}if(e(N.s.yc!=null),e(N.s.Ya!=null),e(0<N.s.Wb),e((S=N.l)!=null),e((z=S.ma)!=null),N.xb!=0){if(N.ca=z.ba,N.tb=z.tb,e(N.ca!=null),!ro(z.Oa,S,Xa)){N.a=2;break n}if(!Pn(N,S.width)||S.da)break n;if((S.da||qt(N.ca.S))&&Me(),11>N.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),N.ca.f.kb.F!=null&&Me()),N.Pb&&0<N.s.ua&&N.s.vb.X==null&&!ne(N.s.vb,N.s.Wa.Xa)){N.a=1;break n}N.xb=0}if(!Pt(N,N.V,N.Ba,N.c,N.i,S.o,dt))break n;z.Dc=N.Ma,N=1;break t}e(N.a!=0),N=0}N=!N}N&&(v=p.a)}else v=p.a}else{if((p=new er)==null){G=1;break e}if(p.Fa=z.na,p.P=z.P,p.qc=z.Sa,Di(p,N)){if((v=gs(N.width,N.height,G.Oa,G.ba))==0){if(p.Aa=0,S=G.Oa,e((z=p)!=null),S!=null){if(0<(Z=0>(Z=S.Md)?0:100<Z?255:255*Z/100)){for(se=ye=0;4>se;++se)12>(ke=z.pb[se]).lc&&(ke.ia=Z*ac[0>ke.lc?0:ke.lc]>>3),ye|=ke.ia;ye&&(alert("todo:VP8InitRandom"),z.ia=1)}z.Ga=S.Id,100<z.Ga?z.Ga=100:0>z.Ga&&(z.Ga=0)}(function(ie,we){if(ie==null)return 0;if(we==null)return It(ie,2,"NULL VP8Io parameter in VP8Decode().");if(!ie.cb&&!Di(ie,we))return 0;if(e(ie.cb),we.ac==null||we.ac(we)){we.ob&&(ie.L=0);var Re=au[ie.L];if(ie.L==2?(ie.yb=0,ie.zb=0):(ie.yb=we.v-Re>>4,ie.zb=we.j-Re>>4,0>ie.yb&&(ie.yb=0),0>ie.zb&&(ie.zb=0)),ie.Va=we.o+15+Re>>4,ie.Hb=we.va+15+Re>>4,ie.Hb>ie.za&&(ie.Hb=ie.za),ie.Va>ie.Ub&&(ie.Va=ie.Ub),0<ie.L){var Be=ie.ed;for(Re=0;4>Re;++Re){var Le;if(ie.Qa.Cb){var Ve=ie.Qa.Lb[Re];ie.Qa.Fb||(Ve+=Be.Tb)}else Ve=Be.Tb;for(Le=0;1>=Le;++Le){var Ye=ie.gd[Re][Le],nt=Ve;if(Be.Pc&&(nt+=Be.vd[0],Le&&(nt+=Be.od[0])),0<(nt=0>nt?0:63<nt?63:nt)){var Xe=nt;0<Be.wb&&(Xe=4<Be.wb?Xe>>2:Xe>>1)>9-Be.wb&&(Xe=9-Be.wb),1>Xe&&(Xe=1),Ye.dd=Xe,Ye.tc=2*nt+Xe,Ye.ld=40<=nt?2:15<=nt?1:0}else Ye.tc=0;Ye.La=Le}}}Re=0}else It(ie,6,"Frame setup failed"),Re=ie.a;if(Re=Re==0){if(Re){ie.$c=0,0<ie.Aa||(ie.Ic=sc);t:{Re=ie.Ic,Be=4*(Xe=ie.za);var Nt=32*Xe,yt=Xe+1,dn=0<ie.L?Xe*(0<ie.Aa?2:1):0,At=(ie.Aa==2?2:1)*Xe;if((Ye=Be+832+(Le=3*(16*Re+au[ie.L])/2*Nt)+(Ve=ie.Fa!=null&&0<ie.Fa.length?ie.Kc.c*ie.Kc.i:0))!=Ye)Re=0;else{if(Ye>ie.Vb){if(ie.Vb=0,ie.Ec=o(Ye),ie.Fc=0,ie.Ec==null){Re=It(ie,1,"no memory during frame initialization.");break t}ie.Vb=Ye}Ye=ie.Ec,nt=ie.Fc,ie.Ac=Ye,ie.Bc=nt,nt+=Be,ie.Gd=u(Nt,Da),ie.Hd=0,ie.rb=u(yt+1,Ei),ie.sb=1,ie.wa=dn?u(dn,dr):null,ie.Y=0,ie.D.Nb=0,ie.D.wa=ie.wa,ie.D.Y=ie.Y,0<ie.Aa&&(ie.D.Y+=Xe),e(!0),ie.oc=Ye,ie.pc=nt,nt+=832,ie.ya=u(At,Oi),ie.aa=0,ie.D.ya=ie.ya,ie.D.aa=ie.aa,ie.Aa==2&&(ie.D.aa+=Xe),ie.R=16*Xe,ie.B=8*Xe,Xe=(Nt=au[ie.L])*ie.R,Nt=Nt/2*ie.B,ie.sa=Ye,ie.ta=nt+Xe,ie.qa=ie.sa,ie.ra=ie.ta+16*Re*ie.R+Nt,ie.Ha=ie.qa,ie.Ia=ie.ra+8*Re*ie.B+Nt,ie.$c=0,nt+=Le,ie.mb=Ve?Ye:null,ie.nb=Ve?nt:null,e(nt+Ve<=ie.Fc+ie.Vb),Ns(ie),s(ie.Ac,ie.Bc,0,Be),Re=1}}if(Re){if(we.ka=0,we.y=ie.sa,we.O=ie.ta,we.f=ie.qa,we.N=ie.ra,we.ea=ie.Ha,we.Vd=ie.Ia,we.fa=ie.R,we.Rc=ie.B,we.F=null,we.J=0,!Vc){for(Re=-255;255>=Re;++Re)bl[255+Re]=0>Re?-Re:Re;for(Re=-1020;1020>=Re;++Re)Fc[1020+Re]=-128>Re?-128:127<Re?127:Re;for(Re=-112;112>=Re;++Re)Zu[112+Re]=-16>Re?-16:15<Re?15:Re;for(Re=-255;510>=Re;++Re)ec[255+Re]=0>Re?0:255<Re?255:Re;Vc=1}Va=di,lo=cl,Ka=Pi,Qn=hl,qn=hs,Qi=Kl,Ar=ml,Zr=ja,Fs=V,ys=ae,yl=Oo,Qu=E,rf=ge,Hd=Ae,Gd=$a,$d=va,af=to,sf=ko,Hr[0]=Ls,Hr[1]=fl,Hr[2]=Js,Hr[3]=Io,Hr[4]=pi,Hr[5]=Zs,Hr[6]=ri,Hr[7]=tr,Hr[8]=eo,Hr[9]=aa,ha[0]=Pa,ha[1]=Ro,ha[2]=Lo,ha[3]=fs,ha[4]=ds,ha[5]=Xi,ha[6]=Rs,vs[0]=ps,vs[1]=dl,vs[2]=Ma,vs[3]=pl,vs[4]=Qr,vs[5]=oa,vs[6]=qa,Re=1}else Re=0}Re&&(Re=(function(In,Ir){for(In.M=0;In.M<In.Va;++In.M){var bn,vt=In.Jc[In.M&In.Xb],ut=In.m,Pr=In;for(bn=0;bn<Pr.za;++bn){var tn=ut,Sn=Pr,sr=Sn.Ac,mi=Sn.Bc+4*bn,qi=Sn.zc,Sr=Sn.ya[Sn.aa+bn];if(Sn.Qa.Bb?Sr.$b=ze(tn,Sn.Pa.jb[0])?2+ze(tn,Sn.Pa.jb[2]):ze(tn,Sn.Pa.jb[1]):Sr.$b=0,Sn.kc&&(Sr.Ad=ze(tn,Sn.Bd)),Sr.Za=!ze(tn,145)+0,Sr.Za){var ii=Sr.Ob,ea=0;for(Sn=0;4>Sn;++Sn){var ai,Nn=qi[0+Sn];for(ai=0;4>ai;++ai){Nn=Vi[sr[mi+ai]][Nn];for(var $n=$c[ze(tn,Nn[0])];0<$n;)$n=$c[2*$n+ze(tn,Nn[$n])];Nn=-$n,sr[mi+ai]=Nn}r(ii,ea,sr,mi,4),ea+=4,qi[0+Sn]=Nn}}else Nn=ze(tn,156)?ze(tn,128)?1:3:ze(tn,163)?2:0,Sr.Ob[0]=Nn,s(sr,mi,Nn,4),s(qi,0,Nn,4);Sr.Dd=ze(tn,142)?ze(tn,114)?ze(tn,183)?1:3:2:0}if(Pr.m.Ka)return It(In,7,"Premature end-of-partition0 encountered.");for(;In.ja<In.za;++In.ja){if(Pr=vt,tn=(ut=In).rb[ut.sb-1],sr=ut.rb[ut.sb+ut.ja],bn=ut.ya[ut.aa+ut.ja],mi=ut.kc?bn.Ad:0)tn.la=sr.la=0,bn.Za||(tn.Na=sr.Na=0),bn.Hc=0,bn.Gc=0,bn.ia=0;else{var Mr,Jn;if(tn=sr,sr=Pr,mi=ut.Pa.Xc,qi=ut.ya[ut.aa+ut.ja],Sr=ut.pb[qi.$b],Sn=qi.ad,ii=0,ea=ut.rb[ut.sb-1],Nn=ai=0,s(Sn,ii,0,384),qi.Za)var gi=0,jr=mi[3];else{$n=o(16);var Yn=tn.Na+ea.Na;if(Yn=za(sr,mi[1],Yn,Sr.Eb,0,$n,0),tn.Na=ea.Na=(0<Yn)+0,1<Yn)Va($n,0,Sn,ii);else{var ti=$n[0]+3>>3;for($n=0;256>$n;$n+=16)Sn[ii+$n]=ti}gi=1,jr=mi[0]}var or=15&tn.la,si=15&ea.la;for($n=0;4>$n;++$n){var oi=1&si;for(ti=Jn=0;4>ti;++ti)or=or>>1|(oi=(Yn=za(sr,jr,Yn=oi+(1&or),Sr.Sc,gi,Sn,ii))>gi)<<7,Jn=Jn<<2|(3<Yn?3:1<Yn?2:Sn[ii+0]!=0),ii+=16;or>>=4,si=si>>1|oi<<7,ai=(ai<<8|Jn)>>>0}for(jr=or,gi=si>>4,Mr=0;4>Mr;Mr+=2){for(Jn=0,or=tn.la>>4+Mr,si=ea.la>>4+Mr,$n=0;2>$n;++$n){for(oi=1&si,ti=0;2>ti;++ti)Yn=oi+(1&or),or=or>>1|(oi=0<(Yn=za(sr,mi[2],Yn,Sr.Qc,0,Sn,ii)))<<3,Jn=Jn<<2|(3<Yn?3:1<Yn?2:Sn[ii+0]!=0),ii+=16;or>>=2,si=si>>1|oi<<5}Nn|=Jn<<4*Mr,jr|=or<<4<<Mr,gi|=(240&si)<<Mr}tn.la=jr,ea.la=gi,qi.Hc=ai,qi.Gc=Nn,qi.ia=43690&Nn?0:Sr.ia,mi=!(ai|Nn)}if(0<ut.L&&(ut.wa[ut.Y+ut.ja]=ut.gd[bn.$b][bn.Za],ut.wa[ut.Y+ut.ja].La|=!mi),Pr.Ka)return It(In,7,"Premature end-of-file encountered.")}if(Ns(In),ut=Ir,Pr=1,bn=(vt=In).D,tn=0<vt.L&&vt.M>=vt.zb&&vt.M<=vt.Va,vt.Aa==0)t:{if(bn.M=vt.M,bn.uc=tn,Fa(vt,bn),Pr=1,bn=(Jn=vt.D).Nb,tn=(Nn=au[vt.L])*vt.R,sr=Nn/2*vt.B,$n=16*bn*vt.R,ti=8*bn*vt.B,mi=vt.sa,qi=vt.ta-tn+$n,Sr=vt.qa,Sn=vt.ra-sr+ti,ii=vt.Ha,ea=vt.Ia-sr+ti,si=(or=Jn.M)==0,ai=or>=vt.Va-1,vt.Aa==2&&Fa(vt,Jn),Jn.uc)for(oi=(Yn=vt).D.M,e(Yn.D.uc),Jn=Yn.yb;Jn<Yn.Hb;++Jn){gi=Jn,jr=oi;var mr=(Hn=(li=Yn).D).Nb;Mr=li.R;var Hn=Hn.wa[Hn.Y+gi],ta=li.sa,Gr=li.ta+16*mr*Mr+16*gi,Gt=Hn.dd,Wt=Hn.tc;if(Wt!=0)if(e(3<=Wt),li.L==1)0<gi&&$d(ta,Gr,Mr,Wt+4),Hn.La&&sf(ta,Gr,Mr,Wt),0<jr&&Gd(ta,Gr,Mr,Wt+4),Hn.La&&af(ta,Gr,Mr,Wt);else{var Kn=li.B,_a=li.qa,rs=li.ra+8*mr*Kn+8*gi,fa=li.Ha,li=li.Ia+8*mr*Kn+8*gi;mr=Hn.ld,0<gi&&(Zr(ta,Gr,Mr,Wt+4,Gt,mr),ys(_a,rs,fa,li,Kn,Wt+4,Gt,mr)),Hn.La&&(Qu(ta,Gr,Mr,Wt,Gt,mr),Hd(_a,rs,fa,li,Kn,Wt,Gt,mr)),0<jr&&(Ar(ta,Gr,Mr,Wt+4,Gt,mr),Fs(_a,rs,fa,li,Kn,Wt+4,Gt,mr)),Hn.La&&(yl(ta,Gr,Mr,Wt,Gt,mr),rf(_a,rs,fa,li,Kn,Wt,Gt,mr))}}if(vt.ia&&alert("todo:DitherRow"),ut.put!=null){if(Jn=16*or,or=16*(or+1),si?(ut.y=vt.sa,ut.O=vt.ta+$n,ut.f=vt.qa,ut.N=vt.ra+ti,ut.ea=vt.Ha,ut.W=vt.Ia+ti):(Jn-=Nn,ut.y=mi,ut.O=qi,ut.f=Sr,ut.N=Sn,ut.ea=ii,ut.W=ea),ai||(or-=Nn),or>ut.o&&(or=ut.o),ut.F=null,ut.J=null,vt.Fa!=null&&0<vt.Fa.length&&Jn<or&&(ut.J=m(vt,ut,Jn,or-Jn),ut.F=vt.mb,ut.F==null&&ut.F.length==0)){Pr=It(vt,3,"Could not decode alpha data.");break t}Jn<ut.j&&(Nn=ut.j-Jn,Jn=ut.j,e(!(1&Nn)),ut.O+=vt.R*Nn,ut.N+=vt.B*(Nn>>1),ut.W+=vt.B*(Nn>>1),ut.F!=null&&(ut.J+=ut.width*Nn)),Jn<or&&(ut.O+=ut.v,ut.N+=ut.v>>1,ut.W+=ut.v>>1,ut.F!=null&&(ut.J+=ut.v),ut.ka=Jn-ut.j,ut.U=ut.va-ut.v,ut.T=or-Jn,Pr=ut.put(ut))}bn+1!=vt.Ic||ai||(r(vt.sa,vt.ta-tn,mi,qi+16*vt.R,tn),r(vt.qa,vt.ra-sr,Sr,Sn+8*vt.B,sr),r(vt.Ha,vt.Ia-sr,ii,ea+8*vt.B,sr))}if(!Pr)return It(In,6,"Output aborted.")}return 1})(ie,we)),we.bc!=null&&we.bc(we),Re&=1}return Re?(ie.cb=0,Re):0})(p,N)||(v=p.a)}}else v=p.a}v==0&&G.Oa!=null&&G.Oa.fd&&(v=Xu(G.ba))}G=v}H=G!=0?null:11>H?W.f.RGBA.eb:W.f.kb.y}else H=null;return H};var Xc=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(R,q){for(var T="",D=0;D<4;D++)T+=String.fromCharCode(R[q++]);return T}function g(R,q){return R[q+0]|R[q+1]<<8}function w(R,q){return(R[q+0]|R[q+1]<<8|R[q+2]<<16)>>>0}function A(R,q){return(R[q+0]|R[q+1]<<8|R[q+2]<<16|R[q+3]<<24)>>>0}new f;var b=[0],M=[0],P=[],U=new f,F=n,$=(function(R,q){var T={},D=0,j=!1,le=0,xe=0;if(T.frames=[],!(function(I,K){for(var J=0;J<4;J++)if(I[K+J]!="RIFF".charCodeAt(J))return!0;return!1})(R,q)){for(A(R,q+=4),q+=8;q<R.length;){var re=d(R,q),me=A(R,q+=4);q+=4;var fe=me+(1&me);switch(re){case"VP8 ":case"VP8L":T.frames[D]===void 0&&(T.frames[D]={}),(Q=T.frames[D]).src_off=j?xe:q-8,Q.src_size=le+me+8,D++,j&&(j=!1,le=0,xe=0);break;case"VP8X":(Q=T.header={}).feature_flags=R[q];var Ne=q+4;Q.canvas_width=1+w(R,Ne),Ne+=3,Q.canvas_height=1+w(R,Ne),Ne+=3;break;case"ALPH":j=!0,le=fe+8,xe=q-8;break;case"ANIM":(Q=T.header).bgcolor=A(R,q),Ne=q+4,Q.loop_count=g(R,Ne),Ne+=2;break;case"ANMF":var Fe,Q;(Q=T.frames[D]={}).offset_x=2*w(R,q),q+=3,Q.offset_y=2*w(R,q),q+=3,Q.width=1+w(R,q),q+=3,Q.height=1+w(R,q),q+=3,Q.duration=w(R,q),q+=3,Fe=R[q++],Q.dispose=1&Fe,Q.blend=Fe>>1&1}re!="ANMF"&&(q+=fe)}return T}})(F,0);$.response=F,$.rgbaoutput=!0,$.dataurl=!1;var ee=$.header?$.header:null,te=$.frames?$.frames:null;if(ee){ee.loop_counter=ee.loop_count,b=[ee.canvas_height],M=[ee.canvas_width];for(var ce=0;ce<te.length&&te[ce].blend!=0;ce++);}var Ee=te[0],O=U.WebPDecodeRGBA(F,Ee.src_off,Ee.src_size,M,b);Ee.rgba=O,Ee.imgwidth=M[0],Ee.imgheight=b[0];for(var k=0;k<M[0]*b[0]*4;k++)P[k]=O[k];return this.width=M,this.height=b,this.data=P,this}/** ====================================================================
 * @license
 * jsPDF XMP metadata plugin
 * Copyright (c) 2016 Jussi Utunen, u-jussi@suomi24.fi
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 */function fP(){var n,e=this.internal.__metadata__.metadata,t=unescape(encodeURIComponent(e));n=this.internal.__metadata__.rawXml?t:'<x:xmpmeta xmlns:x="adobe:ns:meta/"><rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceUri+'"><jspdf:metadata>'+t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")+"</jspdf:metadata></rdf:Description></rdf:RDF></x:xmpmeta>",this.internal.__metadata__.metadataObjectNumber=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+n.length+" >>"),this.internal.write("stream"),this.internal.write(n),this.internal.write("endstream"),this.internal.write("endobj")}function dP(){this.internal.__metadata__.metadataObjectNumber&&this.internal.write("/Metadata "+this.internal.__metadata__.metadataObjectNumber+" 0 R")}(function(n){var e,t,r,s,o,u,c,f,d,g=function(I){return I=I||{},this.isStrokeTransparent=I.isStrokeTransparent||!1,this.strokeOpacity=I.strokeOpacity||1,this.strokeStyle=I.strokeStyle||"#000000",this.fillStyle=I.fillStyle||"#000000",this.isFillTransparent=I.isFillTransparent||!1,this.fillOpacity=I.fillOpacity||1,this.font=I.font||"10px sans-serif",this.textBaseline=I.textBaseline||"alphabetic",this.textAlign=I.textAlign||"left",this.lineWidth=I.lineWidth||1,this.lineJoin=I.lineJoin||"miter",this.lineCap=I.lineCap||"butt",this.path=I.path||[],this.transform=I.transform!==void 0?I.transform.clone():new f,this.globalCompositeOperation=I.globalCompositeOperation||"normal",this.globalAlpha=I.globalAlpha||1,this.clip_path=I.clip_path||[],this.currentPoint=I.currentPoint||new u,this.miterLimit=I.miterLimit||10,this.lastPoint=I.lastPoint||new u,this.lineDashOffset=I.lineDashOffset||0,this.lineDash=I.lineDash||[],this.margin=I.margin||[0,0,0,0],this.prevPageLastElemOffset=I.prevPageLastElemOffset||0,this.ignoreClearRect=typeof I.ignoreClearRect!="boolean"||I.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new w(this),e=this.internal.f2,t=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,u=this.internal.Point,c=this.internal.Rectangle,f=this.internal.Matrix,d=new g}]);var w=function(I){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var K=I;Object.defineProperty(this,"pdf",{get:function(){return K}});var J=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return J},set:function(ne){J=!!ne}});var oe=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return oe},set:function(ne){oe=!!ne}});var he=0;Object.defineProperty(this,"posX",{get:function(){return he},set:function(ne){isNaN(ne)||(he=ne)}});var be=0;Object.defineProperty(this,"posY",{get:function(){return be},set:function(ne){isNaN(ne)||(be=ne)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(ne){var ot;typeof ne=="number"?ot=[ne,ne,ne,ne]:((ot=new Array(4))[0]=ne[0],ot[1]=ne.length>=2?ne[1]:ot[0],ot[2]=ne.length>=3?ne[2]:ot[0],ot[3]=ne.length>=4?ne[3]:ot[1]),d.margin=ot}});var Ie=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Ie},set:function(ne){Ie=ne}});var De=0;Object.defineProperty(this,"lastBreak",{get:function(){return De},set:function(ne){De=ne}});var ze=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ze},set:function(ne){ze=ne}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(ne){ne instanceof g&&(d=ne)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(ne){d.path=ne}});var tt=[];Object.defineProperty(this,"ctxStack",{get:function(){return tt},set:function(ne){tt=ne}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ne){var ot;ot=A(ne),this.ctx.fillStyle=ot.style,this.ctx.isFillTransparent=ot.a===0,this.ctx.fillOpacity=ot.a,this.pdf.setFillColor(ot.r,ot.g,ot.b,{a:ot.a}),this.pdf.setTextColor(ot.r,ot.g,ot.b,{a:ot.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ne){var ot=A(ne);this.ctx.strokeStyle=ot.style,this.ctx.isStrokeTransparent=ot.a===0,this.ctx.strokeOpacity=ot.a,ot.a===0?this.pdf.setDrawColor(255,255,255):(ot.a,this.pdf.setDrawColor(ot.r,ot.g,ot.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ne){["butt","round","square"].indexOf(ne)!==-1&&(this.ctx.lineCap=ne,this.pdf.setLineCap(ne))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ne){isNaN(ne)||(this.ctx.lineWidth=ne,this.pdf.setLineWidth(ne))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ne){["bevel","round","miter"].indexOf(ne)!==-1&&(this.ctx.lineJoin=ne,this.pdf.setLineJoin(ne))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ne){isNaN(ne)||(this.ctx.miterLimit=ne,this.pdf.setMiterLimit(ne))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ne){this.ctx.textBaseline=ne}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ne){["right","end","center","left","start"].indexOf(ne)!==-1&&(this.ctx.textAlign=ne)}});var it=null,lt=null,bt=null;Object.defineProperty(this,"fontFaces",{get:function(){return bt},set:function(ne){it=null,lt=null,bt=ne}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ne){var ot;if(this.ctx.font=ne,(ot=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(ne))!==null){var un=ot[1];ot[2];var Ut=ot[3],$e=ot[4];ot[5];var pt=ot[6],ft=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec($e)[2];$e=Math.floor(ft==="px"?parseFloat($e)*this.pdf.internal.scaleFactor:ft==="em"?parseFloat($e)*this.pdf.getFontSize():parseFloat($e)*this.pdf.internal.scaleFactor),this.pdf.setFontSize($e);var Vt=(function(xt){var ur,fn,Et=[],Yt=xt.trim();if(Yt==="")return w0;if(Yt in $w)return[$w[Yt]];for(;Yt!=="";){switch(fn=null,ur=(Yt=Kw(Yt)).charAt(0)){case'"':case"'":fn=sP(Yt.substring(1),ur);break;default:fn=oP(Yt)}if(fn===null||(Et.push(fn[0]),(Yt=Kw(fn[1]))!==""&&Yt.charAt(0)!==","))return w0;Yt=Yt.replace(/^,/,"")}return Et})(pt);if(this.fontFaces){var kt=(function(xt,ur){var fn=xt.getFontList(),Et=JSON.stringify(fn);if(it===null||lt!==Et){var Yt=(function(on){var Ot=[];return Object.keys(on).forEach(function(Bn){on[Bn].forEach(function(qt){var Ft=null;switch(qt){case"bold":Ft={family:Bn,weight:"bold"};break;case"italic":Ft={family:Bn,style:"italic"};break;case"bolditalic":Ft={family:Bn,weight:"bold",style:"italic"};break;case"":case"normal":Ft={family:Bn}}Ft!==null&&(Ft.ref={name:Bn,style:qt},Ot.push(Ft))})}),Ot})(fn);it=(function(on){for(var Ot={},Bn=0;Bn<on.length;++Bn){var qt=_0(on[Bn]),Ft=qt.family,zn=qt.stretch,Rt=qt.style,Lt=qt.weight;Ot[Ft]=Ot[Ft]||{},Ot[Ft][zn]=Ot[Ft][zn]||{},Ot[Ft][zn][Rt]=Ot[Ft][zn][Rt]||{},Ot[Ft][zn][Rt][Lt]=qt}return Ot})(Yt.concat(ur)),lt=Et}return it})(this.pdf,this.fontFaces),Qt=Vt.map(function(xt){return{family:xt,stretch:"normal",weight:Ut,style:un}}),rn=(function(xt,ur,fn){for(var Et=(fn=fn||{}).defaultFontFamily||"times",Yt=Object.assign({},aP,fn.genericFontFamilies||{}),on=null,Ot=null,Bn=0;Bn<ur.length;++Bn)if(Yt[(on=_0(ur[Bn])).family]&&(on.family=Yt[on.family]),xt.hasOwnProperty(on.family)){Ot=xt[on.family];break}if(!(Ot=Ot||xt[Et]))throw new Error("Could not find a font-family for the rule '"+Yw(on)+"' and default family '"+Et+"'.");if(Ot=(function(qt,Ft){if(Ft[qt])return Ft[qt];var zn=h2[qt],Rt=zn<=h2.normal?-1:1,Lt=Gw(Ft,cS,zn,Rt);if(!Lt)throw new Error("Could not find a matching font-stretch value for "+qt);return Lt})(on.stretch,Ot),Ot=(function(qt,Ft){if(Ft[qt])return Ft[qt];for(var zn=uS[qt],Rt=0;Rt<zn.length;++Rt)if(Ft[zn[Rt]])return Ft[zn[Rt]];throw new Error("Could not find a matching font-style for "+qt)})(on.style,Ot),!(Ot=(function(qt,Ft){if(Ft[qt])return Ft[qt];if(qt===400&&Ft[500])return Ft[500];if(qt===500&&Ft[400])return Ft[400];var zn=iP[qt],Rt=Gw(Ft,hS,zn,qt<400?-1:1);if(!Rt)throw new Error("Could not find a matching font-weight for value "+qt);return Rt})(on.weight,Ot)))throw new Error("Failed to resolve a font for the rule '"+Yw(on)+"'.");return Ot})(kt,Qt);this.pdf.setFont(rn.ref.name,rn.ref.style)}else{var en="";(Ut==="bold"||parseInt(Ut,10)>=700||un==="bold")&&(en="bold"),un==="italic"&&(en+="italic"),en.length===0&&(en="normal");for(var gn="",$t={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},mt=0;mt<Vt.length;mt++){if(this.pdf.internal.getFont(Vt[mt],en,{noFallback:!0,disableWarning:!0})!==void 0){gn=Vt[mt];break}if(en==="bolditalic"&&this.pdf.internal.getFont(Vt[mt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)gn=Vt[mt],en="bold";else if(this.pdf.internal.getFont(Vt[mt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){gn=Vt[mt],en="normal";break}}if(gn===""){for(var an=0;an<Vt.length;an++)if($t[Vt[an]]){gn=$t[Vt[an]];break}}gn=gn===""?"Times":gn,this.pdf.setFont(gn,en)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ne){this.ctx.globalCompositeOperation=ne}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ne){this.ctx.globalAlpha=ne}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ne){this.ctx.lineDashOffset=ne,Q.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ne){this.ctx.lineDash=ne,Q.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ne){this.ctx.ignoreClearRect=!!ne}})};w.prototype.setLineDash=function(I){this.lineDash=I},w.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},w.prototype.fill=function(){te.call(this,"fill",!1)},w.prototype.stroke=function(){te.call(this,"stroke",!1)},w.prototype.beginPath=function(){this.path=[{type:"begin"}]},w.prototype.moveTo=function(I,K){if(isNaN(I)||isNaN(K))throw Or.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var J=this.ctx.transform.applyToPoint(new u(I,K));this.path.push({type:"mt",x:J.x,y:J.y}),this.ctx.lastPoint=new u(I,K)},w.prototype.closePath=function(){var I=new u(0,0),K=0;for(K=this.path.length-1;K!==-1;K--)if(this.path[K].type==="begin"&&_r(this.path[K+1])==="object"&&typeof this.path[K+1].x=="number"){I=new u(this.path[K+1].x,this.path[K+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new u(I.x,I.y)},w.prototype.lineTo=function(I,K){if(isNaN(I)||isNaN(K))throw Or.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var J=this.ctx.transform.applyToPoint(new u(I,K));this.path.push({type:"lt",x:J.x,y:J.y}),this.ctx.lastPoint=new u(J.x,J.y)},w.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),te.call(this,null,!0)},w.prototype.quadraticCurveTo=function(I,K,J,oe){if(isNaN(J)||isNaN(oe)||isNaN(I)||isNaN(K))throw Or.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var he=this.ctx.transform.applyToPoint(new u(J,oe)),be=this.ctx.transform.applyToPoint(new u(I,K));this.path.push({type:"qct",x1:be.x,y1:be.y,x:he.x,y:he.y}),this.ctx.lastPoint=new u(he.x,he.y)},w.prototype.bezierCurveTo=function(I,K,J,oe,he,be){if(isNaN(he)||isNaN(be)||isNaN(I)||isNaN(K)||isNaN(J)||isNaN(oe))throw Or.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Ie=this.ctx.transform.applyToPoint(new u(he,be)),De=this.ctx.transform.applyToPoint(new u(I,K)),ze=this.ctx.transform.applyToPoint(new u(J,oe));this.path.push({type:"bct",x1:De.x,y1:De.y,x2:ze.x,y2:ze.y,x:Ie.x,y:Ie.y}),this.ctx.lastPoint=new u(Ie.x,Ie.y)},w.prototype.arc=function(I,K,J,oe,he,be){if(isNaN(I)||isNaN(K)||isNaN(J)||isNaN(oe)||isNaN(he))throw Or.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(be=!!be,!this.ctx.transform.isIdentity){var Ie=this.ctx.transform.applyToPoint(new u(I,K));I=Ie.x,K=Ie.y;var De=this.ctx.transform.applyToPoint(new u(0,J)),ze=this.ctx.transform.applyToPoint(new u(0,0));J=Math.sqrt(Math.pow(De.x-ze.x,2)+Math.pow(De.y-ze.y,2))}Math.abs(he-oe)>=2*Math.PI&&(oe=0,he=2*Math.PI),this.path.push({type:"arc",x:I,y:K,radius:J,startAngle:oe,endAngle:he,counterclockwise:be})},w.prototype.arcTo=function(I,K,J,oe,he){throw new Error("arcTo not implemented.")},w.prototype.rect=function(I,K,J,oe){if(isNaN(I)||isNaN(K)||isNaN(J)||isNaN(oe))throw Or.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(I,K),this.lineTo(I+J,K),this.lineTo(I+J,K+oe),this.lineTo(I,K+oe),this.lineTo(I,K),this.lineTo(I+J,K),this.lineTo(I,K)},w.prototype.fillRect=function(I,K,J,oe){if(isNaN(I)||isNaN(K)||isNaN(J)||isNaN(oe))throw Or.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!b.call(this)){var he={};this.lineCap!=="butt"&&(he.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(he.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(I,K,J,oe),this.fill(),he.hasOwnProperty("lineCap")&&(this.lineCap=he.lineCap),he.hasOwnProperty("lineJoin")&&(this.lineJoin=he.lineJoin)}},w.prototype.strokeRect=function(I,K,J,oe){if(isNaN(I)||isNaN(K)||isNaN(J)||isNaN(oe))throw Or.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");M.call(this)||(this.beginPath(),this.rect(I,K,J,oe),this.stroke())},w.prototype.clearRect=function(I,K,J,oe){if(isNaN(I)||isNaN(K)||isNaN(J)||isNaN(oe))throw Or.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(I,K,J,oe))},w.prototype.save=function(I){I=typeof I!="boolean"||I;for(var K=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("q");if(this.pdf.setPage(K),I){this.ctx.fontSize=this.pdf.internal.getFontSize();var oe=new g(this.ctx);this.ctxStack.push(this.ctx),this.ctx=oe}},w.prototype.restore=function(I){I=typeof I!="boolean"||I;for(var K=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("Q");this.pdf.setPage(K),I&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},w.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var A=function(I){var K,J,oe,he;if(I.isCanvasGradient===!0&&(I=I.getColor()),!I)return{r:0,g:0,b:0,a:0,style:I};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(I))K=0,J=0,oe=0,he=0;else{var be=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(I);if(be!==null)K=parseInt(be[1]),J=parseInt(be[2]),oe=parseInt(be[3]),he=1;else if((be=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(I))!==null)K=parseInt(be[1]),J=parseInt(be[2]),oe=parseInt(be[3]),he=parseFloat(be[4]);else{if(he=1,typeof I=="string"&&I.charAt(0)!=="#"){var Ie=new nS(I);I=Ie.ok?Ie.toHex():"#000000"}I.length===4?(K=I.substring(1,2),K+=K,J=I.substring(2,3),J+=J,oe=I.substring(3,4),oe+=oe):(K=I.substring(1,3),J=I.substring(3,5),oe=I.substring(5,7)),K=parseInt(K,16),J=parseInt(J,16),oe=parseInt(oe,16)}}return{r:K,g:J,b:oe,a:he,style:I}},b=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},M=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};w.prototype.fillText=function(I,K,J,oe){if(isNaN(K)||isNaN(J)||typeof I!="string")throw Or.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(oe=isNaN(oe)?void 0:oe,!b.call(this)){var he=fe(this.ctx.transform.rotation),be=this.ctx.transform.scaleX;D.call(this,{text:I,x:K,y:J,scale:be,angle:he,align:this.textAlign,maxWidth:oe})}},w.prototype.strokeText=function(I,K,J,oe){if(isNaN(K)||isNaN(J)||typeof I!="string")throw Or.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!M.call(this)){oe=isNaN(oe)?void 0:oe;var he=fe(this.ctx.transform.rotation),be=this.ctx.transform.scaleX;D.call(this,{text:I,x:K,y:J,scale:be,renderingMode:"stroke",angle:he,align:this.textAlign,maxWidth:oe})}},w.prototype.measureText=function(I){if(typeof I!="string")throw Or.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var K=this.pdf,J=this.pdf.internal.scaleFactor,oe=K.internal.getFontSize(),he=K.getStringUnitWidth(I)*oe/K.internal.scaleFactor;return new function(be){var Ie=(be=be||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ie}}),this}({width:he*=Math.round(96*J/72*1e4)/1e4})},w.prototype.scale=function(I,K){if(isNaN(I)||isNaN(K))throw Or.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var J=new f(I,0,0,K,0,0);this.ctx.transform=this.ctx.transform.multiply(J)},w.prototype.rotate=function(I){if(isNaN(I))throw Or.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var K=new f(Math.cos(I),Math.sin(I),-Math.sin(I),Math.cos(I),0,0);this.ctx.transform=this.ctx.transform.multiply(K)},w.prototype.translate=function(I,K){if(isNaN(I)||isNaN(K))throw Or.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var J=new f(1,0,0,1,I,K);this.ctx.transform=this.ctx.transform.multiply(J)},w.prototype.transform=function(I,K,J,oe,he,be){if(isNaN(I)||isNaN(K)||isNaN(J)||isNaN(oe)||isNaN(he)||isNaN(be))throw Or.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Ie=new f(I,K,J,oe,he,be);this.ctx.transform=this.ctx.transform.multiply(Ie)},w.prototype.setTransform=function(I,K,J,oe,he,be){I=isNaN(I)?1:I,K=isNaN(K)?0:K,J=isNaN(J)?0:J,oe=isNaN(oe)?1:oe,he=isNaN(he)?0:he,be=isNaN(be)?0:be,this.ctx.transform=new f(I,K,J,oe,he,be)};var P=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};w.prototype.drawImage=function(I,K,J,oe,he,be,Ie,De,ze){var tt=this.pdf.getImageProperties(I),it=1,lt=1,bt=1,ne=1;oe!==void 0&&De!==void 0&&(bt=De/oe,ne=ze/he,it=tt.width/oe*De/oe,lt=tt.height/he*ze/he),be===void 0&&(be=K,Ie=J,K=0,J=0),oe!==void 0&&De===void 0&&(De=oe,ze=he),oe===void 0&&De===void 0&&(De=tt.width,ze=tt.height);var ot=this.ctx.transform.decompose(),un=fe(ot.rotate.shx),Ut=new f,$e=(Ut=(Ut=(Ut=Ut.multiply(ot.translate)).multiply(ot.skew)).multiply(ot.scale)).applyToRectangle(new c(be-K*bt,Ie-J*ne,oe*it,he*lt));if(this.autoPaging){for(var pt,ft=U.call(this,$e),Vt=[],kt=0;kt<ft.length;kt+=1)Vt.indexOf(ft[kt])===-1&&Vt.push(ft[kt]);ee(Vt);for(var Qt=Vt[0],rn=Vt[Vt.length-1],en=Qt;en<rn+1;en++){this.pdf.setPage(en);var gn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],$t=en===1?this.posY+this.margin[0]:this.margin[0],mt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],an=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],xt=en===1?0:mt+(en-2)*an;if(this.ctx.clip_path.length!==0){var ur=this.path;pt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=$(pt,this.posX+this.margin[3],-xt+$t+this.ctx.prevPageLastElemOffset),ce.call(this,"fill",!0),this.path=ur}var fn=JSON.parse(JSON.stringify($e));fn=$([fn],this.posX+this.margin[3],-xt+$t+this.ctx.prevPageLastElemOffset)[0];var Et=(en>Qt||en<rn)&&P.call(this);Et&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],gn,an,null).clip().discardPath()),this.pdf.addImage(I,"JPEG",fn.x,fn.y,fn.w,fn.h,null,null,un),Et&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(I,"JPEG",$e.x,$e.y,$e.w,$e.h,null,null,un)};var U=function(I,K,J){var oe=[];K=K||this.pdf.internal.pageSize.width,J=J||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var he=this.posY+this.ctx.prevPageLastElemOffset;switch(I.type){default:case"mt":case"lt":oe.push(Math.floor((I.y+he)/J)+1);break;case"arc":oe.push(Math.floor((I.y+he-I.radius)/J)+1),oe.push(Math.floor((I.y+he+I.radius)/J)+1);break;case"qct":var be=Ne(this.ctx.lastPoint.x,this.ctx.lastPoint.y,I.x1,I.y1,I.x,I.y);oe.push(Math.floor((be.y+he)/J)+1),oe.push(Math.floor((be.y+be.h+he)/J)+1);break;case"bct":var Ie=Fe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,I.x1,I.y1,I.x2,I.y2,I.x,I.y);oe.push(Math.floor((Ie.y+he)/J)+1),oe.push(Math.floor((Ie.y+Ie.h+he)/J)+1);break;case"rect":oe.push(Math.floor((I.y+he)/J)+1),oe.push(Math.floor((I.y+I.h+he)/J)+1)}for(var De=0;De<oe.length;De+=1)for(;this.pdf.internal.getNumberOfPages()<oe[De];)F.call(this);return oe},F=function(){var I=this.fillStyle,K=this.strokeStyle,J=this.font,oe=this.lineCap,he=this.lineWidth,be=this.lineJoin;this.pdf.addPage(),this.fillStyle=I,this.strokeStyle=K,this.font=J,this.lineCap=oe,this.lineWidth=he,this.lineJoin=be},$=function(I,K,J){for(var oe=0;oe<I.length;oe++)switch(I[oe].type){case"bct":I[oe].x2+=K,I[oe].y2+=J;case"qct":I[oe].x1+=K,I[oe].y1+=J;default:I[oe].x+=K,I[oe].y+=J}return I},ee=function(I){return I.sort(function(K,J){return K-J})},te=function(I,K){var J=this.fillStyle,oe=this.strokeStyle,he=this.lineCap,be=this.lineWidth,Ie=Math.abs(be*this.ctx.transform.scaleX),De=this.lineJoin;if(this.autoPaging){for(var ze,tt,it=JSON.parse(JSON.stringify(this.path)),lt=JSON.parse(JSON.stringify(this.path)),bt=[],ne=0;ne<lt.length;ne++)if(lt[ne].x!==void 0)for(var ot=U.call(this,lt[ne]),un=0;un<ot.length;un+=1)bt.indexOf(ot[un])===-1&&bt.push(ot[un]);for(var Ut=0;Ut<bt.length;Ut++)for(;this.pdf.internal.getNumberOfPages()<bt[Ut];)F.call(this);ee(bt);for(var $e=bt[0],pt=bt[bt.length-1],ft=$e;ft<pt+1;ft++){this.pdf.setPage(ft),this.fillStyle=J,this.strokeStyle=oe,this.lineCap=he,this.lineWidth=Ie,this.lineJoin=De;var Vt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],kt=ft===1?this.posY+this.margin[0]:this.margin[0],Qt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],rn=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],en=ft===1?0:Qt+(ft-2)*rn;if(this.ctx.clip_path.length!==0){var gn=this.path;ze=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=$(ze,this.posX+this.margin[3],-en+kt+this.ctx.prevPageLastElemOffset),ce.call(this,I,!0),this.path=gn}if(tt=JSON.parse(JSON.stringify(it)),this.path=$(tt,this.posX+this.margin[3],-en+kt+this.ctx.prevPageLastElemOffset),K===!1||ft===0){var $t=(ft>$e||ft<pt)&&P.call(this);$t&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Vt,rn,null).clip().discardPath()),ce.call(this,I,K),$t&&this.pdf.restoreGraphicsState()}this.lineWidth=be}this.path=it}else this.lineWidth=Ie,ce.call(this,I,K),this.lineWidth=be},ce=function(I,K){if((I!=="stroke"||K||!M.call(this))&&(I==="stroke"||K||!b.call(this))){for(var J,oe,he=[],be=this.path,Ie=0;Ie<be.length;Ie++){var De=be[Ie];switch(De.type){case"begin":he.push({begin:!0});break;case"close":he.push({close:!0});break;case"mt":he.push({start:De,deltas:[],abs:[]});break;case"lt":var ze=he.length;if(be[Ie-1]&&!isNaN(be[Ie-1].x)&&(J=[De.x-be[Ie-1].x,De.y-be[Ie-1].y],ze>0)){for(;ze>=0;ze--)if(he[ze-1].close!==!0&&he[ze-1].begin!==!0){he[ze-1].deltas.push(J),he[ze-1].abs.push(De);break}}break;case"bct":J=[De.x1-be[Ie-1].x,De.y1-be[Ie-1].y,De.x2-be[Ie-1].x,De.y2-be[Ie-1].y,De.x-be[Ie-1].x,De.y-be[Ie-1].y],he[he.length-1].deltas.push(J);break;case"qct":var tt=be[Ie-1].x+2/3*(De.x1-be[Ie-1].x),it=be[Ie-1].y+2/3*(De.y1-be[Ie-1].y),lt=De.x+2/3*(De.x1-De.x),bt=De.y+2/3*(De.y1-De.y),ne=De.x,ot=De.y;J=[tt-be[Ie-1].x,it-be[Ie-1].y,lt-be[Ie-1].x,bt-be[Ie-1].y,ne-be[Ie-1].x,ot-be[Ie-1].y],he[he.length-1].deltas.push(J);break;case"arc":he.push({deltas:[],abs:[],arc:!0}),Array.isArray(he[he.length-1].abs)&&he[he.length-1].abs.push(De)}}oe=K?null:I==="stroke"?"stroke":"fill";for(var un=!1,Ut=0;Ut<he.length;Ut++)if(he[Ut].arc)for(var $e=he[Ut].abs,pt=0;pt<$e.length;pt++){var ft=$e[pt];ft.type==="arc"?k.call(this,ft.x,ft.y,ft.radius,ft.startAngle,ft.endAngle,ft.counterclockwise,void 0,K,!un):j.call(this,ft.x,ft.y),un=!0}else if(he[Ut].close===!0)this.pdf.internal.out("h"),un=!1;else if(he[Ut].begin!==!0){var Vt=he[Ut].start.x,kt=he[Ut].start.y;le.call(this,he[Ut].deltas,Vt,kt),un=!0}oe&&R.call(this,oe),K&&q.call(this)}},Ee=function(I){var K=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,J=K*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return I-J;case"top":return I+K-J;case"hanging":return I+K-2*J;case"middle":return I+K/2-J;default:return I}},O=function(I){return I+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};w.prototype.createLinearGradient=function(){var I=function(){};return I.colorStops=[],I.addColorStop=function(K,J){this.colorStops.push([K,J])},I.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},I.isCanvasGradient=!0,I},w.prototype.createPattern=function(){return this.createLinearGradient()},w.prototype.createRadialGradient=function(){return this.createLinearGradient()};var k=function(I,K,J,oe,he,be,Ie,De,ze){for(var tt=re.call(this,J,oe,he,be),it=0;it<tt.length;it++){var lt=tt[it];it===0&&(ze?T.call(this,lt.x1+I,lt.y1+K):j.call(this,lt.x1+I,lt.y1+K)),xe.call(this,I,K,lt.x2,lt.y2,lt.x3,lt.y3,lt.x4,lt.y4)}De?q.call(this):R.call(this,Ie)},R=function(I){switch(I){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},q=function(){this.pdf.clip(),this.pdf.discardPath()},T=function(I,K){this.pdf.internal.out(t(I)+" "+r(K)+" m")},D=function(I){var K;switch(I.align){case"right":case"end":K="right";break;case"center":K="center";break;default:K="left"}var J,oe,he,be=this.pdf.getTextDimensions(I.text),Ie=Ee.call(this,I.y),De=O.call(this,Ie)-be.h,ze=this.ctx.transform.applyToPoint(new u(I.x,Ie));if(this.autoPaging){var tt=this.ctx.transform.decompose(),it=new f;it=(it=(it=it.multiply(tt.translate)).multiply(tt.skew)).multiply(tt.scale);for(var lt=this.ctx.transform.applyToRectangle(new c(I.x,Ie,be.w,be.h)),bt=it.applyToRectangle(new c(I.x,De,be.w,be.h)),ne=U.call(this,bt),ot=[],un=0;un<ne.length;un+=1)ot.indexOf(ne[un])===-1&&ot.push(ne[un]);ee(ot);for(var Ut=ot[0],$e=ot[ot.length-1],pt=Ut;pt<$e+1;pt++){this.pdf.setPage(pt);var ft=pt===1?this.posY+this.margin[0]:this.margin[0],Vt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],kt=this.pdf.internal.pageSize.height-this.margin[2],Qt=kt-this.margin[0],rn=this.pdf.internal.pageSize.width-this.margin[1],en=rn-this.margin[3],gn=pt===1?0:Vt+(pt-2)*Qt;if(this.ctx.clip_path.length!==0){var $t=this.path;J=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=$(J,this.posX+this.margin[3],-1*gn+ft),ce.call(this,"fill",!0),this.path=$t}var mt=$([JSON.parse(JSON.stringify(bt))],this.posX+this.margin[3],-gn+ft+this.ctx.prevPageLastElemOffset)[0];I.scale>=.01&&(oe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(oe*I.scale),he=this.lineWidth,this.lineWidth=he*I.scale);var an=this.autoPaging!=="text";if(an||mt.y+mt.h<=kt){if(an||mt.y>=ft&&mt.x<=rn){var xt=an?I.text:this.pdf.splitTextToSize(I.text,I.maxWidth||rn-mt.x)[0],ur=$([JSON.parse(JSON.stringify(lt))],this.posX+this.margin[3],-gn+ft+this.ctx.prevPageLastElemOffset)[0],fn=an&&(pt>Ut||pt<$e)&&P.call(this);fn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],en,Qt,null).clip().discardPath()),this.pdf.text(xt,ur.x,ur.y,{angle:I.angle,align:K,renderingMode:I.renderingMode}),fn&&this.pdf.restoreGraphicsState()}}else mt.y<kt&&(this.ctx.prevPageLastElemOffset+=kt-mt.y);I.scale>=.01&&(this.pdf.setFontSize(oe),this.lineWidth=he)}}else I.scale>=.01&&(oe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(oe*I.scale),he=this.lineWidth,this.lineWidth=he*I.scale),this.pdf.text(I.text,ze.x+this.posX,ze.y+this.posY,{angle:I.angle,align:K,renderingMode:I.renderingMode,maxWidth:I.maxWidth}),I.scale>=.01&&(this.pdf.setFontSize(oe),this.lineWidth=he)},j=function(I,K,J,oe){J=J||0,oe=oe||0,this.pdf.internal.out(t(I+J)+" "+r(K+oe)+" l")},le=function(I,K,J){return this.pdf.lines(I,K,J,null,null)},xe=function(I,K,J,oe,he,be,Ie,De){this.pdf.internal.out([e(s(J+I)),e(o(oe+K)),e(s(he+I)),e(o(be+K)),e(s(Ie+I)),e(o(De+K)),"c"].join(" "))},re=function(I,K,J,oe){for(var he=2*Math.PI,be=Math.PI/2;K>J;)K-=he;var Ie=Math.abs(J-K);Ie<he&&oe&&(Ie=he-Ie);for(var De=[],ze=oe?-1:1,tt=K;Ie>1e-5;){var it=tt+ze*Math.min(Ie,be);De.push(me.call(this,I,tt,it)),Ie-=Math.abs(it-tt),tt=it}return De},me=function(I,K,J){var oe=(J-K)/2,he=I*Math.cos(oe),be=I*Math.sin(oe),Ie=he,De=-be,ze=Ie*Ie+De*De,tt=ze+Ie*he+De*be,it=4/3*(Math.sqrt(2*ze*tt)-tt)/(Ie*be-De*he),lt=Ie-it*De,bt=De+it*Ie,ne=lt,ot=-bt,un=oe+K,Ut=Math.cos(un),$e=Math.sin(un);return{x1:I*Math.cos(K),y1:I*Math.sin(K),x2:lt*Ut-bt*$e,y2:lt*$e+bt*Ut,x3:ne*Ut-ot*$e,y3:ne*$e+ot*Ut,x4:I*Math.cos(J),y4:I*Math.sin(J)}},fe=function(I){return 180*I/Math.PI},Ne=function(I,K,J,oe,he,be){var Ie=I+.5*(J-I),De=K+.5*(oe-K),ze=he+.5*(J-he),tt=be+.5*(oe-be),it=Math.min(I,he,Ie,ze),lt=Math.max(I,he,Ie,ze),bt=Math.min(K,be,De,tt),ne=Math.max(K,be,De,tt);return new c(it,bt,lt-it,ne-bt)},Fe=function(I,K,J,oe,he,be,Ie,De){var ze,tt,it,lt,bt,ne,ot,un,Ut,$e,pt,ft,Vt,kt,Qt=J-I,rn=oe-K,en=he-J,gn=be-oe,$t=Ie-he,mt=De-be;for(tt=0;tt<41;tt++)Ut=(ot=(it=I+(ze=tt/40)*Qt)+ze*((bt=J+ze*en)-it))+ze*(bt+ze*(he+ze*$t-bt)-ot),$e=(un=(lt=K+ze*rn)+ze*((ne=oe+ze*gn)-lt))+ze*(ne+ze*(be+ze*mt-ne)-un),tt==0?(pt=Ut,ft=$e,Vt=Ut,kt=$e):(pt=Math.min(pt,Ut),ft=Math.min(ft,$e),Vt=Math.max(Vt,Ut),kt=Math.max(kt,$e));return new c(Math.round(pt),Math.round(ft),Math.round(Vt-pt),Math.round(kt-ft))},Q=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var I,K,J=(I=this.ctx.lineDash,K=this.ctx.lineDashOffset,JSON.stringify({lineDash:I,lineDashOffset:K}));this.prevLineDash!==J&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=J)}}})(zt.API),(function(n){var e=function(u){var c,f,d,g,w,A,b,M,P,U;for(f=[],d=0,g=(u+=c="\0\0\0\0".slice(u.length%4||4)).length;g>d;d+=4)(w=(u.charCodeAt(d)<<24)+(u.charCodeAt(d+1)<<16)+(u.charCodeAt(d+2)<<8)+u.charCodeAt(d+3))!==0?(A=(w=((w=((w=((w=(w-(U=w%85))/85)-(P=w%85))/85)-(M=w%85))/85)-(b=w%85))/85)%85,f.push(A+33,b+33,M+33,P+33,U+33)):f.push(122);return(function(F,$){for(var ee=$;ee>0;ee--)F.pop()})(f,c.length),String.fromCharCode.apply(String,f)+"~>"},t=function(u){var c,f,d,g,w,A=String,b="length",M=255,P="charCodeAt",U="slice",F="replace";for(u[U](-2),u=u[U](0,-2)[F](/\s/g,"")[F]("z","!!!!!"),d=[],g=0,w=(u+=c="uuuuu"[U](u[b]%5||5))[b];w>g;g+=5)f=52200625*(u[P](g)-33)+614125*(u[P](g+1)-33)+7225*(u[P](g+2)-33)+85*(u[P](g+3)-33)+(u[P](g+4)-33),d.push(M&f>>24,M&f>>16,M&f>>8,M&f);return(function($,ee){for(var te=ee;te>0;te--)$.pop()})(d,c[b]),A.fromCharCode.apply(A,d)},r=function(u){return u.split("").map(function(c){return("0"+c.charCodeAt().toString(16)).slice(-2)}).join("")+">"},s=function(u){var c=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((u=u.replace(/\s/g,"")).indexOf(">")!==-1&&(u=u.substr(0,u.indexOf(">"))),u.length%2&&(u+="0"),c.test(u)===!1)return"";for(var f="",d=0;d<u.length;d+=2)f+=String.fromCharCode("0x"+(u[d]+u[d+1]));return f},o=function(u){for(var c=new Uint8Array(u.length),f=u.length;f--;)c[f]=u.charCodeAt(f);return(c=i2(c)).reduce(function(d,g){return d+String.fromCharCode(g)},"")};n.processDataByFilters=function(u,c){var f=0,d=u||"",g=[];for(typeof(c=c||[])=="string"&&(c=[c]),f=0;f<c.length;f+=1)switch(c[f]){case"ASCII85Decode":case"/ASCII85Decode":d=t(d),g.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=e(d),g.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=s(d),g.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=r(d),g.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=o(d),g.push("/FlateDecode");break;default:throw new Error('The filter: "'+c[f]+'" is not implemented')}return{data:d,reverseChain:g.reverse().join(" ")}}})(zt.API),(function(n){n.loadFile=function(e,t,r){return(function(s,o,u){o=o!==!1,u=typeof u=="function"?u:function(){};var c=void 0;try{c=(function(f,d,g){var w=new XMLHttpRequest,A=0,b=function(M){var P=M.length,U=[],F=String.fromCharCode;for(A=0;A<P;A+=1)U.push(F(255&M.charCodeAt(A)));return U.join("")};if(w.open("GET",f,!d),w.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(w.onload=function(){w.status===200?g(b(this.responseText)):g(void 0)}),w.send(null),d&&w.status===200)return b(w.responseText)})(s,o,u)}catch{}return c})(e,t,r)},n.allowFsRead=void 0,n.loadImageFile=n.loadFile})(zt.API),(function(n){function e(){return(pn.html2canvas?Promise.resolve(pn.html2canvas):Fu(()=>import("./html2canvas.esm-QH1iLAAe.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load html2canvas: "+c))}).then(function(c){return c.default?c.default:c})}function t(){return(pn.DOMPurify?Promise.resolve(pn.DOMPurify):Fu(()=>import("./purify.es-B9ZVCkUG.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load dompurify: "+c))}).then(function(c){return c.default?c.default:c})}var r=function(c){var f=_r(c);return f==="undefined"?"undefined":f==="string"||c instanceof String?"string":f==="number"||c instanceof Number?"number":f==="function"||c instanceof Function?"function":c&&c.constructor===Array?"array":c&&c.nodeType===1?"element":f==="object"?"object":"unknown"},s=function(c,f){var d=document.createElement(c);for(var g in f.className&&(d.className=f.className),f.innerHTML&&f.dompurify&&(d.innerHTML=f.dompurify.sanitize(f.innerHTML)),f.style)d.style[g]=f.style[g];return d},o=function c(f,d){for(var g=f.nodeType===3?document.createTextNode(f.nodeValue):f.cloneNode(!1),w=f.firstChild;w;w=w.nextSibling)d!==!0&&w.nodeType===1&&w.nodeName==="SCRIPT"||g.appendChild(c(w,d));return f.nodeType===1&&(f.nodeName==="CANVAS"?(g.width=f.width,g.height=f.height,g.getContext("2d").drawImage(f,0,0)):f.nodeName!=="TEXTAREA"&&f.nodeName!=="SELECT"||(g.value=f.value),g.addEventListener("load",function(){g.scrollTop=f.scrollTop,g.scrollLeft=f.scrollLeft},!0)),g},u=function c(f){var d=Object.assign(c.convert(Promise.resolve()),JSON.parse(JSON.stringify(c.template))),g=c.convert(Promise.resolve(),d);return(g=g.setProgress(1,c,1,[c])).set(f)};(u.prototype=Object.create(Promise.prototype)).constructor=u,u.convert=function(c,f){return c.__proto__=f||u.prototype,c},u.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},u.prototype.from=function(c,f){return this.then(function(){switch(f=f||(function(d){switch(r(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(c),f){case"string":return this.then(t).then(function(d){return this.set({src:s("div",{innerHTML:c,dompurify:d})})});case"element":return this.set({src:c});case"canvas":return this.set({canvas:c});case"img":return this.set({img:c});default:return this.error("Unknown source type.")}})},u.prototype.to=function(c){switch(c){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},u.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var c={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},f=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);f.tagName==="BODY"&&(c.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:c}),this.prop.container.appendChild(f),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},u.prototype.toCanvas=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(e).then(function(f){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,f(this.prop.container,d)}).then(function(f){(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},u.prototype.toContext2d=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(e).then(function(f){var d=this.opt.jsPDF,g=this.opt.fontFaces,w=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,A=Object.assign({async:!0,allowTaint:!0,scale:w,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete A.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=g,g)for(var b=0;b<g.length;++b){var M=g[b],P=M.src.find(function(U){return U.format==="truetype"});P&&d.addFont(P.url,M.ref.name,M.ref.style)}return A.windowHeight=A.windowHeight||0,A.windowHeight=A.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):A.windowHeight,d.context2d.save(!0),f(this.prop.container,A)}).then(function(f){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(f),this.prop.canvas=f,document.body.removeChild(this.prop.overlay)})},u.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var c=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=c})},u.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},u.prototype.output=function(c,f,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(c,f):this.outputPdf(c,f)},u.prototype.outputPdf=function(c,f){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(c,f)})},u.prototype.outputImg=function(c){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(c){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+c+'" is not supported.'}})},u.prototype.save=function(c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(c?{filename:c}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},u.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},u.prototype.set=function(c){if(r(c)!=="object")return this;var f=Object.keys(c||{}).map(function(d){if(d in u.template.prop)return function(){this.prop[d]=c[d]};switch(d){case"margin":return this.setMargin.bind(this,c.margin);case"jsPDF":return function(){return this.opt.jsPDF=c.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,c.pageSize);default:return function(){this.opt[d]=c[d]}}},this);return this.then(function(){return this.thenList(f)})},u.prototype.get=function(c,f){return this.then(function(){var d=c in u.template.prop?this.prop[c]:this.opt[c];return f?f(d):d})},u.prototype.setMargin=function(c){return this.then(function(){switch(r(c)){case"number":c=[c,c,c,c];case"array":if(c.length===2&&(c=[c[0],c[1],c[0],c[1]]),c.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=c}).then(this.setPageSize)},u.prototype.setPageSize=function(c){function f(d,g){return Math.floor(d*g/72*96)}return this.then(function(){(c=c||zt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(c.inner={width:c.width-this.opt.margin[1]-this.opt.margin[3],height:c.height-this.opt.margin[0]-this.opt.margin[2]},c.inner.px={width:f(c.inner.width,c.k),height:f(c.inner.height,c.k)},c.inner.ratio=c.inner.height/c.inner.width),this.prop.pageSize=c})},u.prototype.setProgress=function(c,f,d,g){return c!=null&&(this.progress.val=c),f!=null&&(this.progress.state=f),d!=null&&(this.progress.n=d),g!=null&&(this.progress.stack=g),this.progress.ratio=this.progress.val/this.progress.state,this},u.prototype.updateProgress=function(c,f,d,g){return this.setProgress(c?this.progress.val+c:null,f||null,d?this.progress.n+d:null,g?this.progress.stack.concat(g):null)},u.prototype.then=function(c,f){var d=this;return this.thenCore(c,f,function(g,w){return d.updateProgress(null,null,1,[g]),Promise.prototype.then.call(this,function(A){return d.updateProgress(null,g),A}).then(g,w).then(function(A){return d.updateProgress(1),A})})},u.prototype.thenCore=function(c,f,d){d=d||Promise.prototype.then;var g=this;c&&(c=c.bind(g)),f&&(f=f.bind(g));var w=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?g:u.convert(Object.assign({},g),Promise.prototype),A=d.call(w,c,f);return u.convert(A,g.__proto__)},u.prototype.thenExternal=function(c,f){return Promise.prototype.then.call(this,c,f)},u.prototype.thenList=function(c){var f=this;return c.forEach(function(d){f=f.thenCore(d)}),f},u.prototype.catch=function(c){c&&(c=c.bind(this));var f=Promise.prototype.catch.call(this,c);return u.convert(f,this)},u.prototype.catchExternal=function(c){return Promise.prototype.catch.call(this,c)},u.prototype.error=function(c){return this.then(function(){throw new Error(c)})},u.prototype.using=u.prototype.set,u.prototype.saveAs=u.prototype.save,u.prototype.export=u.prototype.output,u.prototype.run=u.prototype.then,zt.getPageSize=function(c,f,d){if(_r(c)==="object"){var g=c;c=g.orientation,f=g.unit||f,d=g.format||d}f=f||"mm",d=d||"a4",c=(""+(c||"P")).toLowerCase();var w,A=(""+d).toLowerCase(),b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(f){case"pt":w=1;break;case"mm":w=72/25.4;break;case"cm":w=72/2.54;break;case"in":w=72;break;case"px":w=.75;break;case"pc":case"em":w=12;break;case"ex":w=6;break;default:throw"Invalid unit: "+f}var M,P=0,U=0;if(b.hasOwnProperty(A))P=b[A][1]/w,U=b[A][0]/w;else try{P=d[1],U=d[0]}catch{throw new Error("Invalid format: "+d)}if(c==="p"||c==="portrait")c="p",U>P&&(M=U,U=P,P=M);else{if(c!=="l"&&c!=="landscape")throw"Invalid orientation: "+c;c="l",P>U&&(M=U,U=P,P=M)}return{width:U,height:P,unit:f,k:w,orientation:c}},n.html=function(c,f){(f=f||{}).callback=f.callback||function(){},f.html2canvas=f.html2canvas||{},f.html2canvas.canvas=f.html2canvas.canvas||this.canvas,f.jsPDF=f.jsPDF||this,f.fontFaces=f.fontFaces?f.fontFaces.map(_0):null;var d=new u(f);return f.worker?d:d.from(c).doCallback()}})(zt.API),zt.API.addJS=function(n){var e,t,r=(function(s){for(var o="",u=0;u<s.length;u++){var c=s[u];if(c==="("||c===")"){for(var f=0,d=u-1;d>=0&&s[d]==="\\";d--)f++;o+=f%2==0?"\\"+c:c}else o+=c}return o})(n);return this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(e+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+r+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){e!==void 0&&t!==void 0&&this.internal.out("/Names <</JavaScript "+e+" 0 R>>")}),this},(function(n){var e;n.events.push(["postPutResources",function(){var t=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=t.outline.render().split(/\r\n/),o=0;o<s.length;o++){var u=s[o],c=r.exec(u);if(c!=null){var f=c[1];t.internal.newObjectDeferredBegin(f,!1)}t.internal.write(u)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,g=[];for(o=0;o<d;o++){var w=t.internal.newObject();g.push(w);var A=t.internal.getPageInfo(o+1);t.internal.write("<< /D["+A.objId+" 0 R /XYZ null null null]>> endobj")}var b=t.internal.newObject();for(t.internal.write("<< /Names [ "),o=0;o<g.length;o++)t.internal.write("(page_"+(o+1)+")"+g[o]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+b+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(r,s,o){var u={title:s,options:o,children:[]};return r==null&&(r=this.root),r.children.push(u),u},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(r){r.id=t.internal.newObjectDeferred();for(var s=0;s<r.children.length;s++)this.genIds_r(r.children[s])},t.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},t.outline.renderItems=function(r){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<r.children.length;o++){var u=r.children[o];this.objStart(u),this.line("/Title "+this.makeString(u.title)),this.line("/Parent "+this.makeRef(r)),o>0&&this.line("/Prev "+this.makeRef(r.children[o-1])),o<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[o+1])),u.children.length>0&&(this.line("/First "+this.makeRef(u.children[0])),this.line("/Last "+this.makeRef(u.children[u.children.length-1])));var c=this.count=this.count_r({count:0},u);if(c>0&&this.line("/Count "+c),u.options&&u.options.pageNumber){var f=t.internal.getPageInfo(u.options.pageNumber);this.line("/Dest ["+f.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var d=0;d<r.children.length;d++)this.renderItems(r.children[d])},t.outline.line=function(r){this.ctx.val+=r+`\r
`},t.outline.makeRef=function(r){return r.id+" 0 R"},t.outline.makeString=function(r){return"("+t.internal.pdfEscape(r)+")"},t.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(r,s){for(var o=0;o<s.children.length;o++)r.count++,this.count_r(r,s.children[o]);return r.count}}])})(zt.API),(function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,r,s,o,u,c){var f,d=this.decode.DCT_DECODE,g=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=u||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,f=(function(w){for(var A,b=256*w.charCodeAt(4)+w.charCodeAt(5),M=w.length,P={width:0,height:0,numcomponents:1},U=4;U<M;U+=2){if(U+=b,e.indexOf(w.charCodeAt(U+1))!==-1){A=256*w.charCodeAt(U+5)+w.charCodeAt(U+6),P={width:256*w.charCodeAt(U+7)+w.charCodeAt(U+8),height:A,numcomponents:w.charCodeAt(U+9)};break}b=256*w.charCodeAt(U+2)+w.charCodeAt(U+3)}return P})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),f.numcomponents){case 1:c=this.color_spaces.DEVICE_GRAY;break;case 4:c=this.color_spaces.DEVICE_CMYK;break;case 3:c=this.color_spaces.DEVICE_RGB}g={data:t,width:f.width,height:f.height,colorSpace:c,bitsPerComponent:8,filter:d,index:r,alias:s}}return g}})(zt.API),zt.API.processPNG=function(n,e,t,r){if(this.__addimage__.isArrayBuffer(n)&&(n=new Uint8Array(n)),this.__addimage__.isArrayBufferView(n)){var s,o=H9(n,{checkCrc:!0}),u=o.width,c=o.height,f=o.channels,d=o.palette,g=o.depth;s=d&&f===1?(function(k){for(var R=k.width,q=k.height,T=k.data,D=k.palette,j=k.depth,le=!1,xe=[],re=[],me=void 0,fe=!1,Ne=0,Fe=0;Fe<D.length;Fe++){var Q=ew(D[Fe],4),I=Q[0],K=Q[1],J=Q[2],oe=Q[3];xe.push(I,K,J),oe!=null&&(oe===0?(Ne++,re.length<1&&re.push(Fe)):oe<255&&(fe=!0))}if(fe||Ne>1){le=!0,re=void 0;var he=R*q;me=new Uint8Array(he);for(var be=new DataView(T.buffer),Ie=0;Ie<he;Ie++){var De=E0(be,Ie,j),ze=ew(D[De],4)[3];me[Ie]=ze}}else Ne===0&&(re=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:le?8:void 0,colorBytes:T,alphaBytes:me,needSMask:le,palette:xe,mask:re}})(o):f===2||f===4?(function(k){for(var R=k.data,q=k.width,T=k.height,D=k.channels,j=k.depth,le=D===2?"DeviceGray":"DeviceRGB",xe=D-1,re=q*T,me=xe,fe=re*me,Ne=1*re,Fe=Math.ceil(fe*j/8),Q=Math.ceil(Ne*j/8),I=new Uint8Array(Fe),K=new Uint8Array(Q),J=new DataView(R.buffer),oe=new DataView(I.buffer),he=new DataView(K.buffer),be=!1,Ie=0;Ie<re;Ie++){for(var De=Ie*D,ze=0;ze<me;ze++)r4(oe,E0(J,De+ze,j),Ie*me+ze,j);var tt=E0(J,De+me,j);tt<(1<<j)-1&&(be=!0),r4(he,tt,1*Ie,j)}return{colorSpace:le,colorsPerPixel:xe,sMaskBitsPerComponent:be?j:void 0,colorBytes:I,alphaBytes:K,needSMask:be}})(o):(function(k){var R=k.data,q=k.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:q,colorsPerPixel:q==="DeviceGray"?1:3,colorBytes:R instanceof Uint16Array?(function(T){for(var D=T.length,j=new Uint8Array(2*D),le=new DataView(j.buffer,j.byteOffset,j.byteLength),xe=0;xe<D;xe++)le.setUint16(2*xe,T[xe],!1);return j})(R):R,needSMask:!1}})(o);var w,A,b,M=s,P=M.colorSpace,U=M.colorsPerPixel,F=M.sMaskBitsPerComponent,$=M.colorBytes,ee=M.alphaBytes,te=M.needSMask,ce=M.palette,Ee=M.mask,O=null;return r!==zt.API.image_compression.NONE&&typeof i2=="function"?(O=(function(k){var R;switch(k){case zt.API.image_compression.FAST:R=11;break;case zt.API.image_compression.MEDIUM:R=13;break;case zt.API.image_compression.SLOW:R=14;break;default:R=12}return R})(r),w=this.decode.FLATE_DECODE,A="/Predictor ".concat(O," /Colors ").concat(U," /BitsPerComponent ").concat(g," /Columns ").concat(u),n=Jw($,Math.ceil(u*U*g/8),U,g,r),te&&(b=Jw(ee,Math.ceil(u*F/8),1,F,r))):(w=void 0,A=void 0,n=$,te&&(b=ee)),(this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n))&&(n=this.__addimage__.arrayBufferToBinaryString(n)),(b&&this.__addimage__.isArrayBuffer(b)||this.__addimage__.isArrayBufferView(b))&&(b=this.__addimage__.arrayBufferToBinaryString(b)),{alias:t,data:n,index:e,filter:w,decodeParameters:A,transparency:Ee,palette:ce,sMask:b,predictor:O,width:u,height:c,bitsPerComponent:g,sMaskBitsPerComponent:F,colorSpace:P}}},(function(n){n.processGIF89A=function(e,t,r,s){var o=new hP(e),u=o.width,c=o.height,f=[];o.decodeAndBlitFrameRGBA(0,f);var d={data:f,width:u,height:c},g=new A0(100).encode(d,100);return n.processJPEG.call(this,g,t,r,s)},n.processGIF87A=n.processGIF89A})(zt.API),vo.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:s,green:r,blue:t,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},vo.prototype.parseBGR=function(){this.pos=this.offset;var n="bit"+this.bitPP,e=this.width*this.height*4;if(e>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");this.data=new Uint8Array(e);try{this[n]()}catch(t){Or.log("bit decode error:"+t)}},vo.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,s=0;s<e;s++)for(var o=this.datav.getUint8(this.pos++,!0),u=r*this.width*4+8*s*4,c=0;c<8&&8*s+c<this.width;c++){var f=this.palette[o>>7-c&1];this.data[u+4*c]=f.blue,this.data[u+4*c+1]=f.green,this.data[u+4*c+2]=f.red,this.data[u+4*c+3]=255}t!==0&&(this.pos+=4-t)}},vo.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,s=0;s<n;s++){var o=this.datav.getUint8(this.pos++,!0),u=r*this.width*4+2*s*4,c=o>>4,f=15&o,d=this.palette[c];if(this.data[u]=d.blue,this.data[u+1]=d.green,this.data[u+2]=d.red,this.data[u+3]=255,2*s+1>=this.width)break;d=this.palette[f],this.data[u+4]=d.blue,this.data[u+4+1]=d.green,this.data[u+4+2]=d.red,this.data[u+4+3]=255}e!==0&&(this.pos+=4-e)}},vo.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;if(s<this.palette.length){var u=this.palette[s];this.data[o]=u.red,this.data[o+1]=u.green,this.data[o+2]=u.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}n!==0&&(this.pos+=4-n)}},vo.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(o&e)/e*255|0,c=(o>>5&e)/e*255|0,f=(o>>10&e)/e*255|0,d=o>>15?255:0,g=r*this.width*4+4*s;this.data[g]=f,this.data[g+1]=c,this.data[g+2]=u,this.data[g+3]=d}this.pos+=n}},vo.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var s=this.bottom_up?r:this.height-1-r,o=0;o<this.width;o++){var u=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(u&e)/e*255|0,f=(u>>5&t)/t*255|0,d=(u>>11)/e*255|0,g=s*this.width*4+4*o;this.data[g]=d,this.data[g+1]=f,this.data[g+2]=c,this.data[g+3]=255}this.pos+=n}},vo.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),u=e*this.width*4+4*t;this.data[u]=o,this.data[u+1]=s,this.data[u+2]=r,this.data[u+3]=255}this.pos+=this.width%4}},vo.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),u=this.datav.getUint8(this.pos++,!0),c=e*this.width*4+4*t;this.data[c]=o,this.data[c+1]=s,this.data[c+2]=r,this.data[c+3]=u}},vo.prototype.getData=function(){return this.data},(function(n){n.processBMP=function(e,t,r,s){var o=new vo(e,!1),u=o.width,c=o.height,f={data:o.getData(),width:u,height:c},d=new A0(100).encode(f,100);return n.processJPEG.call(this,d,t,r,s)}})(zt.API),a4.prototype.getData=function(){return this.data},(function(n){n.processWEBP=function(e,t,r,s){var o=new a4(e),u=o.width,c=o.height,f={data:o.getData(),width:u,height:c},d=new A0(100).encode(f,100);return n.processJPEG.call(this,d,t,r,s)}})(zt.API),zt.API.processRGBA=function(n,e,t){for(var r=n.data,s=r.length,o=new Uint8Array(s/4*3),u=new Uint8Array(s/4),c=0,f=0,d=0;d<s;d+=4){var g=r[d],w=r[d+1],A=r[d+2],b=r[d+3];o[c++]=g,o[c++]=w,o[c++]=A,u[f++]=b}var M=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(u),data:M,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},zt.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},_h=zt.API,Jp=_h.getCharWidthsArray=function(n,e){var t,r,s=(e=e||{}).font||this.internal.getFont(),o=e.fontSize||this.internal.getFontSize(),u=e.charSpace||this.internal.getCharSpace(),c=e.widths?e.widths:s.metadata.Unicode.widths,f=c.fof?c.fof:1,d=e.kerning?e.kerning:s.metadata.Unicode.kerning,g=d.fof?d.fof:1,w=e.doKerning!==!1,A=0,b=n.length,M=0,P=c[0]||f,U=[];for(t=0;t<b;t++)r=n.charCodeAt(t),typeof s.metadata.widthOfString=="function"?U.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(r))+u*(1e3/o)||0)/1e3):(A=w&&_r(d[r])==="object"&&!isNaN(parseInt(d[r][M],10))?d[r][M]/g:0,U.push((c[r]||P)/f+A)),M=r;return U},Ww=_h.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),s=e.charSpace||this.internal.getCharSpace();return _h.processArabic&&(n=_h.processArabic(n)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(n,t,s)/t:Jp.apply(this,arguments).reduce(function(o,u){return o+u},0)},Xw=function(n,e,t,r){for(var s=[],o=0,u=n.length,c=0;o!==u&&c+e[o]<t;)c+=e[o],o++;s.push(n.slice(0,o));var f=o;for(c=0;o!==u;)c+e[o]>r&&(s.push(n.slice(f,o)),c=0,f=o),c+=e[o],o++;return f!==o&&s.push(n.slice(f,o)),s},Qw=function(n,e,t){t||(t={});var r,s,o,u,c,f,d,g=[],w=[g],A=t.textIndent||0,b=0,M=0,P=n.split(" "),U=Jp.apply(this,[" ",t])[0];if(f=t.lineIndent===-1?P[0].length+2:t.lineIndent||0){var F=Array(f).join(" "),$=[];P.map(function(te){(te=te.split(/\s*\n/)).length>1?$=$.concat(te.map(function(ce,Ee){return(Ee&&ce.length?`
`:"")+ce})):$.push(te[0])}),P=$,f=Ww.apply(this,[F,t])}for(o=0,u=P.length;o<u;o++){var ee=0;if(r=P[o],f&&r[0]==`
`&&(r=r.substr(1),ee=1),A+b+(M=(s=Jp.apply(this,[r,t])).reduce(function(te,ce){return te+ce},0))>e||ee){if(M>e){for(c=Xw.apply(this,[r,s,e-(A+b),e]),g.push(c.shift()),g=[c.pop()];c.length;)w.push([c.shift()]);M=s.slice(r.length-(g[0]?g[0].length:0)).reduce(function(te,ce){return te+ce},0)}else g=[r];w.push(g),A=M+f,b=U}else g.push(r),A+=b+M,b=U}return d=f?function(te,ce){return(ce?F:"")+te.join(" ")}:function(te){return te.join(" ")},w.map(d)},_h.splitTextToSize=function(n,e,t){var r,s=(t=t||{}).fontSize||this.internal.getFontSize(),o=(function(g){if(g.widths&&g.kerning)return{widths:g.widths,kerning:g.kerning};var w=this.internal.getFont(g.fontName,g.fontStyle),A="Unicode";return w.metadata[A]?{widths:w.metadata[A].widths||{0:1},kerning:w.metadata[A].kerning||{}}:{font:w.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);r=Array.isArray(n)?n:String(n).split(/\r?\n/);var u=1*this.internal.scaleFactor*e/s;o.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/s:0,o.lineIndent=t.lineIndent;var c,f,d=[];for(c=0,f=r.length;c<f;c++)d=d.concat(Qw.apply(this,[r[c],u,o]));return d},(function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",r={},s={},o=0;o<16;o++)r[t[o]]=e[o],s[e[o]]=t[o];var u=function(A){return"0x"+parseInt(A,10).toString(16)},c=n.__fontmetrics__.compress=function(A){var b,M,P,U,F=["{"];for(var $ in A){if(b=A[$],isNaN(parseInt($,10))?M="'"+$+"'":($=parseInt($,10),M=(M=u($).slice(2)).slice(0,-1)+s[M.slice(-1)]),typeof b=="number")b<0?(P=u(b).slice(3),U="-"):(P=u(b).slice(2),U=""),P=U+P.slice(0,-1)+s[P.slice(-1)];else{if(_r(b)!=="object")throw new Error("Don't know what to do with value type "+_r(b)+".");P=c(b)}F.push(M+P)}return F.push("}"),F.join("")},f=n.__fontmetrics__.uncompress=function(A){if(typeof A!="string")throw new Error("Invalid argument passed to uncompress.");for(var b,M,P,U,F={},$=1,ee=F,te=[],ce="",Ee="",O=A.length-1,k=1;k<O;k+=1)(U=A[k])=="'"?b?(P=b.join(""),b=void 0):b=[]:b?b.push(U):U=="{"?(te.push([ee,P]),ee={},P=void 0):U=="}"?((M=te.pop())[0][M[1]]=ee,P=void 0,ee=M[0]):U=="-"?$=-1:P===void 0?r.hasOwnProperty(U)?(ce+=r[U],P=parseInt(ce,16)*$,$=1,ce=""):ce+=U:r.hasOwnProperty(U)?(Ee+=r[U],ee[P]=parseInt(Ee,16)*$,$=1,P=void 0,Ee=""):Ee+=U;return F},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:f("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},g={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},w={Unicode:{"Courier-Oblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":f("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":f("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:f("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":f("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:f("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":f("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":f("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":f("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":f("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(A){var b=A.font,M=w.Unicode[b.postScriptName];M&&(b.metadata.Unicode={},b.metadata.Unicode.widths=M.widths,b.metadata.Unicode.kerning=M.kerning);var P=g.Unicode[b.postScriptName];P&&(b.metadata.Unicode.encoding=P,b.encoding=P.codePages[0])}])})(zt.API),(function(n){var e=function(t){for(var r=t.length,s=new Uint8Array(r),o=0;o<r;o++)s[o]=t.charCodeAt(o);return s};n.API.events.push(["addFont",function(t){var r=void 0,s=t.font,o=t.instance;if(!s.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(r=o.existsFileInVFS(s.postScriptName)===!1?o.loadFile(s.postScriptName):o.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(u,c){c=/^\x00\x01\x00\x00/.test(c)?e(c):e(mm(c)),u.metadata=n.API.TTFFont.open(c),u.metadata.Unicode=u.metadata.Unicode||{encoding:{},kerning:{},widths:[]},u.metadata.glyIdsUsed=[0]})(s,r)}}])})(zt),zt.API.addSvgAsImage=function(n,e,t,r,s,o,u,c){if(isNaN(e)||isNaN(t))throw Or.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(s))throw Or.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var f=document.createElement("canvas");f.width=r,f.height=s;var d=f.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,f.width,f.height);var g={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},w=this;return(pn.canvg?Promise.resolve(pn.canvg):Fu(()=>import("./index.es-CMjMMIgS.js"),[])).catch(function(A){return Promise.reject(new Error("Could not load canvg: "+A))}).then(function(A){return A.default?A.default:A}).then(function(A){return A.fromString(d,n,g)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(A){return A.render(g)}).then(function(){w.addImage(f.toDataURL("image/jpeg",1),e,t,r,s,u,c)})},zt.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var s=0;s<this.internal.pages[r].length;s++)this.internal.pages[r][s]=this.internal.pages[r][s].replace(e,t);return this},zt.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var r,s,o,u={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},c=Object.keys(u),f=[],d=0,g=0,w=0;function A(M,P){var U,F=!1;for(U=0;U<M.length;U+=1)M[U]===P&&(F=!0);return F}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(u)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,n==="reset"||e===!0){var b=c.length;for(w=0;w<b;w+=1)t[c[w]].value=t[c[w]].defaultValue,t[c[w]].explicitSet=!1}if(_r(n)==="object"){for(s in n)if(o=n[s],A(c,s)&&o!==void 0){if(t[s].type==="boolean"&&typeof o=="boolean")t[s].value=o;else if(t[s].type==="name"&&A(t[s].valueSet,o))t[s].value=o;else if(t[s].type==="integer"&&Number.isInteger(o))t[s].value=o;else if(t[s].type==="array"){for(d=0;d<o.length;d+=1)if(r=!0,o[d].length===1&&typeof o[d][0]=="number")f.push(String(o[d]-1));else if(o[d].length>1){for(g=0;g<o[d].length;g+=1)typeof o[d][g]!="number"&&(r=!1);r===!0&&f.push([o[d][0]-1,o[d][1]-1].join(" "))}t[s].value="["+f.join(" ")+"]"}else t[s].value=t[s].defaultValue;t[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var M,P=[];for(M in t)t[M].explicitSet===!0&&(t[M].type==="name"?P.push("/"+M+" /"+t[M].value):P.push("/"+M+" "+t[M].value));P.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+P.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},zt.API.addMetadata=function(n,e){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceUri:e??"http://jspdf.default.namespaceuri/",rawXml:typeof e=="boolean"&&e},this.internal.events.subscribe("putCatalog",dP),this.internal.events.subscribe("postPutResources",fP)),this},(function(n){var e=n.API,t=e.pdfEscape16=function(o,u){for(var c,f=u.metadata.Unicode.widths,d=["","0","00","000","0000"],g=[""],w=0,A=o.length;w<A;++w){if(c=u.metadata.characterToGlyph(o.charCodeAt(w)),u.metadata.glyIdsUsed.push(c),u.metadata.toUnicode[c]=o.charCodeAt(w),f.indexOf(c)==-1&&(f.push(c),f.push([parseInt(u.metadata.widthOfGlyph(c),10)])),c=="0")return g.join("");c=c.toString(16),g.push(d[4-c.length],c)}return g.join("")},r=function(o){var u,c,f,d,g,w,A;for(g=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,f=[],w=0,A=(c=Object.keys(o).sort(function(b,M){return b-M})).length;w<A;w++)u=c[w],f.length>=100&&(g+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar`,f=[]),o[u]!==void 0&&o[u]!==null&&typeof o[u].toString=="function"&&(d=("0000"+o[u].toString(16)).slice(-4),u=("0000"+(+u).toString(16)).slice(-4),f.push("<"+u+"><"+d+">"));return f.length&&(g+=`
`+f.length+` beginbfchar
`+f.join(`
`)+`
endbfchar
`),g+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(o){(function(u){var c=u.font,f=u.out,d=u.newObject,g=u.putStream;if(c.metadata instanceof n.API.TTFFont&&c.encoding==="Identity-H"){for(var w=c.metadata.Unicode.widths,A=c.metadata.subset.encode(c.metadata.glyIdsUsed,1),b="",M=0;M<A.length;M++)b+=String.fromCharCode(A[M]);var P=d();g({data:b,addLength1:!0,objectId:P}),f("endobj");var U=d();g({data:r(c.metadata.toUnicode),addLength1:!0,objectId:U}),f("endobj");var F=d();f("<<"),f("/Type /FontDescriptor"),f("/FontName /"+Nh(c.fontName)),f("/FontFile2 "+P+" 0 R"),f("/FontBBox "+n.API.PDFObject.convert(c.metadata.bbox)),f("/Flags "+c.metadata.flags),f("/StemV "+c.metadata.stemV),f("/ItalicAngle "+c.metadata.italicAngle),f("/Ascent "+c.metadata.ascender),f("/Descent "+c.metadata.decender),f("/CapHeight "+c.metadata.capHeight),f(">>"),f("endobj");var $=d();f("<<"),f("/Type /Font"),f("/BaseFont /"+Nh(c.fontName)),f("/FontDescriptor "+F+" 0 R"),f("/W "+n.API.PDFObject.convert(w)),f("/CIDToGIDMap /Identity"),f("/DW 1000"),f("/Subtype /CIDFontType2"),f("/CIDSystemInfo"),f("<<"),f("/Supplement 0"),f("/Registry (Adobe)"),f("/Ordering ("+c.encoding+")"),f(">>"),f(">>"),f("endobj"),c.objectNumber=d(),f("<<"),f("/Type /Font"),f("/Subtype /Type0"),f("/ToUnicode "+U+" 0 R"),f("/BaseFont /"+Nh(c.fontName)),f("/Encoding /"+c.encoding),f("/DescendantFonts ["+$+" 0 R]"),f(">>"),f("endobj"),c.isAlreadyPutted=!0}})(o)}]),e.events.push(["putFont",function(o){(function(u){var c=u.font,f=u.out,d=u.newObject,g=u.putStream;if(c.metadata instanceof n.API.TTFFont&&c.encoding==="WinAnsiEncoding"){for(var w=c.metadata.rawData,A="",b=0;b<w.length;b++)A+=String.fromCharCode(w[b]);var M=d();g({data:A,addLength1:!0,objectId:M}),f("endobj");var P=d();g({data:r(c.metadata.toUnicode),addLength1:!0,objectId:P}),f("endobj");var U=d();f("<<"),f("/Descent "+c.metadata.decender),f("/CapHeight "+c.metadata.capHeight),f("/StemV "+c.metadata.stemV),f("/Type /FontDescriptor"),f("/FontFile2 "+M+" 0 R"),f("/Flags 96"),f("/FontBBox "+n.API.PDFObject.convert(c.metadata.bbox)),f("/FontName /"+Nh(c.fontName)),f("/ItalicAngle "+c.metadata.italicAngle),f("/Ascent "+c.metadata.ascender),f(">>"),f("endobj"),c.objectNumber=d();for(var F=0;F<c.metadata.hmtx.widths.length;F++)c.metadata.hmtx.widths[F]=parseInt(c.metadata.hmtx.widths[F]*(1e3/c.metadata.head.unitsPerEm));f("<</Subtype/TrueType/Type/Font/ToUnicode "+P+" 0 R/BaseFont/"+Nh(c.fontName)+"/FontDescriptor "+U+" 0 R/Encoding/"+c.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(c.metadata.hmtx.widths)+">>"),f("endobj"),c.isAlreadyPutted=!0}})(o)}]);var s=function(o){var u,c=o.text||"",f=o.x,d=o.y,g=o.options||{},w=o.mutex||{},A=w.pdfEscape,b=w.activeFontKey,M=w.fonts,P=b,U="",F=0,$="",ee=M[P].encoding;if(M[P].encoding!=="Identity-H")return{text:c,x:f,y:d,options:g,mutex:w};for($=c,P=b,Array.isArray(c)&&($=c[0]),F=0;F<$.length;F+=1)M[P].metadata.hasOwnProperty("cmap")&&(u=M[P].metadata.cmap.unicode.codeMap[$[F].charCodeAt(0)]),u||$[F].charCodeAt(0)<256&&M[P].metadata.hasOwnProperty("Unicode")?U+=$[F]:U+="";var te="";return parseInt(P.slice(1))<14||ee==="WinAnsiEncoding"?te=A(U,P).split("").map(function(ce){return ce.charCodeAt(0).toString(16)}).join(""):ee==="Identity-H"&&(te=t(U,M[P])),w.isHex=!0,{text:te,x:f,y:d,options:g,mutex:w}};e.events.push(["postProcessText",function(o){var u=o.text||"",c=[],f={text:u,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(u)){var d=0;for(d=0;d<u.length;d+=1)Array.isArray(u[d])&&u[d].length===3?c.push([s(Object.assign({},f,{text:u[d][0]})).text,u[d][1],u[d][2]]):c.push(s(Object.assign({},f,{text:u[d]})).text);o.text=c}else o.text=s(Object.assign({},f,{text:u})).text}])})(zt),(function(n){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},n.addFileToVFS=function(t,r){return e.call(this),this.internal.vFS[t]=r,this},n.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})(zt.API),(function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(r){var s,o,u,c,f,d,g,w=e,A=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],b=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],M={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},P={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},U=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],F=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),$=!1,ee=0;this.__bidiEngine__={};var te=function(T){var D=T.charCodeAt(),j=D>>8,le=P[j];return le!==void 0?w[256*le+(255&D)]:j===252||j===253?"AL":F.test(j)?"L":j===8?"R":"N"},ce=function(T){for(var D,j=0;j<T.length;j++){if((D=te(T.charAt(j)))==="L")return!1;if(D==="R")return!0}return!1},Ee=function(T,D,j,le){var xe,re,me,fe,Ne=D[le];switch(Ne){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":$=!1;break;case"N":case"AN":break;case"EN":$&&(Ne="AN");break;case"AL":$=!0,Ne="R";break;case"WS":case"BN":Ne="N";break;case"CS":le<1||le+1>=D.length||(xe=j[le-1])!=="EN"&&xe!=="AN"||(re=D[le+1])!=="EN"&&re!=="AN"?Ne="N":$&&(re="AN"),Ne=re===xe?re:"N";break;case"ES":Ne=(xe=le>0?j[le-1]:"B")==="EN"&&le+1<D.length&&D[le+1]==="EN"?"EN":"N";break;case"ET":if(le>0&&j[le-1]==="EN"){Ne="EN";break}if($){Ne="N";break}for(me=le+1,fe=D.length;me<fe&&D[me]==="ET";)me++;Ne=me<fe&&D[me]==="EN"?"EN":"N";break;case"NSM":if(u&&!c){for(fe=D.length,me=le+1;me<fe&&D[me]==="NSM";)me++;if(me<fe){var Fe=T[le],Q=Fe>=1425&&Fe<=2303||Fe===64286;if(xe=D[me],Q&&(xe==="R"||xe==="AL")){Ne="R";break}}}Ne=le<1||(xe=D[le-1])==="B"?"N":j[le-1];break;case"B":$=!1,s=!0,Ne=ee;break;case"S":o=!0,Ne="N"}return Ne},O=function(T,D,j){var le=T.split("");return j&&k(le,j,{hiLevel:ee}),le.reverse(),D&&D.reverse(),le.join("")},k=function(T,D,j){var le,xe,re,me,fe,Ne=-1,Fe=T.length,Q=0,I=[],K=ee?b:A,J=[];for($=!1,s=!1,o=!1,xe=0;xe<Fe;xe++)J[xe]=te(T[xe]);for(re=0;re<Fe;re++){if(fe=Q,I[re]=Ee(T,J,I,re),le=240&(Q=K[fe][M[I[re]]]),Q&=15,D[re]=me=K[Q][5],le>0)if(le===16){for(xe=Ne;xe<re;xe++)D[xe]=1;Ne=-1}else Ne=-1;if(K[Q][6])Ne===-1&&(Ne=re);else if(Ne>-1){for(xe=Ne;xe<re;xe++)D[xe]=me;Ne=-1}J[re]==="B"&&(D[re]=0),j.hiLevel|=me}o&&(function(oe,he,be){for(var Ie=0;Ie<be;Ie++)if(oe[Ie]==="S"){he[Ie]=ee;for(var De=Ie-1;De>=0&&oe[De]==="WS";De--)he[De]=ee}})(J,D,Fe)},R=function(T,D,j,le,xe){if(!(xe.hiLevel<T)){if(T===1&&ee===1&&!s)return D.reverse(),void(j&&j.reverse());for(var re,me,fe,Ne,Fe=D.length,Q=0;Q<Fe;){if(le[Q]>=T){for(fe=Q+1;fe<Fe&&le[fe]>=T;)fe++;for(Ne=Q,me=fe-1;Ne<me;Ne++,me--)re=D[Ne],D[Ne]=D[me],D[me]=re,j&&(re=j[Ne],j[Ne]=j[me],j[me]=re);Q=fe}Q++}}},q=function(T,D,j){var le=T.split(""),xe={hiLevel:ee};return j||(j=[]),k(le,j,xe),(function(re,me,fe){if(fe.hiLevel!==0&&g)for(var Ne,Fe=0;Fe<re.length;Fe++)me[Fe]===1&&(Ne=U.indexOf(re[Fe]))>=0&&(re[Fe]=U[Ne+1])})(le,j,xe),R(2,le,D,j,xe),R(1,le,D,j,xe),le.join("")};return this.__bidiEngine__.doBidiReorder=function(T,D,j){if((function(xe,re){if(re)for(var me=0;me<xe.length;me++)re[me]=me;c===void 0&&(c=ce(xe)),d===void 0&&(d=ce(xe))})(T,D),u||!f||d)if(u&&f&&c^d)ee=c?1:0,T=O(T,D,j);else if(!u&&f&&d)ee=c?1:0,T=q(T,D,j),T=O(T,D);else if(!u||c||f||d){if(u&&!f&&c^d)T=O(T,D),c?(ee=0,T=q(T,D,j)):(ee=1,T=q(T,D,j),T=O(T,D));else if(u&&c&&!f&&d)ee=1,T=q(T,D,j),T=O(T,D);else if(!u&&!f&&c^d){var le=g;c?(ee=1,T=q(T,D,j),ee=0,g=!1,T=q(T,D,j),g=le):(ee=0,T=q(T,D,j),T=O(T,D),ee=1,g=!1,T=q(T,D,j),g=le,T=O(T,D))}}else ee=0,T=q(T,D,j);else ee=c?1:0,T=q(T,D,j);return T},this.__bidiEngine__.setOptions=function(T){T&&(u=T.isInputVisual,f=T.isOutputVisual,c=T.isInputRtl,d=T.isOutputRtl,g=T.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(r){var s=r.text;r.x,r.y;var o=r.options||{};r.mutex,o.lang;var u=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,t.setOptions(o),Object.prototype.toString.call(s)==="[object Array]"){var c=0;for(u=[],c=0;c<s.length;c+=1)Object.prototype.toString.call(s[c])==="[object Array]"?u.push([t.doBidiReorder(s[c][0]),s[c][1],s[c][2]]):u.push([t.doBidiReorder(s[c])]);r.text=u}else r.text=t.doBidiReorder(s);t.setOptions({isInputVisual:!0})}])})(zt),zt.API.TTFFont=(function(){function n(e){var t;if(this.rawData=e,t=this.contents=new Yu(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new CP(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new pP(this.contents),this.head=new gP(this),this.name=new wP(this),this.cmap=new dS(this),this.toUnicode={},this.hhea=new yP(this),this.maxp=new EP(this),this.hmtx=new AP(this),this.post=new bP(this),this.os2=new vP(this),this.loca=new NP(this),this.glyf=new SP(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,t,r,s,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var u,c,f,d;for(d=[],u=0,c=(f=this.bbox).length;u<c;u++)e=f[u],d.push(Math.round(e*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(r=255&(s=this.post.italic_angle),32768&(t=s>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,r){var s,o,u,c;for(u=0,o=0,c=(e=""+e).length;0<=c?o<c:o>c;o=0<=c?++o:--o)s=e.charCodeAt(o),u+=this.widthOfGlyph(this.characterToGlyph(s))+r*(1e3/t)||0;return u*(t/1e3)},n.prototype.lineHeight=function(e,t){var r;return t==null&&(t=!1),r=t?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},n})();var Co,Yu=(function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},n.prototype.writeString=function(e){var t,r,s;for(s=[],t=0,r=e.length;0<=r?t<r:t>r;t=0<=r?++t:--t)s.push(this.writeByte(e.charCodeAt(t)));return s},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,r,s,o,u,c,f;return e=this.readByte(),t=this.readByte(),r=this.readByte(),s=this.readByte(),o=this.readByte(),u=this.readByte(),c=this.readByte(),f=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^s)+16777216*(255^o)+65536*(255^u)+256*(255^c)+(255^f)+1):72057594037927940*e+281474976710656*t+1099511627776*r+4294967296*s+16777216*o+65536*u+256*c+f},n.prototype.writeLongLong=function(e){var t,r;return t=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,r;for(t=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)t.push(this.readByte());return t},n.prototype.write=function(e){var t,r,s,o;for(o=[],r=0,s=e.length;r<s;r++)t=e[r],o.push(this.writeByte(t));return o},n})(),pP=(function(){var n;function e(t){var r,s,o;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},s=0,o=this.tableCount;0<=o?s<o:s>o;s=0<=o?++s:--s)r={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(t){var r,s,o,u,c,f,d,g,w,A,b,M,P;for(P in b=Object.keys(t).length,f=Math.log(2),w=16*Math.floor(Math.log(b)/f),u=Math.floor(w/f),g=16*b-w,(s=new Yu).writeInt(this.scalarType),s.writeShort(b),s.writeShort(w),s.writeShort(u),s.writeShort(g),o=16*b,d=s.pos+o,c=null,M=[],t)for(A=t[P],s.writeString(P),s.writeInt(n(A)),s.writeInt(d),s.writeInt(A.length),M=M.concat(A),P==="head"&&(c=d),d+=A.length;d%4;)M.push(0),d++;return s.write(M),r=2981146554-n(s.data),s.pos=c+8,s.writeUInt32(r),s.data},n=function(t){var r,s,o,u;for(t=pS.call(t);t.length%4;)t.push(0);for(o=new Yu(t),s=0,r=0,u=t.length;r<u;r=r+=4)s+=o.readUInt32();return 4294967295&s},e})(),mP={}.hasOwnProperty,ul=function(n,e){for(var t in e)mP.call(e,t)&&(n[t]=e[t]);function r(){this.constructor=n}return r.prototype=e.prototype,n.prototype=new r,n.__super__=e.prototype,n};Co=(function(){function n(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n})();var gP=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return ul(n,Co),n.prototype.tag="head",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},n.prototype.encode=function(e){var t;return(t=new Yu).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},n})(),s4=(function(){function n(e,t){var r,s,o,u,c,f,d,g,w,A,b,M,P,U,F,$,ee;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),w=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(f=0;f<256;++f)this.codeMap[f]=e.readByte();break;case 4:for(b=e.readUInt16(),A=b/2,e.pos+=6,o=(function(){var te,ce;for(ce=[],f=te=0;0<=A?te<A:te>A;f=0<=A?++te:--te)ce.push(e.readUInt16());return ce})(),e.pos+=2,P=(function(){var te,ce;for(ce=[],f=te=0;0<=A?te<A:te>A;f=0<=A?++te:--te)ce.push(e.readUInt16());return ce})(),d=(function(){var te,ce;for(ce=[],f=te=0;0<=A?te<A:te>A;f=0<=A?++te:--te)ce.push(e.readUInt16());return ce})(),g=(function(){var te,ce;for(ce=[],f=te=0;0<=A?te<A:te>A;f=0<=A?++te:--te)ce.push(e.readUInt16());return ce})(),s=(this.length-e.pos+this.offset)/2,c=(function(){var te,ce;for(ce=[],f=te=0;0<=s?te<s:te>s;f=0<=s?++te:--te)ce.push(e.readUInt16());return ce})(),f=F=0,ee=o.length;F<ee;f=++F)for(U=o[f],r=$=M=P[f];M<=U?$<=U:$>=U;r=M<=U?++$:--$)g[f]===0?u=r+d[f]:(u=c[g[f]/2+(r-M)-(A-f)]||0)!==0&&(u+=d[f]),this.codeMap[r]=65535&u}e.pos=w}return n.encode=function(e,t){var r,s,o,u,c,f,d,g,w,A,b,M,P,U,F,$,ee,te,ce,Ee,O,k,R,q,T,D,j,le,xe,re,me,fe,Ne,Fe,Q,I,K,J,oe,he,be,Ie,De,ze,tt,it;switch(le=new Yu,u=Object.keys(e).sort(function(lt,bt){return lt-bt}),t){case"macroman":for(P=0,U=(function(){var lt=[];for(M=0;M<256;++M)lt.push(0);return lt})(),$={0:0},o={},xe=0,Ne=u.length;xe<Ne;xe++)$[De=e[s=u[xe]]]==null&&($[De]=++P),o[s]={old:e[s],new:$[e[s]]},U[s]=$[e[s]];return le.writeUInt16(1),le.writeUInt16(0),le.writeUInt32(12),le.writeUInt16(0),le.writeUInt16(262),le.writeUInt16(0),le.write(U),{charMap:o,subtable:le.data,maxGlyphID:P+1};case"unicode":for(D=[],w=[],ee=0,$={},r={},F=d=null,re=0,Fe=u.length;re<Fe;re++)$[ce=e[s=u[re]]]==null&&($[ce]=++ee),r[s]={old:ce,new:$[ce]},c=$[ce]-s,F!=null&&c===d||(F&&w.push(F),D.push(s),d=c),F=s;for(F&&w.push(F),w.push(65535),D.push(65535),q=2*(R=D.length),k=2*Math.pow(Math.log(R)/Math.LN2,2),A=Math.log(k/2)/Math.LN2,O=2*R-k,f=[],Ee=[],b=[],M=me=0,Q=D.length;me<Q;M=++me){if(T=D[M],g=w[M],T===65535){f.push(0),Ee.push(0);break}if(T-(j=r[T].new)>=32768)for(f.push(0),Ee.push(2*(b.length+R-M)),s=fe=T;T<=g?fe<=g:fe>=g;s=T<=g?++fe:--fe)b.push(r[s].new);else f.push(j-T),Ee.push(0)}for(le.writeUInt16(3),le.writeUInt16(1),le.writeUInt32(12),le.writeUInt16(4),le.writeUInt16(16+8*R+2*b.length),le.writeUInt16(0),le.writeUInt16(q),le.writeUInt16(k),le.writeUInt16(A),le.writeUInt16(O),be=0,I=w.length;be<I;be++)s=w[be],le.writeUInt16(s);for(le.writeUInt16(0),Ie=0,K=D.length;Ie<K;Ie++)s=D[Ie],le.writeUInt16(s);for(ze=0,J=f.length;ze<J;ze++)c=f[ze],le.writeUInt16(c);for(tt=0,oe=Ee.length;tt<oe;tt++)te=Ee[tt],le.writeUInt16(te);for(it=0,he=b.length;it<he;it++)P=b[it],le.writeUInt16(P);return{charMap:r,subtable:le.data,maxGlyphID:ee+1}}},n})(),dS=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return ul(n,Co),n.prototype.tag="cmap",n.prototype.parse=function(e){var t,r,s;for(e.pos=this.offset,this.version=e.readUInt16(),s=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=s?r<s:r>s;r=0<=s?++r:--r)t=new s4(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},n.encode=function(e,t){var r,s;return t==null&&(t="macroman"),r=s4.encode(e,t),(s=new Yu).writeUInt16(0),s.writeUInt16(1),r.table=s.data.concat(r.subtable),r},n})(),yP=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return ul(n,Co),n.prototype.tag="hhea",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},n})(),vP=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return ul(n,Co),n.prototype.tag="OS/2",n.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var t,r;for(r=[],t=0;t<10;++t)r.push(e.readByte());return r})(),this.charRange=(function(){var t,r;for(r=[],t=0;t<4;++t)r.push(e.readInt());return r})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var t,r;for(r=[],t=0;t<2;t=++t)r.push(e.readInt());return r})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},n})(),bP=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return ul(n,Co),n.prototype.tag="post",n.prototype.parse=function(e){var t,r,s;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(r=e.readUInt16(),this.glyphNameIndex=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],s=[];e.pos<this.offset+this.length;)t=e.readByte(),s.push(this.names.push(e.readString(t)));return s;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=(function(){var u,c,f;for(f=[],o=u=0,c=this.file.maxp.numGlyphs;0<=c?u<c:u>c;o=0<=c?++u:--u)f.push(e.readUInt32());return f}).call(this)}},n})(),_P=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},wP=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return ul(n,Co),n.prototype.tag="name",n.prototype.parse=function(e){var t,r,s,o,u,c,f,d,g,w,A;for(e.pos=this.offset,e.readShort(),t=e.readShort(),c=e.readShort(),r=[],o=0;0<=t?o<t:o>t;o=0<=t?++o:--o)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+c+e.readShort()});for(f={},o=g=0,w=r.length;g<w;o=++g)s=r[o],e.pos=s.offset,d=e.readString(s.length),u=new _P(d,s),f[A=s.nameID]==null&&(f[A]=[]),f[s.nameID].push(u);this.strings=f,this.copyright=f[0],this.fontFamily=f[1],this.fontSubfamily=f[2],this.uniqueSubfamily=f[3],this.fontName=f[4],this.version=f[5];try{this.postscriptName=f[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=f[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=f[7],this.manufacturer=f[8],this.designer=f[9],this.description=f[10],this.vendorUrl=f[11],this.designerUrl=f[12],this.license=f[13],this.licenseUrl=f[14],this.preferredFamily=f[15],this.preferredSubfamily=f[17],this.compatibleFull=f[18],this.sampleText=f[19]},n})(),EP=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return ul(n,Co),n.prototype.tag="maxp",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},n})(),AP=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return ul(n,Co),n.prototype.tag="hmtx",n.prototype.parse=function(e){var t,r,s,o,u,c,f;for(e.pos=this.offset,this.metrics=[],t=0,c=this.file.hhea.numberOfMetrics;0<=c?t<c:t>c;t=0<=c?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var d,g;for(g=[],t=d=0;0<=s?d<s:d>s;t=0<=s?++d:--d)g.push(e.readInt16());return g})(),this.widths=(function(){var d,g,w,A;for(A=[],d=0,g=(w=this.metrics).length;d<g;d++)o=w[d],A.push(o.advance);return A}).call(this),r=this.widths[this.widths.length-1],f=[],t=u=0;0<=s?u<s:u>s;t=0<=s?++u:--u)f.push(this.widths.push(r));return f},n.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},n})(),pS=[].slice,SP=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return ul(n,Co),n.prototype.tag="glyf",n.prototype.parse=function(){return this.cache={}},n.prototype.glyphFor=function(e){var t,r,s,o,u,c,f,d,g,w;return e in this.cache?this.cache[e]:(o=this.file.loca,t=this.file.contents,r=o.indexOf(e),(s=o.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+r,u=(c=new Yu(t.read(s))).readShort(),d=c.readShort(),w=c.readShort(),f=c.readShort(),g=c.readShort(),this.cache[e]=u===-1?new TP(c,d,w,f,g):new xP(c,u,d,w,f,g),this.cache[e]))},n.prototype.encode=function(e,t,r){var s,o,u,c,f;for(u=[],o=[],c=0,f=t.length;c<f;c++)s=e[t[c]],o.push(u.length),s&&(u=u.concat(s.encode(r)));return o.push(u.length),{table:u,offsets:o}},n})(),xP=(function(){function n(e,t,r,s,o,u){this.raw=e,this.numberOfContours=t,this.xMin=r,this.yMin=s,this.xMax=o,this.yMax=u,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n})(),TP=(function(){function n(e,t,r,s,o){var u,c;for(this.raw=e,this.xMin=t,this.yMin=r,this.xMax=s,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],u=this.raw;c=u.readShort(),this.glyphOffsets.push(u.pos),this.glyphIDs.push(u.readUInt16()),32&c;)u.pos+=1&c?4:2,128&c?u.pos+=8:64&c?u.pos+=4:8&c&&(u.pos+=2)}return n.prototype.encode=function(){var e,t,r;for(t=new Yu(pS.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)t.pos=this.glyphOffsets[e];return t.data},n})(),NP=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return ul(n,Co),n.prototype.tag="loca",n.prototype.parse=function(e){var t,r;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?(function(){var s,o;for(o=[],r=0,s=this.length;r<s;r+=2)o.push(2*e.readUInt16());return o}).call(this):(function(){var s,o;for(o=[],r=0,s=this.length;r<s;r+=4)o.push(e.readUInt32());return o}).call(this)},n.prototype.indexOf=function(e){return this.offsets[e]},n.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},n.prototype.encode=function(e,t){for(var r=new Uint32Array(this.offsets.length),s=0,o=0,u=0;u<r.length;++u)if(r[u]=s,o<t.length&&t[o]==u){++o,r[u]=s;var c=this.offsets[u],f=this.offsets[u+1]-c;f>0&&(s+=f)}for(var d=new Array(4*r.length),g=0;g<r.length;++g)d[4*g+3]=255&r[g],d[4*g+2]=(65280&r[g])>>8,d[4*g+1]=(16711680&r[g])>>16,d[4*g]=(4278190080&r[g])>>24;return d},n})(),CP=(function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,r,s,o;for(t in s=this.font.cmap.tables[0].codeMap,e={},o=this.subset)r=o[t],e[t]=s[r];return e},n.prototype.glyphsFor=function(e){var t,r,s,o,u,c,f;for(s={},u=0,c=e.length;u<c;u++)s[o=e[u]]=this.font.glyf.glyphFor(o);for(o in t=[],s)(r=s[o])!=null&&r.compound&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(o in f=this.glyphsFor(t))r=f[o],s[o]=r;return s},n.prototype.encode=function(e,t){var r,s,o,u,c,f,d,g,w,A,b,M,P,U,F;for(s in r=dS.encode(this.generateCmap(),"unicode"),u=this.glyphsFor(e),b={0:0},F=r.charMap)b[(f=F[s]).old]=f.new;for(M in A=r.maxGlyphID,u)M in b||(b[M]=A++);return g=(function($){var ee,te;for(ee in te={},$)te[$[ee]]=ee;return te})(b),w=Object.keys(g).sort(function($,ee){return $-ee}),P=(function(){var $,ee,te;for(te=[],$=0,ee=w.length;$<ee;$++)c=w[$],te.push(g[c]);return te})(),o=this.font.glyf.encode(u,P,b),d=this.font.loca.encode(o.offsets,P),U={cmap:this.font.cmap.raw(),glyf:o.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(U["OS/2"]=this.font.os2.raw()),this.font.directory.encode(U)},n})();zt.API.PDFObject=(function(){var n;function e(){}return n=function(t,r){return(Array(r+1).join("0")+t).slice(-r)},e.convert=function(t){var r,s,o,u;if(Array.isArray(t))return"["+(function(){var c,f,d;for(d=[],c=0,f=t.length;c<f;c++)r=t[c],d.push(e.convert(r));return d})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t!=null&&t.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(s in o=["<<"],t)u=t[s],o.push("/"+s+" "+e.convert(u));return o.push(">>"),o.join(`
`)}return""+t},e})();function Na(n,e){return`${e}${Math.abs(n).toLocaleString("en-GB",{minimumFractionDigits:0,maximumFractionDigits:0})}`}function RP(n,e,t){const r=new zt({unit:"mm",format:"a4"}),s=r.internal.pageSize.getWidth(),o=20,u=s-o*2;let c=20;r.setFillColor(11,17,32),r.rect(0,0,s,40,"F"),r.setFont("helvetica","bold"),r.setFontSize(22),r.setTextColor(241,245,249),r.text("TakeHomeCalc.co.uk",o,18),r.setFont("helvetica","normal"),r.setFontSize(11),r.setTextColor(148,163,184),r.text("Gross-to-Net Pay Report  |  UK Tax Year 2025-26",o,28),r.text(`Region: ${e==="scotland"?"Scotland":"England / Wales / NI"}`,o,34),c=50,r.setFillColor(26,35,50),r.roundedRect(o,c,u,30,3,3,"F"),r.setFont("helvetica","normal"),r.setFontSize(10),r.setTextColor(148,163,184),r.text("YOUR MONTHLY TAKE HOME PAY",o+10,c+10),r.setFont("helvetica","bold"),r.setFontSize(24),r.setTextColor(34,211,238),r.text(Na(n.netMonthly,t),o+10,c+24),r.setFont("helvetica","normal"),r.setFontSize(10),r.setTextColor(148,163,184),r.text(`${Na(n.netAnnual,t)}/year    ${Na(n.netWeekly,t)}/week`,s-o-10,c+24,{align:"right"}),c+=38;const f=[{label:"Income Tax",value:Na(n.incomeTax,t),color:[245,158,11]},{label:"National Insurance",value:Na(n.nationalInsurance,t),color:[139,92,246]},{label:"Effective Rate",value:`${n.effectiveRate}%`,color:[241,245,249]}];n.pensionSacrifice>0&&f.push({label:"Salary Sacrifice",value:Na(n.pensionSacrifice,t),color:[59,130,246]});const d=(u-(f.length-1)*6)/f.length;f.forEach((A,b)=>{const M=o+b*(d+6);r.setFillColor(26,35,50),r.roundedRect(M,c,d,22,2,2,"F"),r.setFont("helvetica","normal"),r.setFontSize(8),r.setTextColor(100,116,139),r.text(A.label,M+d/2,c+8,{align:"center"}),r.setFont("helvetica","bold"),r.setFontSize(13),r.setTextColor(A.color[0],A.color[1],A.color[2]),r.text(A.value,M+d/2,c+18,{align:"center"})}),c+=30;function g(A,b,M,P,U){r.setFont("helvetica","bold"),r.setFontSize(11),r.setTextColor(241,245,249),r.text(A,o,c),c+=6,r.setFillColor(15,23,41),r.rect(o,c,u,7,"F"),r.setFont("helvetica","bold"),r.setFontSize(7.5),r.setTextColor(100,116,139),r.text(b[0],o+4,c+5),r.text(b[1],o+u*.55,c+5),r.text(b[2],s-o-4,c+5,{align:"right"}),c+=7,r.setFont("helvetica","normal"),r.setFontSize(9),M.forEach((F,$)=>{$%2===0&&(r.setFillColor(22,32,50),r.rect(o,c,u,7,"F")),r.setTextColor(148,163,184),r.text(F[0],o+4,c+5),r.text(F[1],o+u*.55,c+5),r.text(F[2],s-o-4,c+5,{align:"right"}),c+=7}),r.setDrawColor(30,41,59),r.line(o,c,s-o,c),c+=1,r.setFont("helvetica","bold"),r.setFontSize(9.5),r.setTextColor(241,245,249),r.text(P,o+4,c+5),r.text(U,s-o-4,c+5,{align:"right"}),c+=10}g(`Income Tax (${e==="scotland"?"Scotland":"England"})`,["Band","Rate","Tax"],n.taxBands.map(A=>[A.name,A.rate,Na(A.amount,t)]),"Total Income Tax",Na(n.incomeTax,t)),g("National Insurance (Class 1)",["Earnings Band","Rate","NI"],n.niBands.map(A=>[A.name,A.rate,Na(A.amount,t)]),"Total NI",Na(n.nationalInsurance,t)),r.setFont("helvetica","bold"),r.setFontSize(11),r.setTextColor(241,245,249),r.text("Summary",o,c),c+=6;const w=[["Gross Salary",Na(n.grossAnnual,t),[148,163,184]]];n.pensionSacrifice>0&&w.push(["Salary Sacrifice",`${Na(n.pensionSacrifice,t)}`,[59,130,246]]),w.push(["Personal Allowance",Na(n.personalAllowance,t),[148,163,184]],["Income Tax",`${Na(n.incomeTax,t)}`,[245,158,11]],["National Insurance",`${Na(n.nationalInsurance,t)}`,[139,92,246]]),r.setFont("helvetica","normal"),r.setFontSize(9.5),w.forEach(([A,b,M])=>{r.setTextColor(148,163,184),r.text(A,o+4,c+5),r.setTextColor(M[0],M[1],M[2]),r.text(b,s-o-4,c+5,{align:"right"}),c+=8}),r.setDrawColor(30,41,59),r.line(o,c,s-o,c),c+=2,r.setFont("helvetica","bold"),r.setFontSize(13),r.setTextColor(34,211,238),r.text("Net Annual Pay",o+4,c+6),r.text(Na(n.netAnnual,t),s-o-4,c+6,{align:"right"}),c+=16,r.setFont("helvetica","normal"),r.setFontSize(8),r.setTextColor(100,116,139),r.text("Generated by TakeHomeCalc.co.uk    Estimates based on UK HMRC 2025-26 rates    Not financial advice",s/2,285,{align:"center"}),r.save("take-home-pay-report.pdf")}function LP(n,e){const[t,r]=de.useState(()=>{try{const s=localStorage.getItem(n);if(s!==null)return JSON.parse(s)}catch{}return typeof e=="function"?e():e});return de.useEffect(()=>{try{localStorage.setItem(n,JSON.stringify(t))}catch{}},[n,t]),[t,r]}function IP(){const{user:n}=mg(),[e,t]=de.useState(!1),[r,s]=de.useState(null),o=de.useCallback(f=>{n?f():(s(()=>f),t(!0))},[n]),u=de.useCallback(()=>{t(!1),r&&setTimeout(()=>{r(),s(null)},100)},[r]),c=de.useCallback(()=>{t(!1),s(null)},[]);return{gate:o,showLogin:e,onLoginSuccess:u,onLoginClose:c}}const kP=[{name:"Basic Rate",lo:0,hi:37700,rate:.2},{name:"Higher Rate",lo:37700,hi:125140,rate:.4},{name:"Additional Rate",lo:125140,hi:1/0,rate:.45}],OP=[{name:"Starter Rate",lo:0,hi:2306,rate:.19},{name:"Basic Rate",lo:2306,hi:13991,rate:.2},{name:"Intermediate Rate",lo:13991,hi:31092,rate:.21},{name:"Higher Rate",lo:31092,hi:62430,rate:.42},{name:"Advanced Rate",lo:62430,hi:125140,rate:.45},{name:"Top Rate",lo:125140,hi:1/0,rate:.48}],Zp=12570,em=50270,DP=.08,PP=.02,o4=12570,l4=1e5;function MP(n){if(n<=l4)return o4;const e=Math.floor((n-l4)/2);return Math.max(0,o4-e)}function jP(n,e){let t=Math.max(0,n),r=0;const s=[];for(const o of e){const u=o.hi-o.lo,c=Math.min(t,u);if(c<=0){s.push({name:o.name,rate:`${(o.rate*100).toFixed(0)}%`,amount:0});continue}const f=c*o.rate;r+=f,s.push({name:o.name,rate:`${(o.rate*100).toFixed(0)}%`,amount:Math.round(f)}),t-=c}return{total:r,breakdown:s}}function UP(n){const e=[];let t=0;const r=Math.max(0,n-Zp),s=Math.min(r,em-Zp),o=Math.max(0,r-(em-Zp)),u=s*DP,c=o*PP;return t=u+c,e.push({name:`${S0(Zp)}${S0(em)}`,rate:"8%",amount:Math.round(u)}),o>0&&e.push({name:`Above ${S0(em)}`,rate:"2%",amount:Math.round(c)}),{total:t,breakdown:e}}function S0(n){return`${n.toLocaleString("en-GB")}`}function FP(n,e,t,r){const s=n*(t/100),o=Math.round(s+r),u=Math.max(0,n-o),c=MP(u),f=Math.max(0,u-c),d=e==="scotland"?OP:kP,{total:g,breakdown:w}=jP(f,d),{total:A,breakdown:b}=UP(u),M=Math.round(g+A),P=u-M;return{grossAnnual:n,pensionSacrifice:o,taxableIncome:Math.round(f),personalAllowance:c,incomeTax:Math.round(g),nationalInsurance:Math.round(A),totalDeductions:M,netAnnual:Math.round(P),netMonthly:Math.round(P/12),netWeekly:Math.round(P/52),effectiveRate:n>0?Math.round((g+A)/n*1e3)/10:0,taxBands:w,niBands:b}}function VP(){const{currency:n}=Ld(),e=Km(),{dispatch:t}=Xm(),[r,s]=LP("vf-take-home-pay",{version:1,salary:35e3,period:"annual",region:"england",salarySacrifice:!1,sacrificePct:0,sacrificeFixed:0,lastModified:new Date().toISOString()}),[o,u]=de.useState(!1),{gate:c,showLogin:f,onLoginSuccess:d,onLoginClose:g}=IP(),w=de.useCallback((P,U)=>{s(F=>({...F,[P]:U,lastModified:new Date().toISOString()}))},[s]),A=de.useMemo(()=>{switch(r.period){case"monthly":return r.salary*12;case"weekly":return r.salary*52;default:return r.salary}},[r.salary,r.period]),b=de.useMemo(()=>FP(A,r.region,r.salarySacrifice?r.sacrificePct:0,r.salarySacrifice?r.sacrificeFixed:0),[A,r.region,r.salarySacrifice,r.sacrificePct,r.sacrificeFixed]),M=()=>{t({type:"SET_INCOME",payload:b.netMonthly}),t({type:"SET_INCOME_FREQUENCY",payload:"monthly"}),e("/")};return B.jsxs("div",{className:"page-container",children:[f&&B.jsx(_A,{onClose:g,onSuccess:d}),B.jsxs("div",{className:"ps-page",children:[B.jsxs("div",{className:"thp-header",children:[B.jsx("h1",{className:"ps-page-title",children:"Take Home Pay"}),B.jsx("p",{className:"thp-subtitle",children:"See exactly what you'll take home after tax and National Insurance."})]}),B.jsxs("div",{className:"thp-layout",children:[B.jsxs("div",{className:"thp-left-col",children:[B.jsxs("div",{className:"ps-card thp-input-card",children:[B.jsxs("div",{className:"thp-row",children:[B.jsx("label",{className:"thp-label",children:"Tax Region"}),B.jsxs("div",{className:"thp-region-toggle",children:[B.jsx("button",{className:`thp-region-btn ${r.region==="england"?"thp-region-btn--active":""}`,onClick:()=>w("region","england"),children:" England"}),B.jsx("button",{className:`thp-region-btn ${r.region==="scotland"?"thp-region-btn--active":""}`,onClick:()=>w("region","scotland"),children:" Scotland"})]})]}),B.jsxs("div",{className:"thp-row",children:[B.jsx("label",{className:"thp-label",children:"Salary"}),B.jsxs("div",{className:"thp-salary-row",children:[B.jsx("span",{className:"thp-currency",children:n.symbol}),B.jsx("input",{className:"thp-salary-input",type:"text",inputMode:"numeric",value:r.salary||"",onChange:P=>{const U=Number(P.target.value.replace(/,/g,""));isNaN(U)||w("salary",U)},placeholder:"35,000"}),B.jsx("div",{className:"thp-period-toggle",children:["annual","monthly","weekly"].map(P=>B.jsx("button",{className:`thp-period-btn ${r.period===P?"thp-period-btn--active":""}`,onClick:()=>w("period",P),children:P==="annual"?"Year":P==="monthly"?"Month":"Week"},P))})]})]}),B.jsxs("div",{className:"thp-row thp-row--sacrifice",children:[B.jsxs("label",{className:"thp-sacrifice-label",children:[B.jsx("input",{type:"checkbox",className:"thp-checkbox",checked:r.salarySacrifice,onChange:P=>w("salarySacrifice",P.target.checked)}),B.jsx("span",{children:"Salary Sacrifice"})]}),r.salarySacrifice&&B.jsxs("div",{className:"thp-sacrifice-inputs",children:[B.jsxs("div",{className:"thp-sacrifice-field",children:[B.jsx("label",{className:"thp-sacrifice-field-label",children:"Percentage"}),B.jsxs("div",{className:"thp-sacrifice-input-wrap",children:[B.jsx("input",{className:"thp-sacrifice-input",type:"text",inputMode:"numeric",value:r.sacrificePct||"",onChange:P=>{const U=Number(P.target.value);!isNaN(U)&&U>=0&&U<=100&&w("sacrificePct",U)},placeholder:"5"}),B.jsx("span",{className:"thp-sacrifice-unit",children:"%"})]})]}),B.jsx("span",{className:"thp-sacrifice-or",children:"or"}),B.jsxs("div",{className:"thp-sacrifice-field",children:[B.jsx("label",{className:"thp-sacrifice-field-label",children:"Fixed amount (annual)"}),B.jsxs("div",{className:"thp-sacrifice-input-wrap",children:[B.jsx("span",{className:"thp-sacrifice-unit",children:n.symbol}),B.jsx("input",{className:"thp-sacrifice-input",type:"text",inputMode:"numeric",value:r.sacrificeFixed||"",onChange:P=>{const U=Number(P.target.value.replace(/,/g,""));isNaN(U)||w("sacrificeFixed",U)},placeholder:"0"})]})]})]})]})]}),B.jsxs("div",{className:"ps-card thp-breakdown-card",children:[B.jsxs("button",{className:"thp-breakdown-toggle",onClick:()=>u(!o),children:[B.jsx("span",{children:"Tax & NI Breakdown"}),B.jsx("span",{className:`thp-breakdown-chevron ${o?"thp-breakdown-chevron--open":""}`,children:""})]}),o&&B.jsxs("div",{className:"thp-breakdown",children:[B.jsxs("div",{className:"thp-breakdown-section",children:[B.jsxs("h4",{className:"thp-breakdown-heading",children:["Income Tax (",r.region==="scotland"?"Scotland":"England",")"]}),B.jsxs("div",{className:"thp-breakdown-grid",children:[B.jsx("span",{className:"thp-breakdown-cell thp-breakdown-cell--head",children:"Band"}),B.jsx("span",{className:"thp-breakdown-cell thp-breakdown-cell--head",children:"Rate"}),B.jsx("span",{className:"thp-breakdown-cell thp-breakdown-cell--head",style:{textAlign:"right"},children:"Tax"}),b.taxBands.map(P=>B.jsxs("div",{className:"thp-breakdown-band",children:[B.jsx("span",{className:"thp-breakdown-cell",children:P.name}),B.jsx("span",{className:"thp-breakdown-cell",children:P.rate}),B.jsx("span",{className:"thp-breakdown-cell",style:{textAlign:"right"},children:br(P.amount,n.code)})]},P.name))]}),B.jsxs("div",{className:"thp-breakdown-total",children:[B.jsx("span",{children:"Total Income Tax"}),B.jsx("span",{children:br(b.incomeTax,n.code)})]})]}),B.jsxs("div",{className:"thp-breakdown-section",children:[B.jsx("h4",{className:"thp-breakdown-heading",children:"National Insurance (Class 1)"}),B.jsxs("div",{className:"thp-breakdown-grid",children:[B.jsx("span",{className:"thp-breakdown-cell thp-breakdown-cell--head",children:"Earnings Band"}),B.jsx("span",{className:"thp-breakdown-cell thp-breakdown-cell--head",children:"Rate"}),B.jsx("span",{className:"thp-breakdown-cell thp-breakdown-cell--head",style:{textAlign:"right"},children:"NI"}),b.niBands.map(P=>B.jsxs("div",{className:"thp-breakdown-band",children:[B.jsx("span",{className:"thp-breakdown-cell",children:P.name}),B.jsx("span",{className:"thp-breakdown-cell",children:P.rate}),B.jsx("span",{className:"thp-breakdown-cell",style:{textAlign:"right"},children:br(P.amount,n.code)})]},P.name))]}),B.jsxs("div",{className:"thp-breakdown-total",children:[B.jsx("span",{children:"Total NI"}),B.jsx("span",{children:br(b.nationalInsurance,n.code)})]})]}),B.jsxs("div",{className:"thp-breakdown-section",children:[B.jsx("h4",{className:"thp-breakdown-heading",children:"Summary"}),B.jsxs("div",{className:"thp-summary-rows",children:[B.jsxs("div",{className:"thp-summary-row",children:[B.jsx("span",{children:"Gross Salary"}),B.jsx("span",{children:br(b.grossAnnual,n.code)})]}),b.pensionSacrifice>0&&B.jsxs("div",{className:"thp-summary-row",children:[B.jsx("span",{children:"Salary Sacrifice"}),B.jsxs("span",{className:"thp-kpi-value--sac",children:["",br(b.pensionSacrifice,n.code)]})]}),B.jsxs("div",{className:"thp-summary-row",children:[B.jsx("span",{children:"Personal Allowance"}),B.jsx("span",{children:br(b.personalAllowance,n.code)})]}),B.jsxs("div",{className:"thp-summary-row",children:[B.jsx("span",{children:"Income Tax"}),B.jsxs("span",{className:"thp-kpi-value--tax",children:["",br(b.incomeTax,n.code)]})]}),B.jsxs("div",{className:"thp-summary-row",children:[B.jsx("span",{children:"National Insurance"}),B.jsxs("span",{className:"thp-kpi-value--ni",children:["",br(b.nationalInsurance,n.code)]})]}),B.jsxs("div",{className:"thp-summary-row thp-summary-row--total",children:[B.jsx("span",{children:"Net Annual Pay"}),B.jsx("span",{children:br(b.netAnnual,n.code)})]})]})]})]})]})]}),B.jsxs("div",{className:"ps-card thp-result-card",children:[B.jsxs("div",{className:"thp-result-hero",children:[B.jsx("span",{className:"thp-result-label",children:"Your Monthly Take Home Pay"}),B.jsx("span",{className:"thp-result-amount",children:br(b.netMonthly,n.code)}),B.jsxs("span",{className:"thp-result-sub",children:[br(b.netAnnual,n.code),"/year  ",br(b.netWeekly,n.code),"/week"]})]}),B.jsxs("div",{className:"thp-kpi-row",children:[B.jsxs("div",{className:"thp-kpi",children:[B.jsx("span",{className:"thp-kpi-label",children:"Income Tax"}),B.jsx("span",{className:"thp-kpi-value thp-kpi-value--tax",children:br(b.incomeTax,n.code)})]}),B.jsxs("div",{className:"thp-kpi",children:[B.jsx("span",{className:"thp-kpi-label",children:"National Insurance"}),B.jsx("span",{className:"thp-kpi-value thp-kpi-value--ni",children:br(b.nationalInsurance,n.code)})]}),B.jsxs("div",{className:"thp-kpi",children:[B.jsx("span",{className:"thp-kpi-label",children:"Effective Rate"}),B.jsxs("span",{className:"thp-kpi-value",children:[b.effectiveRate,"%"]})]}),b.pensionSacrifice>0&&B.jsxs("div",{className:"thp-kpi",children:[B.jsx("span",{className:"thp-kpi-label",children:"Salary Sacrifice"}),B.jsx("span",{className:"thp-kpi-value thp-kpi-value--sac",children:br(b.pensionSacrifice,n.code)})]})]}),B.jsxs("div",{className:"thp-actions",children:[B.jsx("button",{className:"thp-cta",onClick:M,children:"See how much you can save "}),B.jsxs("button",{className:"thp-export-btn",onClick:()=>c(()=>RP(b,r.region,n.symbol)),children:[B.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[B.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),B.jsx("polyline",{points:"7 10 12 15 17 10"}),B.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),"Export PDF Report"]})]})]})]})]})]})}const BP=de.lazy(()=>Fu(()=>import("./CompoundInterestPage-BriK-YQs.js"),__vite__mapDeps([0,1,2])).then(n=>({default:n.CompoundInterestPage}))),zP=de.lazy(()=>Fu(()=>import("./NetWorthPage-CrcIKgaD.js"),__vite__mapDeps([3,1,4])).then(n=>({default:n.NetWorthPage}))),qP=de.lazy(()=>Fu(()=>import("./PortfolioSimulatorPage-MDoTRi-m.js"),__vite__mapDeps([5,6,1,4,2])).then(n=>({default:n.PortfolioSimulatorPage}))),HP=de.lazy(()=>Fu(()=>import("./ReportsPage-DyY_iHaK.js"),__vite__mapDeps([7,6])).then(n=>({default:n.ReportsPage}))),GP=de.lazy(()=>Fu(()=>import("./SettingsPage-PMbIV4j4.js"),[]).then(n=>({default:n.SettingsPage})));function Yf({children:n}){return B.jsx(de.Suspense,{fallback:B.jsx(Hk,{}),children:n})}const $P=QT([{element:B.jsx(qk,{}),children:[{path:"/",element:B.jsx(UO,{})},{path:"/compound-interest",element:B.jsx(Yf,{children:B.jsx(BP,{})})},{path:"/take-home-pay",element:B.jsx(VP,{})},{path:"/net-worth",element:B.jsx(Yf,{children:B.jsx(zP,{})})},{path:"/retirement",element:B.jsx(xT,{to:"/",replace:!0})},{path:"/portfolio",element:B.jsx(Yf,{children:B.jsx(qP,{})})},{path:"/reports",element:B.jsx(Yf,{children:B.jsx(HP,{})})},{path:"/settings",element:B.jsx(Yf,{children:B.jsx(GP,{})})}]}]);function YP(){return B.jsx(hN,{children:B.jsx(pN,{children:B.jsx(_N,{children:B.jsx(jk,{children:B.jsx(uN,{router:$P})})})})})}M6.createRoot(document.getElementById("root")).render(B.jsx(de.StrictMode,{children:B.jsx(YP,{})}));export{zt as E,_A as L,L6 as R,_r as _,IP as a,mg as b,LP as c,Km as d,JP as e,br as f,ZP as g,eM as h,lN as i,B as j,x6 as k,tM as l,f2 as m,Hk as n,fN as o,WP as p,de as r,nM as s,Ld as u};

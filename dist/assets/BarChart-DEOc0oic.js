import{r as o,h as We}from"./index-CDFVORZf.js";import{A as ne,I as Ie,a5 as ie,aD as $e,aE as Re,G as W,aF as Ge,aG as Ue,aH as Ve,aI as He,aJ as Ze,aK as qe,af as Ee,aL as Xe,aM as ve,aN as Ye,aO as Je,aP as Z,a9 as Q,az as ee,aQ as Qe,Q as fe,a6 as et,c as z,z as tt,aR as rt,n as T,aS as at,aT as L,aU as K,aV as M,aW as _,aX as Ae,aY as ke,aZ as we,a_ as nt,a$ as it,b0 as pe,b1 as ot,b2 as me,b3 as lt,L as G,b4 as st,D as oe,aq as Se,E as ut,b5 as ct,b6 as dt,Z as le,y as Be,K as vt,b7 as ft,b8 as pt,b9 as mt,F as ht,J as gt,h as je,ba as yt,bb as bt,bc as xt,bd as he,W as Ce,a0 as De,a1 as ze,a2 as Le,ab as Pt,M as Ot,N as It,P as D,a7 as Et,be as At,B as kt,_ as wt,bf as St,U as ge,bg as Bt,am as jt}from"./CartesianChart-DVpsVK-o.js";function U(){return U=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},U.apply(null,arguments)}function ye(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function Ct(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ye(Object(r),!0).forEach(function(a){Dt(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ye(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Dt(e,t,r){return(t=zt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zt(e){var t=Lt(e,"string");return typeof t=="symbol"?t:t+""}function Lt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var w=32,Mt={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function Kt(e){var{data:t,iconType:r,inactiveColor:a}=e,n=w/2,i=w/6,l=w/3,s=t.inactive?a:t.color,d=r??t.type;if(d==="none")return null;if(d==="plainline"){var u;return o.createElement("line",{strokeWidth:4,fill:"none",stroke:s,strokeDasharray:(u=t.payload)===null||u===void 0?void 0:u.strokeDasharray,x1:0,y1:n,x2:w,y2:n,className:"recharts-legend-icon"})}if(d==="line")return o.createElement("path",{strokeWidth:4,fill:"none",stroke:s,d:"M0,".concat(n,"h").concat(l,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*l,",").concat(n,`
            H`).concat(w,"M").concat(2*l,",").concat(n,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(l,",").concat(n),className:"recharts-legend-icon"});if(d==="rect")return o.createElement("path",{stroke:"none",fill:s,d:"M0,".concat(w/8,"h").concat(w,"v").concat(w*3/4,"h").concat(-w,"z"),className:"recharts-legend-icon"});if(o.isValidElement(t.legendIcon)){var c=Ct({},t);return delete c.legendIcon,o.cloneElement(t.legendIcon,c)}return o.createElement(Re,{fill:s,cx:n,cy:n,size:w,sizeType:"diameter",type:d})}function _t(e){var{payload:t,iconSize:r,layout:a,formatter:n,inactiveColor:i,iconType:l}=e,s={x:0,y:0,width:w,height:w},d={display:a==="horizontal"?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((c,v)=>{var f=c.formatter||n,y=Ie({"recharts-legend-item":!0,["legend-item-".concat(v)]:!0,inactive:c.inactive});if(c.type==="none")return null;var m=c.inactive?i:c.color,h=f?f(c.value,c,v):c.value;return o.createElement("li",U({className:y,style:d,key:"legend-item-".concat(v)},ie(e,c,v)),o.createElement($e,{width:r,height:r,viewBox:s,style:u,"aria-label":"".concat(h," legend icon")},o.createElement(Kt,{data:c,iconType:l,inactiveColor:i})),o.createElement("span",{className:"recharts-legend-item-text",style:{color:m}},h))})}var Nt=e=>{var t=ne(e,Mt),{payload:r,layout:a,align:n}=t;if(!r||!r.length)return null;var i={padding:0,margin:0,textAlign:a==="horizontal"?n:"left"};return o.createElement("ul",{className:"recharts-default-legend",style:i},o.createElement(_t,U({},t,{payload:r})))};function Tt(){return W(Ge)}var Ft=["contextPayload"];function te(){return te=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},te.apply(null,arguments)}function be(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function N(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?be(Object(r),!0).forEach(function(a){Wt(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):be(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Wt(e,t,r){return(t=$t(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $t(e){var t=Rt(e,"string");return typeof t=="symbol"?t:t+""}function Rt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gt(e,t){if(e==null)return{};var r,a,n=Ut(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Ut(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}function Vt(e){return e.value}function Ht(e){var{contextPayload:t}=e,r=Gt(e,Ft),a=Ye(t,e.payloadUniqBy,Vt),n=N(N({},r),{},{payload:a});return o.isValidElement(e.content)?o.cloneElement(e.content,n):typeof e.content=="function"?o.createElement(e.content,n):o.createElement(Nt,n)}function Zt(e,t,r,a,n,i){var{layout:l,align:s,verticalAlign:d}=t,u,c;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(s==="center"&&l==="vertical"?u={left:((a||0)-i.width)/2}:u=s==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(d==="middle"?c={top:((n||0)-i.height)/2}:c=d==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),N(N({},u),c)}function qt(e){var t=Ee();return o.useEffect(()=>{t(Xe(e))},[t,e]),null}function Xt(e){var t=Ee();return o.useEffect(()=>(t(ve(e)),()=>{t(ve({width:0,height:0}))}),[t,e]),null}function Yt(e,t,r,a){return e==="vertical"&&t!=null?{height:t}:e==="horizontal"?{width:r||a}:null}var Jt={align:"center",iconSize:14,inactiveColor:"#ccc",itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function Qt(e){var t=ne(e,Jt),r=Tt(),a=Ue(),n=Ve(),{width:i,height:l,wrapperStyle:s,portal:d}=t,[u,c]=He([r]),v=Ze(),f=qe();if(v==null||f==null)return null;var y=v-((n==null?void 0:n.left)||0)-((n==null?void 0:n.right)||0),m=Yt(t.layout,l,i,y),h=d?s:N(N({position:"absolute",width:(m==null?void 0:m.width)||i||"auto",height:(m==null?void 0:m.height)||l||"auto"},Zt(s,t,n,v,f,u)),s),x=d??a;if(x==null||r==null)return null;var p=o.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:c},o.createElement(qt,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!d&&o.createElement(Xt,{width:u.width,height:u.height}),o.createElement(Ht,te({},t,m,{margin:n,chartWidth:v,chartHeight:f,contextPayload:r})));return We.createPortal(p,x)}Qt.displayName="Legend";var xe=(e,t,r)=>{var a=r??e;if(!Z(a))return Q(a,t,0)},er=(e,t,r)=>{var a={},n=e.filter(Je),i=e.filter(u=>u.stackId==null),l=n.reduce((u,c)=>{var v=u[c.stackId];return v==null&&(v=[]),v.push(c),u[c.stackId]=v,u},a),s=Object.entries(l).map(u=>{var c,[v,f]=u,y=f.map(h=>h.dataKey),m=xe(t,r,(c=f[0])===null||c===void 0?void 0:c.barSize);return{stackId:v,dataKeys:y,barSize:m}}),d=i.map(u=>{var c=[u.dataKey].filter(f=>f!=null),v=xe(t,r,u.barSize);return{stackId:void 0,dataKeys:c,barSize:v}});return[...s,...d]};function Pe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function R(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Pe(Object(r),!0).forEach(function(a){tr(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pe(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function tr(e,t,r){return(t=rr(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rr(e){var t=ar(e,"string");return typeof t=="symbol"?t:t+""}function ar(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nr(e,t,r,a,n){var i,l=a.length;if(!(l<1)){var s=Q(e,r,0,!0),d,u=[];if(ee((i=a[0])===null||i===void 0?void 0:i.barSize)){var c=!1,v=r/l,f=a.reduce((g,O)=>g+(O.barSize||0),0);f+=(l-1)*s,f>=r&&(f-=(l-1)*s,s=0),f>=r&&v>0&&(c=!0,v*=.9,f=l*v);var y=(r-f)/2>>0,m={offset:y-s,size:0};d=a.reduce((g,O)=>{var b,E={stackId:O.stackId,dataKeys:O.dataKeys,position:{offset:m.offset+m.size+s,size:c?v:(b=O.barSize)!==null&&b!==void 0?b:0}},P=[...g,E];return m=E.position,P},u)}else{var h=Q(t,r,0,!0);r-2*h-(l-1)*s<=0&&(s=0);var x=(r-2*h-(l-1)*s)/l;x>1&&(x>>=0);var p=ee(n)?Math.min(x,n):x;d=a.reduce((g,O,b)=>[...g,{stackId:O.stackId,dataKeys:O.dataKeys,position:{offset:h+(x+s)*b+(x-p)/2,size:p}}],u)}return d}}var ir=(e,t,r,a,n,i,l)=>{var s=Z(l)?t:l,d=nr(r,a,n!==i?n:i,e,s);return n!==i&&d!=null&&(d=d.map(u=>R(R({},u),{},{position:R(R({},u.position),{},{offset:u.position.offset-n/2})}))),d},or=(e,t)=>{var r=Qe(t);if(!(!e||r==null||t==null)){var{stackId:a}=t;if(a!=null){var n=e[a];if(n){var{stackedData:i}=n;if(i)return i.find(l=>l.key===r)}}}},lr=(e,t)=>{if(!(e==null||t==null)){var r=e.find(a=>a.stackId===t.stackId&&t.dataKey!=null&&a.dataKeys.includes(t.dataKey));if(r!=null)return r.position}};function sr(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&ee(e.zIndex)?e.zIndex:t}var ur=["children"];function cr(e,t){if(e==null)return{};var r,a,n=dr(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function dr(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var vr={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},fr=o.createContext(vr);function pr(e){var{children:t}=e,r=cr(e,ur);return o.createElement(fr.Provider,{value:r},t)}var mr="Invariant failed";function hr(e,t){throw new Error(mr)}function re(){return re=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},re.apply(null,arguments)}function V(e){return o.createElement(et,re({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var gr=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(a,n)=>{if(fe(t))return t;var i=fe(a)||Z(a);return i?t(a,n):(i||hr(),r)}},yr=(e,t,r)=>r,br=(e,t)=>t,$=z([ke,br],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),xr=z([$],e=>e==null?void 0:e.maxBarSize),Pr=(e,t,r,a)=>a,Or=z([T,ke,L,M,yr],(e,t,r,a,n)=>t.filter(i=>e==="horizontal"?i.xAxisId===r:i.yAxisId===a).filter(i=>i.isPanorama===n).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),Ir=(e,t,r)=>{var a=T(e),n=L(e,t),i=M(e,t);if(!(n==null||i==null))return a==="horizontal"?pe(e,"yAxis",i,r):pe(e,"xAxis",n,r)},Er=(e,t)=>{var r=T(e),a=L(e,t),n=M(e,t);if(!(a==null||n==null))return r==="horizontal"?me(e,"xAxis",a):me(e,"yAxis",n)},Ar=z([Or,ot,Er],er),kr=(e,t,r)=>{var a,n,i=$(e,t);if(i==null)return 0;var l=L(e,t),s=M(e,t);if(l==null||s==null)return 0;var d=T(e),u=we(e),{maxBarSize:c}=i,v=Z(c)?u:c,f,y;return d==="horizontal"?(f=K(e,"xAxis",l,r),y=_(e,"xAxis",l,r)):(f=K(e,"yAxis",s,r),y=_(e,"yAxis",s,r)),(a=(n=Ae(f,y,!0))!==null&&n!==void 0?n:v)!==null&&a!==void 0?a:0},Me=(e,t,r)=>{var a=T(e),n=L(e,t),i=M(e,t);if(!(n==null||i==null)){var l,s;return a==="horizontal"?(l=K(e,"xAxis",n,r),s=_(e,"xAxis",n,r)):(l=K(e,"yAxis",i,r),s=_(e,"yAxis",i,r)),Ae(l,s)}},wr=z([Ar,we,nt,it,kr,Me,xr],ir),Sr=(e,t,r)=>{var a=L(e,t);if(a!=null)return K(e,"xAxis",a,r)},Br=(e,t,r)=>{var a=M(e,t);if(a!=null)return K(e,"yAxis",a,r)},jr=(e,t,r)=>{var a=L(e,t);if(a!=null)return _(e,"xAxis",a,r)},Cr=(e,t,r)=>{var a=M(e,t);if(a!=null)return _(e,"yAxis",a,r)},Dr=z([wr,$],lr),zr=z([Ir,$],or),Lr=z([tt,rt,Sr,Br,jr,Cr,Dr,T,at,Me,zr,$,Pr],(e,t,r,a,n,i,l,s,d,u,c,v,f)=>{var{chartData:y,dataStartIndex:m,dataEndIndex:h}=d;if(!(v==null||l==null||t==null||s!=="horizontal"&&s!=="vertical"||r==null||a==null||n==null||i==null||u==null)){var{data:x}=v,p;if(x!=null&&x.length>0?p=x:p=y==null?void 0:y.slice(m,h+1),p!=null)return sa({layout:s,barSettings:v,pos:l,parentViewBox:t,bandSize:u,xAxis:r,yAxis:a,xAxisTicks:n,yAxisTicks:i,stackedData:c,displayedData:p,offset:e,cells:f,dataStartIndex:m})}}),Mr=["index"];function ae(){return ae=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},ae.apply(null,arguments)}function Kr(e,t){if(e==null)return{};var r,a,n=_r(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function _r(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var Ke=o.createContext(void 0),Nr=e=>{var t=o.useContext(Ke);if(t!=null)return t.stackId;if(e!=null)return lt(e)},Tr=(e,t)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(t),Fr=e=>{var t=o.useContext(Ke);if(t!=null){var{stackId:r}=t;return"url(#".concat(Tr(r,e),")")}},_e=e=>{var{index:t}=e,r=Kr(e,Mr),a=Fr(t);return o.createElement(G,ae({className:"recharts-bar-stack-layer",clipPath:a},r))},Wr=["onMouseEnter","onMouseLeave","onClick"],$r=["value","background","tooltipPosition"],Rr=["id"],Gr=["onMouseEnter","onClick","onMouseLeave"];function j(){return j=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},j.apply(null,arguments)}function Oe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function I(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Oe(Object(r),!0).forEach(function(a){Ur(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Oe(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Ur(e,t,r){return(t=Vr(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vr(e){var t=Hr(e,"string");return typeof t=="symbol"?t:t+""}function Hr(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function H(e,t){if(e==null)return{};var r,a,n=Zr(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Zr(e,t){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)!==-1)continue;r[a]=e[a]}return r}var qr=e=>{var{dataKey:t,name:r,fill:a,legendType:n,hide:i}=e;return[{inactive:i,dataKey:t,type:n,color:a,value:Be(r,t),payload:e}]},Xr=o.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:a,fill:n,name:i,hide:l,unit:s,tooltipType:d,id:u}=e,c={dataDefinedOnItem:void 0,getPosition:ft,settings:{stroke:r,strokeWidth:a,fill:n,dataKey:t,nameKey:void 0,name:Be(i,t),hide:l,type:d,color:n,unit:s,graphicalItemId:u}};return o.createElement(vt,{tooltipEntrySettings:c})});function Yr(e){var t=W(Ce),{data:r,dataKey:a,background:n,allOtherBarProps:i}=e,{onMouseEnter:l,onMouseLeave:s,onClick:d}=i,u=H(i,Wr),c=De(l,a,i.id),v=ze(s),f=Le(d,a,i.id);if(!n||r==null)return null;var y=Pt(n);return o.createElement(le,{zIndex:sr(n,oe.barBackground)},r.map((m,h)=>{var{value:x,background:p,tooltipPosition:g}=m,O=H(m,$r);if(!p)return null;var b=c(m,h),E=v(m,h),P=f(m,h),S=I(I(I(I(I({option:n,isActive:String(h)===t},O),{},{fill:"#eee"},p),y),ie(u,m,h)),{},{onMouseEnter:b,onMouseLeave:E,onClick:P,dataKey:a,index:h,className:"recharts-bar-background-rectangle"});return o.createElement(V,j({key:"background-bar-".concat(h)},S))}))}function Jr(e){var{showLabels:t,children:r,rects:a}=e,n=a==null?void 0:a.map(i=>{var l={x:i.x,y:i.y,width:i.width,lowerWidth:i.width,upperWidth:i.width,height:i.height};return I(I({},l),{},{value:i.value,payload:i.payload,parentViewBox:i.parentViewBox,viewBox:l,fill:i.fill})});return o.createElement(At,{value:t?n:void 0},r)}function Qr(e){var{shape:t,activeBar:r,baseProps:a,entry:n,index:i,dataKey:l}=e,s=W(Ce),d=W(wt),u=r&&String(i)===s&&(d==null||l===d),c=u?r:t;return u?o.createElement(le,{zIndex:oe.activeBar},o.createElement(_e,{index:i},o.createElement(V,j({},a,{name:String(a.name)},n,{isActive:u,option:c,index:i,dataKey:l})))):o.createElement(V,j({},a,{name:String(a.name)},n,{isActive:u,option:c,index:i,dataKey:l}))}function ea(e){var{shape:t,baseProps:r,entry:a,index:n,dataKey:i}=e;return o.createElement(V,j({},r,{name:String(r.name)},a,{isActive:!1,option:t,index:n,dataKey:i}))}function ta(e){var t,{data:r,props:a}=e,n=(t=kt(a))!==null&&t!==void 0?t:{},{id:i}=n,l=H(n,Rr),{shape:s,dataKey:d,activeBar:u}=a,{onMouseEnter:c,onClick:v,onMouseLeave:f}=a,y=H(a,Gr),m=De(c,d,i),h=ze(f),x=Le(v,d,i);return r?o.createElement(o.Fragment,null,r.map((p,g)=>o.createElement(_e,j({index:g,key:"rectangle-".concat(p==null?void 0:p.x,"-").concat(p==null?void 0:p.y,"-").concat(p==null?void 0:p.value,"-").concat(g),className:"recharts-bar-rectangle"},ie(y,p,g),{onMouseEnter:m(p,g),onMouseLeave:h(p,g),onClick:x(p,g)}),u?o.createElement(Qr,{shape:s,activeBar:u,baseProps:l,entry:p,index:g,dataKey:d}):o.createElement(ea,{shape:s,baseProps:l,entry:p,index:g,dataKey:d})))):null}function ra(e){var{props:t,previousRectanglesRef:r}=e,{data:a,layout:n,isAnimationActive:i,animationBegin:l,animationDuration:s,animationEasing:d,onAnimationEnd:u,onAnimationStart:c}=t,v=r.current,f=Ot(t,"recharts-bar-"),[y,m]=o.useState(!1),h=!y,x=o.useCallback(()=>{typeof u=="function"&&u(),m(!1)},[u]),p=o.useCallback(()=>{typeof c=="function"&&c(),m(!0)},[c]);return o.createElement(Jr,{showLabels:h,rects:a},o.createElement(It,{animationId:f,begin:l,duration:s,isActive:i,easing:d,onAnimationEnd:x,onAnimationStart:p,key:f},g=>{var O=g===1?a:a==null?void 0:a.map((b,E)=>{var P=v&&v[E];if(P)return I(I({},b),{},{x:D(P.x,b.x,g),y:D(P.y,b.y,g),width:D(P.width,b.width,g),height:D(P.height,b.height,g)});if(n==="horizontal"){var S=D(0,b.height,g),B=D(b.stackedBarStart,b.y,g);return I(I({},b),{},{y:B,height:S})}var A=D(0,b.width,g),k=D(b.stackedBarStart,b.x,g);return I(I({},b),{},{width:A,x:k})});return g>0&&(r.current=O??null),O==null?null:o.createElement(G,null,o.createElement(ta,{props:t,data:O}))}),o.createElement(Et,{label:t.label}),t.children)}function aa(e){var t=o.useRef(null);return o.createElement(ra,{previousRectanglesRef:t,props:e})}var Ne=0,na=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:je(e,t)}};class ia extends o.PureComponent{render(){var{hide:t,data:r,dataKey:a,className:n,xAxisId:i,yAxisId:l,needClip:s,background:d,id:u}=this.props;if(t||r==null)return null;var c=Ie("recharts-bar",n),v=u;return o.createElement(G,{className:c,id:u},s&&o.createElement("defs",null,o.createElement(yt,{clipPathId:v,xAxisId:i,yAxisId:l})),o.createElement(G,{className:"recharts-bar-rectangles",clipPath:s?"url(#clipPath-".concat(v,")"):void 0},o.createElement(Yr,{data:r,dataKey:a,background:d,allOtherBarProps:this.props}),o.createElement(aa,this.props)))}}var oa={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:Ne,xAxisId:0,yAxisId:0,zIndex:oe.bar};function la(e){var{xAxisId:t,yAxisId:r,hide:a,legendType:n,minPointSize:i,activeBar:l,animationBegin:s,animationDuration:d,animationEasing:u,isAnimationActive:c}=e,{needClip:v}=pt(t,r),f=mt(),y=Se(),m=ht(e.children,gt),h=W(g=>Lr(g,e.id,y,m));if(f!=="vertical"&&f!=="horizontal")return null;var x,p=h==null?void 0:h[0];return p==null||p.height==null||p.width==null?x=0:x=f==="vertical"?p.height/2:p.width/2,o.createElement(pr,{xAxisId:t,yAxisId:r,data:h,dataPointFormatter:na,errorBarOffset:x},o.createElement(ia,j({},e,{layout:f,needClip:v,data:h,xAxisId:t,yAxisId:r,hide:a,legendType:n,minPointSize:i,activeBar:l,animationBegin:s,animationDuration:d,animationEasing:u,isAnimationActive:c})))}function sa(e){var{layout:t,barSettings:{dataKey:r,minPointSize:a},pos:n,bandSize:i,xAxis:l,yAxis:s,xAxisTicks:d,yAxisTicks:u,stackedData:c,displayedData:v,offset:f,cells:y,parentViewBox:m,dataStartIndex:h}=e,x=t==="horizontal"?s:l,p=c?x.scale.domain():null,g=bt({numericAxis:x}),O=x.scale.map(g);return v.map((b,E)=>{var P,S,B,A,k,q;if(c){var se=c[E+h];if(se==null)return null;P=xt(se,p)}else P=je(b,r),Array.isArray(P)||(P=[g,P]);var C=gr(a,Ne)(P[1],E);if(t==="horizontal"){var X,Y=s.scale.map(P[0]),F=s.scale.map(P[1]);if(Y==null||F==null)return null;S=he({axis:l,ticks:d,bandSize:i,offset:n.offset,entry:b,index:E}),B=(X=F??Y)!==null&&X!==void 0?X:void 0,A=n.size;var ue=Y-F;if(k=St(ue)?0:ue,q={x:S,y:f.top,width:A,height:f.height},Math.abs(C)>0&&Math.abs(k)<Math.abs(C)){var ce=ge(k||C)*(Math.abs(C)-Math.abs(k));B-=ce,k+=ce}}else{var J=l.scale.map(P[0]),de=l.scale.map(P[1]);if(J==null||de==null)return null;if(S=J,B=he({axis:s,ticks:u,bandSize:i,offset:n.offset,entry:b,index:E}),A=de-J,k=n.size,q={x:f.left,y:B,width:f.width,height:k},Math.abs(C)>0&&Math.abs(A)<Math.abs(C)){var Te=ge(A||C)*(Math.abs(C)-Math.abs(A));A+=Te}}if(S==null||B==null||A==null||k==null)return null;var Fe=I(I({},b),{},{stackedBarStart:O,x:S,y:B,width:A,height:k,value:c?P:P[1],payload:b,background:q,tooltipPosition:{x:S+A/2,y:B+k/2},parentViewBox:m},y&&y[E]&&y[E].props);return Fe}).filter(Boolean)}function ua(e){var t=ne(e,oa),r=Nr(t.stackId),a=Se();return o.createElement(ut,{id:t.id,type:"bar"},n=>o.createElement(o.Fragment,null,o.createElement(ct,{legendPayload:qr(t)}),o.createElement(Xr,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:n}),o.createElement(dt,{type:"bar",id:n,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:r,hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:a}),o.createElement(le,{zIndex:t.zIndex},o.createElement(la,j({},t,{id:n})))))}var ca=o.memo(ua,st);ca.displayName="Bar";var da=["axis","item"],pa=o.forwardRef((e,t)=>o.createElement(Bt,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:da,tooltipPayloadSearcher:jt,categoricalChartProps:e,ref:t}));export{pa as B,Qt as L,ca as a};
